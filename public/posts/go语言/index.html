<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Go语言 | 项目介绍</title>
<meta name="keywords" content="go">
<meta name="description" content="go的变量声明

第一种，指定变量类型，如果没有初始化，则变量默认为零值。

例如：

var a int   // 声明一个整型变量 a，默认为 0
var b float64 // 声明一个浮点型变量 b，默认为 0.0

第二种，根据值自行判定变量类型。

例如：">
<meta name="author" content="steamdk">
<link rel="canonical" href="//localhost:1313/posts/go%E8%AF%AD%E8%A8%80/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.0dacc8c7e73304b031a6a2212c5729fafb119196b4d02d3b299eb05a4bd0b2a9.css" integrity="sha256-DazIx&#43;czBLAxpqIhLFcp&#43;vsRkZa00C07KZ6wWkvQsqk=" rel="preload stylesheet" as="style">
<link rel="icon" href="//localhost:1313/favicon.svg">
<link rel="icon" type="image/png" sizes="16x16" href="//localhost:1313/favicon.svg">
<link rel="icon" type="image/png" sizes="32x32" href="//localhost:1313/favicon.svg">
<link rel="apple-touch-icon" href="//localhost:1313/favicon.svg">
<link rel="mask-icon" href="//localhost:1313/favicon.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh" href="//localhost:1313/posts/go%E8%AF%AD%E8%A8%80/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript><link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap" rel="stylesheet">





<script type="text/javascript"
        async
        src="https://cdn.bootcss.com/mathjax/2.7.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[\[','\]\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});

MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
});
</script>

<style>
code.has-jax {
    font: inherit;
    font-size: 100%;
    background: inherit;
    border: inherit;
    color: #515151;
}
</style><meta property="og:url" content="//localhost:1313/posts/go%E8%AF%AD%E8%A8%80/">
  <meta property="og:site_name" content="项目介绍">
  <meta property="og:title" content="Go语言">
  <meta property="og:description" content="go的变量声明 第一种，指定变量类型，如果没有初始化，则变量默认为零值。 例如：
var a int // 声明一个整型变量 a，默认为 0 var b float64 // 声明一个浮点型变量 b，默认为 0.0 第二种，根据值自行判定变量类型。 例如：">
  <meta property="og:locale" content="zh">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-09-09T21:55:24+08:00">
    <meta property="article:modified_time" content="2024-09-09T21:55:24+08:00">
    <meta property="article:tag" content="Go">
      <meta property="og:image" content="https://i.postimg.cc/7hwBy7VS/calcr.png">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://i.postimg.cc/7hwBy7VS/calcr.png">
<meta name="twitter:title" content="Go语言">
<meta name="twitter:description" content="go的变量声明

第一种，指定变量类型，如果没有初始化，则变量默认为零值。

例如：

var a int   // 声明一个整型变量 a，默认为 0
var b float64 // 声明一个浮点型变量 b，默认为 0.0

第二种，根据值自行判定变量类型。

例如：">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "//localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Go语言",
      "item": "//localhost:1313/posts/go%E8%AF%AD%E8%A8%80/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Go语言",
  "name": "Go语言",
  "description": "go的变量声明 第一种，指定变量类型，如果没有初始化，则变量默认为零值。 例如：\nvar a int // 声明一个整型变量 a，默认为 0 var b float64 // 声明一个浮点型变量 b，默认为 0.0 第二种，根据值自行判定变量类型。 例如：\n",
  "keywords": [
    "go"
  ],
  "articleBody": "go的变量声明 第一种，指定变量类型，如果没有初始化，则变量默认为零值。 例如：\nvar a int // 声明一个整型变量 a，默认为 0 var b float64 // 声明一个浮点型变量 b，默认为 0.0 第二种，根据值自行判定变量类型。 例如：\nvar c = \"Hello\" // 声明变量 c，类型为 string var d = 42 // 声明变量 d，类型为 int 第三种，如果变量已经使用 var 声明过了，再使用 := 声明变量，就产生编译错误 例如：\nvar e int = 10 // 使用 var 声明 // e := 20 // 编译错误：e 已经被声明过 go的语言常量 常量是一个简单值的标识符，在程序运行时，不会被修改的量。\n常量中的数据类型只可以是布尔型、数字型（整数型、浮点型和复数）和字符串型。\n常量的定义格式：\nconst identifier [type] = value 你可以省略类型说明符 [type]，因为编译器可以根据变量的值来推断其类型。\n显式类型定义： const b string = \"abc\" 隐式类型定义： const b = \"abc\" 多个相同类型的声明可以简写为：\nconst c_name1, c_name2 = value1, value2 iota，特殊常量，可以认为是一个可以被编译器修改的常量。\niota 在 const关键字出现时将被重置为 0(const 内部的第一行之前)，const 中每新增一行常量声明将使 iota 计数一次(iota 可理解为 const 语句块中的行索引)。\niota 可以被用作枚举值：\nconst ( a = iota b = iota c = iota ) 第一个 iota 等于 0，每当 iota 在新的一行被使用时，它的值都会自动加 1；所以 a=0, b=1, c=2 可以简写为如下形式：\nconst ( a = iota b c ) iota 用法 实例 package main import \"fmt\" func main() { const ( a = iota //0 b //1 c //2 d = \"ha\" //独立值，iota += 1 e //\"ha\" iota += 1 f = 100 //iota +=1 g //100 iota +=1 h = iota //7,恢复计数 i //8 ) fmt.Println(a,b,c,d,e,f,g,h,i) } 以上实例运行结果为：\n0 1 2 ha ha 100 100 7 8 go的运算符 运算符用于在程序运行时执行数学或逻辑运算。\nGo 语言内置的运算符有：\n算术运算符 关系运算符 逻辑运算符 位运算符 赋值运算符 其他运算符 接下来让我们来详细看看各个运算符的介绍。\n算术运算符 下表列出了所有Go语言的算术运算符。假定 A 值为 10，B 值为 20。\n运算符 描述 实例 + 相加 A + B 输出结果 30 - 相减 A - B 输出结果 -10 * 相乘 A * B 输出结果 200 / 相除 B / A 输出结果 2 % 求余 B % A 输出结果 0 ++ 自增 A++ 输出结果 11 – 自减 A– 输出结果 9 以下实例演示了各个算术运算符的用法：\n实例 package main import \"fmt\" func main() { var a int = 21 var b int = 10 var c int c = a + b fmt.Printf(\"第一行 - c 的值为 %d**\\n**\", c ) c = a - b fmt.Printf(\"第二行 - c 的值为 %d**\\n**\", c ) c = a * b fmt.Printf(\"第三行 - c 的值为 %d**\\n**\", c ) c = a / b fmt.Printf(\"第四行 - c 的值为 %d**\\n**\", c ) c = a % b fmt.Printf(\"第五行 - c 的值为 %d**\\n**\", c ) a++ fmt.Printf(\"第六行 - a 的值为 %d**\\n**\", a ) a=21 // 为了方便测试，a 这里重新赋值为 21 a-- fmt.Printf(\"第七行 - a 的值为 %d**\\n**\", a ) } 以上实例运行结果：\n第一行 - c 的值为 31 第二行 - c 的值为 11 第三行 - c 的值为 210 第四行 - c 的值为 2 第五行 - c 的值为 1 第六行 - a 的值为 22 第七行 - a 的值为 20 关系运算符 下表列出了所有Go语言的关系运算符。假定 A 值为 10，B 值为 20。\n运算符 描述 实例 == 检查两个值是否相等，如果相等返回 True 否则返回 False。 (A == B) 为 False != 检查两个值是否不相等，如果不相等返回 True 否则返回 False。 (A != B) 为 True \u003e 检查左边值是否大于右边值，如果是返回 True 否则返回 False。 (A \u003e B) 为 False \u003c 检查左边值是否小于右边值，如果是返回 True 否则返回 False。 (A \u003c B) 为 True \u003e= 检查左边值是否大于等于右边值，如果是返回 True 否则返回 False。 (A \u003e= B) 为 False \u003c= 检查左边值是否小于等于右边值，如果是返回 True 否则返回 False。 (A \u003c= B) 为 True package main import \"fmt\" func main() { var a bool = true var b bool = false if ( a \u0026\u0026 b ) { fmt.Printf(\"第一行 - 条件为 true\\n\" ) } if ( a || b ) { fmt.Printf(\"第二行 - 条件为 true\\n\" ) } /* 修改 a 和 b 的值 */ a = false b = true if ( a \u0026\u0026 b ) { fmt.Printf(\"第三行 - 条件为 true\\n\" ) } else { fmt.Printf(\"第三行 - 条件为 false\\n\" ) } if ( !(a \u0026\u0026 b) ) { fmt.Printf(\"第四行 - 条件为 true\\n\" ) } } 运行结果：\n第一行 - a 不等于 b 第二行 - a 不小于 b 第三行 - a 大于 b 第四行 - a 小于等于 b 第五行 - b 大于等于 a 逻辑运算符 下表列出了所有Go语言的逻辑运算符。假定 A 值为 True，B 值为 False。\n运算符 描述 实例 \u0026\u0026 逻辑 AND 运算符。 如果两边的操作数都是 True，则条件 True，否则为 False。 (A \u0026\u0026 B) 为 False || 逻辑 OR 运算符。 如果两边的操作数有一个 True，则条件 True，否则为 False。 (A || B) 为 True ! 逻辑 NOT 运算符。 如果条件为 True，则逻辑 NOT 条件 False，否则为 True。 !(A \u0026\u0026 B) 为 True package main import \"fmt\" func main() { var a bool = true var b bool = false if ( a \u0026\u0026 b ) { fmt.Printf(\"第一行 - 条件为 true\\n\" ) } if ( a || b ) { fmt.Printf(\"第二行 - 条件为 true\\n\" ) } /* 修改 a 和 b 的值 */ a = false b = true if ( a \u0026\u0026 b ) { fmt.Printf(\"第三行 - 条件为 true\\n\" ) } else { fmt.Printf(\"第三行 - 条件为 false\\n\" ) } if ( !(a \u0026\u0026 b) ) { fmt.Printf(\"第四行 - 条件为 true\\n\" ) } } 运行结果：\n第二行 - 条件为 true 第三行 - 条件为 false 第四行 - 条件为 true 位运算符 位运算符对整数在内存中的二进制位进行操作。\n下表列出了位运算符 \u0026, |, 和 ^ 的计算：\np q p \u0026 q p | q p ^ q 0 0 0 0 0 0 1 0 1 1 1 1 1 1 0 1 0 0 1 1 假定 A = 60; B = 13; 其二进制数转换为：\nA = 0011 1100 B = 0000 1101 ----------------- A\u0026B = 0000 1100 A|B = 0011 1101 A^B = 0011 0001 Go 语言支持的位运算符如下表所示。假定 A 为60，B 为13：\n运算符 描述 实例 \u0026 按位与运算符\"\u0026“是双目运算符。 其功能是参与运算的两数各对应的二进位相与。 (A \u0026 B) 结果为 12, 二进制为 0000 1100 | 按位或运算符”|“是双目运算符。 其功能是参与运算的两数各对应的二进位相或 (A | B) 结果为 61, 二进制为 0011 1101 ^ 按位异或运算符”^“是双目运算符。 其功能是参与运算的两数各对应的二进位相异或，当两对应的二进位相异时，结果为1。 (A ^ B) 结果为 49, 二进制为 0011 0001 « 左移运算符”«“是双目运算符。左移n位就是乘以2的n次方。 其功能把”«“左边的运算数的各二进位全部左移若干位，由”«“右边的数指定移动的位数，高位丢弃，低位补0。 A « 2 结果为 240 ，二进制为 1111 0000 » 右移运算符”»“是双目运算符。右移n位就是除以2的n次方。 其功能是把”»“左边的运算数的各二进位全部右移若干位，\"»“右边的数指定移动的位数。 A » 2 结果为 15 ，二进制为 0000 1111 package main import \"fmt\" func main() { var a uint = 60 /* 60 = 0011 1100 */ var b uint = 13 /* 13 = 0000 1101 */ var c uint = 0 c = a \u0026 b /* 12 = 0000 1100 */ fmt.Printf(\"第一行 - c 的值为 %d\\n\", c ) c = a | b /* 61 = 0011 1101 */ fmt.Printf(\"第二行 - c 的值为 %d\\n\", c ) c = a ^ b /* 49 = 0011 0001 */ fmt.Printf(\"第三行 - c 的值为 %d\\n\", c ) c = a \u003c\u003c 2 /* 240 = 1111 0000 */ fmt.Printf(\"第四行 - c 的值为 %d\\n\", c ) c = a \u003e\u003e 2 /* 15 = 0000 1111 */ fmt.Printf(\"第五行 - c 的值为 %d\\n\", c ) } 运行结果：\n第一行 - c 的值为 12 第二行 - c 的值为 61 第三行 - c 的值为 49 第四行 - c 的值为 240 第五行 - c 的值为 15 赋值运算符 下表列出了所有Go语言的赋值运算符。\n运算符 描述 实例 = 简单的赋值运算符，将一个表达式的值赋给一个左值 C = A + B 将 A + B 表达式结果赋值给 C += 相加后再赋值 C += A 等于 C = C + A -= 相减后再赋值 C -= A 等于 C = C - A *= 相乘后再赋值 C *= A 等于 C = C * A /= 相除后再赋值 C /= A 等于 C = C / A %= 求余后再赋值 C %= A 等于 C = C % A «= 左移后赋值 C «= 2 等于 C = C « 2 »= 右移后赋值 C »= 2 等于 C = C » 2 \u0026= 按位与后赋值 C \u0026= 2 等于 C = C \u0026 2 ^= 按位异或后赋值 C ^= 2 等于 C = C ^ 2 |= 按位或后赋值 C |= 2 等于 C = C | 2 package main import \"fmt\" func main() { var a int = 21 var c int c = a fmt.Printf(\"第 1 行 - = 运算符实例，c 值为 = %d\\n\", c ) c += a fmt.Printf(\"第 2 行 - += 运算符实例，c 值为 = %d\\n\", c ) c -= a fmt.Printf(\"第 3 行 - -= 运算符实例，c 值为 = %d\\n\", c ) c *= a fmt.Printf(\"第 4 行 - *= 运算符实例，c 值为 = %d\\n\", c ) c /= a fmt.Printf(\"第 5 行 - /= 运算符实例，c 值为 = %d\\n\", c ) c = 200; c \u003c\u003c= 2 fmt.Printf(\"第 6行 - \u003c\u003c= 运算符实例，c 值为 = %d\\n\", c ) c \u003e\u003e= 2 fmt.Printf(\"第 7 行 - \u003e\u003e= 运算符实例，c 值为 = %d\\n\", c ) c \u0026= 2 fmt.Printf(\"第 8 行 - \u0026= 运算符实例，c 值为 = %d\\n\", c ) c ^= 2 fmt.Printf(\"第 9 行 - ^= 运算符实例，c 值为 = %d\\n\", c ) c |= 2 fmt.Printf(\"第 10 行 - |= 运算符实例，c 值为 = %d\\n\", c ) } 运行结果：\n第 1 行 - = 运算符实例，c 值为 = 21 第 2 行 - += 运算符实例，c 值为 = 42 第 3 行 - -= 运算符实例，c 值为 = 21 第 4 行 - *= 运算符实例，c 值为 = 441 第 5 行 - /= 运算符实例，c 值为 = 21 第 6行 - \u003c\u003c= 运算符实例，c 值为 = 800 第 7 行 - \u003e\u003e= 运算符实例，c 值为 = 200 第 8 行 - \u0026= 运算符实例，c 值为 = 0 第 9 行 - ^= 运算符实例，c 值为 = 2 第 10 行 - |= 运算符实例，c 值为 = 2 其他运算符 下表列出了Go语言的其他运算符。\n运算符 描述 实例 \u0026 返回变量存储地址 \u0026a; 将给出变量的实际地址。 * 指针变量。 *a; 是一个指针变量 package main import \"fmt\" func main() { var a int = 4 var b int32 var c float32 var ptr *int /* 运算符实例 */ fmt.Printf(\"第 1 行 - a 变量类型为 = %T\\n\", a ); fmt.Printf(\"第 2 行 - b 变量类型为 = %T\\n\", b ); fmt.Printf(\"第 3 行 - c 变量类型为 = %T\\n\", c ); /* \u0026 和 * 运算符实例 */ ptr = \u0026a /* 'ptr' 包含了 'a' 变量的地址 */ fmt.Printf(\"a 的值为 %d\\n\", a); fmt.Printf(\"*ptr 为 %d\\n\", *ptr); } 运行结果：\n第 1 行 - a 变量类型为 = int 第 2 行 - b 变量类型为 = int32 第 3 行 - c 变量类型为 = float32 a 的值为 4 *ptr 为 4 运算符优先级 有些运算符拥有较高的优先级，二元运算符的运算方向均是从左至右。下表列出了所有运算符以及它们的优先级，由上至下代表优先级由高到低：\n优先级 运算符 5 * / % « » \u0026 \u0026^ 4 + - | ^ 3 == != \u003c \u003c= \u003e \u003e= 2 \u0026\u0026 1 || 当然，你可以通过使用括号来临时提升某个表达式的整体运算优先级。\npackage main import \"fmt\" func main() { var a int = 20 var b int = 10 var c int = 15 var d int = 5 var e int; e = (a + b) * c / d; // ( 30 * 15 ) / 5 fmt.Printf(\"(a + b) * c / d 的值为 : %d\\n\", e ); e = ((a + b) * c) / d; // (30 * 15 ) / 5 fmt.Printf(\"((a + b) * c) / d 的值为 : %d\\n\" , e ); e = (a + b) * (c / d); // (30) * (15/5) fmt.Printf(\"(a + b) * (c / d) 的值为 : %d\\n\", e ); e = a + (b * c) / d; // 20 + (150/5) fmt.Printf(\"a + (b * c) / d 的值为 : %d\\n\" , e ); } 运行结果：\n(a + b) * c / d 的值为 : 90 ((a + b) * c) / d 的值为 : 90 (a + b) * (c / d) 的值为 : 90 a + (b * c) / d 的值为 : 50 补充 Go 的自增，自减只能作为表达式使用，而不能用于赋值语句。\na++ // 这是允许的，类似 a = a + 1,结果与 a++ 相同 a-- //与 a++ 相似 a = a++ // 这是不允许的，会出现编译错误 syntax error: unexpected ++ at end of statement go的条件语句 条件语句需要开发者通过指定一个或多个条件，并通过测试条件是否为 true 来决定是否执行指定语句，并在条件为 false 的情况在执行另外的语句。\nGo 语言提供了以下几种条件判断语句：\n语句 描述 if 语句 if 语句 由一个布尔表达式后紧跟一个或多个语句组成。 if…else 语句 if 语句 后可以使用可选的 else 语句, else 语句中的表达式在布尔表达式为 false 时执行。 if 嵌套语句 你可以在 if 或 else if 语句中嵌入一个或多个 if 或 else if 语句。 switch 语句 switch 语句用于基于不同条件执行不同动作。 select 语句 select 语句类似于 switch 语句，但是select会随机执行一个可运行的case。如果没有case可运行，它将阻塞，直到有case可运行。 go的循环语句 Go 语言提供了以下几种类型循环处理语句：\n循环类型 描述 for 循环 重复执行语句块 循环嵌套 在 for 循环中嵌套一个或多个 for 循环 循环控制语句 循环控制语句可以控制循环体内语句的执行过程。\nGO 语言支持以下几种循环控制语句：\n控制语句 描述 break 语句 经常用于中断当前 for 循环或跳出 switch 语句 continue 语句 跳过当前循环的剩余语句，然后继续进行下一轮循环。 goto 语句 将控制转移到被标记的语句。 无限循环 如果循环中条件语句永远不为 false 则会进行无限循环，我们可以通过 for 循环语句中只设置一个条件表达式来执行无限循环：\npackage main import \"fmt\" func main() { for true { fmt.Printf(\"这是无限循环。\\n\"); } } Go 语言函数 函数是基本的代码块，用于执行一个任务。 Go 语言最少有个 main() 函数。 你可以通过函数来划分不同功能，逻辑上每个函数执行的是指定的任务。 函数声明告诉了编译器函数的名称，返回类型，和参数。 Go 语言标准库提供了多种可动用的内置的函数。例如，len() 函数可以接受不同类型参数并返回该类型的长度。如果我们传入的是字符串则返回字符串的长度，如果传入的是数组，则返回数组中包含的元素个数。 Go 语言函数定义格式如下：\nfunc function_name( [parameter list] ) [return_types] { //函数体 } 函数定义解析：\nfunc：函数由 func 开始声明 function_name：函数名称，参数列表和返回值类型构成了函数签名。 parameter list：参数列表，参数就像一个占位符，当函数被调用时，你可以将值传递给参数，这个值被称为实际参数。参数列表指定的是参数类型、顺序、及参数个数。参数是可选的，也就是说函数也可以不包含参数。 return_types：返回类型，函数返回一列值。return_types 是该列值的数据类型。有些功能不需要返回值，这种情况下 return_types 不是必须的。 函数体：函数定义的代码集合。 实例 以下实例为 max() 函数的代码，该函数传入两个整型参数 num1 和 num2，并返回这两个参数的最大值：\n/* 函数返回两个数的最大值 */ func max(num1, num2 int) int { /* 声明局部变量 */ var result int if (num1 \u003e num2) { result = num1 } else { result = num2 } return result } 函数调用 当创建函数时，你定义了函数需要做什么，通过调用该函数来执行指定任务。\n调用函数，向函数传递参数，并返回值，例如：\npackage main import \"fmt\" func main() { /* 定义局部变量 */ var a int = 100 var b int = 200 var ret int /* 调用函数并返回最大值 */ ret = max(a, b) fmt.Printf( \"最大值是 : %d\\n\", ret ) } /* 函数返回两个数的最大值 */ func max(num1, num2 int) int { /* 定义局部变量 */ var result int if (num1 \u003e num2) { result = num1 } else { result = num2 } return result } 以上实例在 main() 函数中调用 max（）函数，执行结果为：\n最大值是 : 200 函数返回多个值 Go 函数可以返回多个值，例如：\n实例 package main import \"fmt\" func swap(x, y string) (string, string) { return y, x } func main() { a, b := swap(\"Google\", \"Runoob\") fmt.Println(a, b) } 以上实例执行结果为：\nRunoob Google 函数参数 函数如果使用参数，该变量可称为函数的形参。\n形参就像定义在函数体内的局部变量。\n调用函数，可以通过两种方式来传递参数：\n传递类型 描述 值传递 值传递是指在调用函数时将实际参数复制一份传递到函数中，这样在函数中如果对参数进行修改，将不会影响到实际参数。 引用传递 引用传递是指在调用函数时将实际参数的地址传递到函数中，那么在函数中对参数所进行的修改，将影响到实际参数。 默认情况下，Go 语言使用的是值传递，即在调用过程中不会影响到实际参数。\n函数用法 函数用法 描述 函数作为另外一个函数的实参 函数定义后可作为另外一个函数的实参数传入 闭包 闭包是匿名函数，可在动态编程中使用 方法 方法就是一个包含了接受者的函数 Go 语言变量作用域 作用域为已声明标识符所表示的常量、类型、变量、函数或包在源代码中的作用范围。\nGo 语言中变量可以在三个地方声明：\n函数内定义的变量称为局部变量 函数外定义的变量称为全局变量 函数定义中的变量称为形式参数 局部变量 在函数体内声明的变量称之为局部变量，它们的作用域只在函数体内，参数和返回值变量也是局部变量。\n以下实例中 main() 函数使用了局部变量 a, b, c：\npackage main import \"fmt\" func main() { /* 声明局部变量 */ var a, b, c int /* 初始化参数 */ a = 10 b = 20 c = a + b fmt.Printf (\"结果： a = %d, b = %d and c = %d\\n\", a, b, c) } 以上实例执行输出结果为：\n结果： a = 10, b = 20 and c = 30 全局变量 在函数体外声明的变量称之为全局变量，全局变量可以在整个包甚至外部包（被导出后）使用。\n全局变量可以在任何函数中使用，以下实例演示了如何使用全局变量：\npackage main import \"fmt\" /* 声明全局变量 */ var g int func main() { /* 声明局部变量 */ var a, b int /* 初始化参数 */ a = 10 b = 20 g = a + b fmt.Printf(\"结果： a = %d, b = %d and g = %d\\n\", a, b, g) } 以上实例执行输出结果为：\n结果： a = 10, b = 20 and g = 30 Go 语言程序中全局变量与局部变量名称可以相同，但是函数内的局部变量会被优先考虑。实例如下：\npackage main import \"fmt\" /* 声明全局变量 */ var g int = 20 func main() { /* 声明局部变量 */ var g int = 10 fmt.Printf (\"结果： g = %d\\n\", g) } 以上实例执行输出结果为：\n结果： g = 10 形式参数 形式参数会作为函数的局部变量来使用。实例如下：\npackage main import \"fmt\" /* 声明全局变量 */ var a int = 20; func main() { /* main 函数中声明局部变量 */ var a int = 10 var b int = 20 var c int = 0 fmt.Printf(\"main()函数中 a = %d\\n\", a); c = sum( a, b); fmt.Printf(\"main()函数中 c = %d\\n\", c); } /* 函数定义-两数相加 */ func sum(a, b int) int { fmt.Printf(\"sum() 函数中 a = %d\\n\", a); fmt.Printf(\"sum() 函数中 b = %d\\n\", b); return a + b; } 以上实例执行输出结果为：\nmain()函数中 a = 10 sum() 函数中 a = 10 sum() 函数中 b = 20 main()函数中 c = 30 初始化局部和全局变量 不同类型的局部和全局变量默认值为：\n数据类型 初始化默认值 int 0 float32 0 pointer nil Go 语言数组 Go 语言提供了数组类型的数据结构。\n数组是具有相同唯一类型的一组已编号且长度固定的数据项序列，这种类型可以是任意的原始类型例如整型、字符串或者自定义类型。\n相对于去声明 number0, number1, …, number99 的变量，使用数组形式 numbers[0], numbers[1] …, numbers[99] 更加方便且易于扩展。\n数组元素可以通过索引（位置）来读取（或者修改），索引从 0 开始，第一个元素索引为 0，第二个索引为 1，以此类推。\n声明数组 Go 语言数组声明需要指定元素类型及元素个数，语法格式如下：\nvar arrayName [size]dataType 其中，arrayName 是数组的名称，size 是数组的大小，dataType 是数组中元素的数据类型。\n以下定义了数组 balance 长度为 10 类型为 float32：\nvar balance [10]float32 初始化数组 以下演示了数组初始化：\n以下实例声明一个名为 numbers 的整数数组，其大小为 5，在声明时，数组中的每个元素都会根据其数据类型进行默认初始化，对于整数类型，初始值为 0。\nvar numbers [5]int 还可以使用初始化列表来初始化数组的元素：\nvar numbers = [5]int{1, 2, 3, 4, 5} 以上代码声明一个大小为 5 的整数数组，并将其中的元素分别初始化为 1、2、3、4 和 5。\n另外，还可以使用 := 简短声明语法来声明和初始化数组：\nnumbers := [5]int{1, 2, 3, 4, 5} 以上代码创建一个名为 numbers 的整数数组，并将其大小设置为 5，并初始化元素的值。\n**注意：**在 Go 语言中，数组的大小是类型的一部分，因此不同大小的数组是不兼容的，也就是说 [5]int 和 [10]int 是不同的类型。\n以下定义了数组 balance 长度为 5 类型为 float32，并初始化数组的元素：\nvar balance = [5]float32{1000.0, 2.0, 3.4, 7.0, 50.0} 我们也可以通过字面量在声明数组的同时快速初始化数组：\nbalance := [5]float32{1000.0, 2.0, 3.4, 7.0, 50.0} 如果数组长度不确定，可以使用 … 代替数组的长度，编译器会根据元素个数自行推断数组的长度：\nvar balance = [...]float32{1000.0, 2.0, 3.4, 7.0, 50.0} 或 balance := [...]float32{1000.0, 2.0, 3.4, 7.0, 50.0} 如果设置了数组的长度，我们还可以通过指定下标来初始化元素：\n// 将索引为 1 和 3 的元素初始化 balance := [5]float32{1:2.0,3:7.0} 初始化数组中 {} 中的元素个数不能大于 [] 中的数字。\n如果忽略 [] 中的数字不设置数组大小，Go 语言会根据元素的个数来设置数组的大小：\nbalance[4] = 50.0 以上实例读取了第五个元素。数组元素可以通过索引（位置）来读取（或者修改），索引从 0 开始，第一个元素索引为 0，第二个索引为 1，以此类推。\n访问数组元素 数组元素可以通过索引（位置）来读取。格式为数组名后加中括号，中括号中为索引的值。例如：\nvar salary float32 = balance[9] 以上实例读取了数组 balance 第 10 个元素的值。\n以下演示了数组完整操作（声明、赋值、访问）的实例：\npackage main import \"fmt\" func main() { var n [10]int /* n 是一个长度为 10 的数组 */ var i,j int /* 为数组 n 初始化元素 */ for i = 0; i \u003c 10; i++ { n[i] = i + 100 /* 设置元素为 i + 100 */ } /* 输出每个数组元素的值 */ for j = 0; j \u003c 10; j++ { fmt.Printf(\"Element[%d] = %d\\n\", j, n[j] ) } } 结果如下：\nElement[0] = 100 Element[1] = 101 Element[2] = 102 Element[3] = 103 Element[4] = 104 Element[5] = 105 Element[6] = 106 Element[7] = 107 Element[8] = 108 Element[9] = 109 package main import \"fmt\" func main() { var i,j,k int // 声明数组的同时快速初始化数组 balance := [5]float32{1000.0, 2.0, 3.4, 7.0, 50.0} /* 输出数组元素 */ ... for i = 0; i \u003c 5; i++ { fmt.Printf(\"balance[%d] = %f\\n\", i, balance[i] ) } balance2 := [...]float32{1000.0, 2.0, 3.4, 7.0, 50.0} /* 输出每个数组元素的值 */ for j = 0; j \u003c 5; j++ { fmt.Printf(\"balance2[%d] = %f\\n\", j, balance2[j] ) } // 将索引为 1 和 3 的元素初始化 balance3 := [5]float32{1:2.0,3:7.0} for k = 0; k \u003c 5; k++ { fmt.Printf(\"balance3[%d] = %f\\n\", k, balance3[k] ) } } 结果如下：\nbalance[0] = 1000.000000 balance[1] = 2.000000 balance[2] = 3.400000 balance[3] = 7.000000 balance[4] = 50.000000 balance2[0] = 1000.000000 balance2[1] = 2.000000 balance2[2] = 3.400000 balance2[3] = 7.000000 balance2[4] = 50.000000 balance3[0] = 0.000000 balance3[1] = 2.000000 balance3[2] = 0.000000 balance3[3] = 7.000000 balance3[4] = 0.000000 多维数组 Go 语言支持多维数组，以下为常用的多维数组声明方式：\nvar variable_name [SIZE1][SIZE2]...[SIZEN] variable_type 以下实例声明了三维的整型数组：\nvar threedim [5][10][4]int 二维数组 二维数组是最简单的多维数组，二维数组本质上是由一维数组组成的。二维数组定义方式如下：\nvar arrayName [ x ][ y ] variable_type variable_type 为 Go 语言的数据类型，arrayName 为数组名，二维数组可认为是一个表格，x 为行，y 为列，下图演示了一个二维数组 a 为三行四列：\n二维数组中的元素可通过 a[ i ][ j ]来访问。\npackage main import \"fmt\" func main() { // Step 1: 创建数组 values := [][]int{} // Step 2: 使用 append() 函数向空的二维数组添加两行一维数组 row1 := []int{1, 2, 3} row2 := []int{4, 5, 6} values = append(values, row1) values = append(values, row2) // Step 3: 显示两行数据 fmt.Println(\"Row 1\") fmt.Println(values[0]) fmt.Println(\"Row 2\") fmt.Println(values[1]) // Step 4: 访问第一个元素 fmt.Println(\"第一个元素为：\") fmt.Println(values[0][0]) } 结果为：\nRow 1 [1 2 3] Row 2 [4 5 6] 第一个元素为： 1 初始化二维数组 多维数组可通过大括号来初始值。以下实例为一个 3 行 4 列的二维数组：\na := [3][4]int{ {0, 1, 2, 3} , /* 第一行索引为 0 */ {4, 5, 6, 7} , /* 第二行索引为 1 */ {8, 9, 10, 11}, /* 第三行索引为 2 */ } **注意：**以上代码中倒数第二行的}必须要有逗号，因为最后一行的} 不能单独一行，也可以写成这样：\na := [3][4]int{ {0, 1, 2, 3} , /* 第一行索引为 0 */ {4, 5, 6, 7} , /* 第二行索引为 1 */ {8, 9, 10, 11}} /* 第三行索引为 2 */ 以下实例初始化一个 2 行 2 列 的二维数组：\npackage main import \"fmt\" func main() { // 创建二维数组 sites := [2][2]string{} // 向二维数组添加元素 sites[0][0] = \"Google\" sites[0][1] = \"Runoob\" sites[1][0] = \"Taobao\" sites[1][1] = \"Weibo\" // 显示结果 fmt.Println(sites) } 输出结果为：\n[[Google Runoob] [Taobao Weibo]] 访问二维数组 二维数组通过指定坐标来访问。如数组中的行索引与列索引，例如：\nval := a[2][3] 或 var value int = a[2][3] 以上实例访问了二维数组 val 第三行的第四个元素。\n二维数组可以使用循环嵌套来输出元素：\npackage main import \"fmt\" func main() { /* 数组 - 5 行 2 列*/ var a = [5][2]int{ {0,0}, {1,2}, {2,4}, {3,6},{4,8}} var i, j int /* 输出数组元素 */ for i = 0; i \u003c 5; i++ { for j = 0; j \u003c 2; j++ { fmt.Printf(\"a[%d][%d] = %d\\n\", i,j, a[i][j] ) } } } 输出结果为：\na[0][0] = 0 a[0][1] = 0 a[1][0] = 1 a[1][1] = 2 a[2][0] = 2 a[2][1] = 4 a[3][0] = 3 a[3][1] = 6 a[4][0] = 4 a[4][1] = 8 以下实例创建各个维度元素数量不一致的多维数组：\npackage main import \"fmt\" func main() { // 创建空的二维数组 animals := [][]string{} // 创建三一维数组，各数组长度不同 row1 := []string{\"fish\", \"shark\", \"eel\"} row2 := []string{\"bird\"} row3 := []string{\"lizard\", \"salamander\"} // 使用 append() 函数将一维数组添加到二维数组中 animals = append(animals, row1) animals = append(animals, row2) animals = append(animals, row3) // 循环输出 for i := range animals { fmt.Printf(\"Row: %v\\n\", i) fmt.Println(animals[i]) } } 输出结果为：\nRow: 0 [fish shark eel] Row: 1 [bird] Row: 2 [lizard salamander] Go 语言向函数传递数组 Go 语言中的数组是值类型，因此在将数组传递给函数时，实际上是传递数组的副本。\n如果你想向函数传递数组参数，你需要在函数定义时，声明形参为数组，我们可以通过以下两种方式来声明：\n方式一 形参设定数组大小：\nfunc myFunction(param [10]int) { .... } 方式二 形参未设定数组大小：\nfunc myFunction(param []int) { .... } 如果你想要在函数内修改原始数组，可以通过传递数组的指针来实现。\n实例 让我们看下以下实例，实例中函数接收整型数组参数，另一个参数指定了数组元素的个数，并返回平均值：\nfunc getAverage(arr []int, size int) float32 { var i int var avg, sum float32 for i = 0; i \u003c size; ++i { sum += arr[i] } avg = sum / size return avg; } 接下来我们来调用这个函数：\npackage main import \"fmt\" func main() { /* 数组长度为 5 */ var balance = [5]int {1000, 2, 3, 17, 50} var avg float32 /* 数组作为参数传递给函数 */ avg = getAverage( balance, 5 ) ; /* 输出返回的平均值 */ fmt.Printf( \"平均值为: %f \", avg ); } func getAverage(arr [5]int, size int) float32 { var i,sum int var avg float32 for i = 0; i \u003c size;i++ { sum += arr[i] } avg = float32(sum) / float32(size) return avg; } 输出结果为：\n平均值为: 214.399994 以上实例中我们使用的形参并未设定数组大小。\n浮点数计算输出有一定的偏差，你也可以转整型来设置精度。\npackage main import ( \"fmt\" ) func main() { a := 1.69 b := 1.7 c := a * b // 结果应该是2.873 fmt.Println(c) // 输出的是2.8729999999999998 } 设置固定精度：\npackage main import ( \"fmt\" ) func main() { a := 1690 // 表示1.69 b := 1700 // 表示1.70 c := a * b // 结果应该是2873000表示 2.873 fmt.Println(c) // 内部编码 fmt.Println(float64(c) / 1000000) // 显示 } 如果你想要在函数内修改原始数组，可以通过传递数组的指针来实现。\n以下实例演示如何向函数传递数组，函数接受一个数组和数组的指针作为参数：\npackage main import \"fmt\" // 函数接受一个数组作为参数 func modifyArray(arr [5]int) { for i := 0; i \u003c len(arr); i++ { arr[i] = arr[i] * 2 } } // 函数接受一个数组的指针作为参数 func modifyArrayWithPointer(arr *[5]int) { for i := 0; i \u003c len(*arr); i++ { (*arr)[i] = (*arr)[i] * 2 } } func main() { // 创建一个包含5个元素的整数数组 myArray := [5]int{1, 2, 3, 4, 5} fmt.Println(\"Original Array:\", myArray) // 传递数组给函数，但不会修改原始数组的值 modifyArray(myArray) fmt.Println(\"Array after modifyArray:\", myArray) // 传递数组的指针给函数，可以修改原始数组的值 modifyArrayWithPointer(\u0026myArray) fmt.Println(\"Array after modifyArrayWithPointer:\", myArray) } 在上面的例子中，modifyArray 函数接受一个数组，并尝试修改数组的值，但在主函数中调用后，原始数组并未被修改。相反，modifyArrayWithPointer 函数接受一个数组的指针，并通过指针修改了原始数组的值。\n以上实例执行输出结果为：\nOriginal Array: [1 2 3 4 5] Array after modifyArray: [1 2 3 4 5] Array after modifyArrayWithPointer: [2 4 6 8 10] Go 语言指针 Go 语言中指针是很容易学习的，Go 语言中使用指针可以更简单的执行一些任务。\n接下来让我们来一步步学习 Go 语言指针。\n我们都知道，变量是一种使用方便的占位符，用于引用计算机内存地址。\nGo 语言的取地址符是 \u0026，放到一个变量前使用就会返回相应变量的内存地址。\n以下实例演示了变量在内存中地址：\npackage main import \"fmt\" func main() { var a int = 10 fmt.Printf(\"变量的地址: %x\\n\", \u0026a ) } 输出结果为：\n变量的地址: 20818a220 什么是指针 一个指针变量指向了一个值的内存地址。\n类似于变量和常量，在使用指针前你需要声明指针。指针声明格式如下：\nvar var_name *var-type var-type 为指针类型，var_name 为指针变量名，* 号用于指定变量是作为一个指针。以下是有效的指针声明：\nvar ip *int /* 指向整型*/ var fp *float32 /* 指向浮点型 */ 如何使用指针 指针使用流程：\n定义指针变量。 为指针变量赋值。 访问指针变量中指向地址的值。 在指针类型前面加上 * 号（前缀）来获取指针所指向的内容。\npackage main import \"fmt\" func main() { var a int= 20 /* 声明实际变量 */ var ip *int /* 声明指针变量 */ ip = \u0026a /* 指针变量的存储地址 */ fmt.Printf(\"a 变量的地址是: %x\\n\", \u0026a ) /* 指针变量的存储地址 */ fmt.Printf(\"ip 变量储存的指针地址: %x\\n\", ip ) /* 使用指针访问值 */ fmt.Printf(\"*ip 变量的值: %d\\n\", *ip ) } 输出结果为：\na 变量的地址是: 20818a220 ip 变量储存的指针地址: 20818a220 *ip 变量的值: 20 Go 空指针 当一个指针被定义后没有分配到任何变量时，它的值为 nil。\nnil 指针也称为空指针。\nnil在概念上和其它语言的null、None、nil、NULL一样，都指代零值或空值。\n一个指针变量通常缩写为 ptr。\npackage main import \"fmt\" func main() { var ptr *int fmt.Printf(\"ptr 的值为 : %x\\n\", ptr ) } 输出结果为：\nptr 的值为 : 0 空指针判断：\nif(ptr != nil) /* ptr 不是空指针 */ if(ptr == nil) /* ptr 是空指针 */ Go 语言指针数组 package main import \"fmt\" const MAX int = 3 func main() { a := []int{10,100,200} var i int for i = 0; i \u003c MAX; i++ { fmt.Printf(\"a[%d] = %d\\n\", i, a[i] ) } } 以上代码执行输出结果为：\na[0] = 10 a[1] = 100 a[2] = 200 有一种情况，我们可能需要保存数组，这样我们就需要使用到指针。\n以下声明了整型指针数组：\nvar ptr [MAX]*int; ptr 为整型指针数组。因此每个元素都指向了一个值。以下实例的三个整数将存储在指针数组中：\npackage main import \"fmt\" const MAX int = 3 func main() { a := []int{10,100,200} var i int var ptr [MAX]*int; for i = 0; i \u003c MAX; i++ { ptr[i] = \u0026a[i] /* 整数地址赋值给指针数组 */ } for i = 0; i \u003c MAX; i++ { fmt.Printf(\"a[%d] = %d\\n\", i,*ptr[i] ) } } 输出结果为：\na[0] = 10 a[1] = 100 a[2] = 200 Go 语言指针作为函数参数 Go 语言允许向函数传递指针，只需要在函数定义的参数上设置为指针类型即可。\n以下实例演示了如何向函数传递指针，并在函数调用后修改函数内的值，：\npackage main import \"fmt\" func main() { /* 定义局部变量 */ var a int = 100 var b int= 200 fmt.Printf(\"交换前 a 的值 : %d\\n\", a ) fmt.Printf(\"交换前 b 的值 : %d\\n\", b ) /* 调用函数用于交换值 * \u0026a 指向 a 变量的地址 * \u0026b 指向 b 变量的地址 */ swap(\u0026a, \u0026b); fmt.Printf(\"交换后 a 的值 : %d\\n\", a ) fmt.Printf(\"交换后 b 的值 : %d\\n\", b ) } func swap(x *int, y *int) { var temp int temp = *x /* 保存 x 地址的值 */ *x = *y /* 将 y 赋值给 x */ *y = temp /* 将 temp 赋值给 y */ } 输出结果为：\n交换前 a 的值 : 100 交换前 b 的值 : 200 交换后 a 的值 : 200 交换后 b 的值 : 100 Go 语言指向指针的指针 如果一个指针变量存放的又是另一个指针变量的地址，则称这个指针变量为指向指针的指针变量。\n当定义一个指向指针的指针变量时，第一个指针存放第二个指针的地址，第二个指针存放变量的地址：\n指向指针的指针变量声明格式如下：\nvar ptr **int; 以上指向指针的指针变量为整型。\n访问指向指针的指针变量值需要使用两个 * 号，如下所示：\npackage main import \"fmt\" func main() { var a int var ptr *int var pptr **int a = 3000 /* 指针 ptr 地址 */ ptr = \u0026a /* 指向指针 ptr 地址 */ pptr = \u0026ptr /* 获取 pptr 的值 */ fmt.Printf(\"变量 a = %d\\n\", a ) fmt.Printf(\"指针变量 *ptr = %d\\n\", *ptr ) fmt.Printf(\"指向指针的指针变量 **pptr = %d\\n\", **pptr) } 输出结果为：\n变量 a = 3000 指针变量 *ptr = 3000 指向指针的指针变量 **pptr = 3000 Go 语言结构体 Go 语言中数组可以存储同一类型的数据，但在结构体中我们可以为不同项定义不同的数据类型。\n结构体是由一系列具有相同类型或不同类型的数据构成的数据集合。\n结构体表示一项记录，比如保存图书馆的书籍记录，每本书有以下属性：\nTitle ：标题 Author ： 作者 Subject：学科 ID：书籍ID 定义结构体 结构体定义需要使用 type 和 struct 语句。struct 语句定义一个新的数据类型，结构体中有一个或多个成员。type 语句设定了结构体的名称。结构体的格式如下：\ntype struct_variable_type struct { member definition member definition ... member definition } 一旦定义了结构体类型，它就能用于变量的声明，语法格式如下：\nvariable_name := structure_variable_type {value1, value2...valuen} 或 variable_name := structure_variable_type { key1: value1, key2: value2..., keyn: valuen} package main import \"fmt\" type Books struct { title string author string subject string book_id int } func main() { // 创建一个新的结构体 fmt.Println(Books{\"Go 语言\", \"www.runoob.com\", \"Go 语言教程\", 6495407}) // 也可以使用 key =\u003e value 格式 fmt.Println(Books{title: \"Go 语言\", author: \"www.runoob.com\", subject: \"Go 语言教程\", book_id: 6495407}) // 忽略的字段为 0 或 空 fmt.Println(Books{title: \"Go 语言\", author: \"www.runoob.com\"}) } 输出结果为：\n{Go 语言 www.runoob.com Go 语言教程 6495407} {Go 语言 www.runoob.com Go 语言教程 6495407} {Go 语言 www.runoob.com 0} 访问结构体成员 如果要访问结构体成员，需要使用点号 . 操作符，格式为：\n结构体.成员名 结构体类型变量使用 struct 关键字定义，实例如下：\npackage main import \"fmt\" type Books struct { title string author string subject string book_id int } func main() { var Book1 Books /* 声明 Book1 为 Books 类型 */ var Book2 Books /* 声明 Book2 为 Books 类型 */ /* book 1 描述 */ Book1.title = \"Go 语言\" Book1.author = \"www.runoob.com\" Book1.subject = \"Go 语言教程\" Book1.book_id = 6495407 /* book 2 描述 */ Book2.title = \"Python 教程\" Book2.author = \"www.runoob.com\" Book2.subject = \"Python 语言教程\" Book2.book_id = 6495700 /* 打印 Book1 信息 */ fmt.Printf( \"Book 1 title : %s\\n\", Book1.title) fmt.Printf( \"Book 1 author : %s\\n\", Book1.author) fmt.Printf( \"Book 1 subject : %s\\n\", Book1.subject) fmt.Printf( \"Book 1 book_id : %d\\n\", Book1.book_id) /* 打印 Book2 信息 */ fmt.Printf( \"Book 2 title : %s\\n\", Book2.title) fmt.Printf( \"Book 2 author : %s\\n\", Book2.author) fmt.Printf( \"Book 2 subject : %s\\n\", Book2.subject) fmt.Printf( \"Book 2 book_id : %d\\n\", Book2.book_id) } 运行结果为：\nBook 1 title : Go 语言 Book 1 author : www.runoob.com Book 1 subject : Go 语言教程 Book 1 book_id : 6495407 Book 2 title : Python 教程 Book 2 author : www.runoob.com Book 2 subject : Python 语言教程 Book 2 book_id : 6495700 结构体作为函数参数 你可以像其他数据类型一样将结构体类型作为参数传递给函数。并以以上实例的方式访问结构体变量：\npackage main import \"fmt\" type Books struct { title string author string subject string book_id int } func main() { var Book1 Books /* 声明 Book1 为 Books 类型 */ var Book2 Books /* 声明 Book2 为 Books 类型 */ /* book 1 描述 */ Book1.title = \"Go 语言\" Book1.author = \"www.runoob.com\" Book1.subject = \"Go 语言教程\" Book1.book_id = 6495407 /* book 2 描述 */ Book2.title = \"Python 教程\" Book2.author = \"www.runoob.com\" Book2.subject = \"Python 语言教程\" Book2.book_id = 6495700 /* 打印 Book1 信息 */ printBook(Book1) /* 打印 Book2 信息 */ printBook(Book2) } func printBook( book Books ) { fmt.Printf( \"Book title : %s\\n\", book.title) fmt.Printf( \"Book author : %s\\n\", book.author) fmt.Printf( \"Book subject : %s\\n\", book.subject) fmt.Printf( \"Book book_id : %d\\n\", book.book_id) } 运行结果为：\nBook title : Go 语言 Book author : www.runoob.com Book subject : Go 语言教程 Book book_id : 6495407 Book title : Python 教程 Book author : www.runoob.com Book subject : Python 语言教程 Book book_id : 6495700 结构体指针 你可以定义指向结构体的指针类似于其他指针变量，格式如下：\nvar struct_pointer *Books 以上定义的指针变量可以存储结构体变量的地址。查看结构体变量地址，可以将 \u0026 符号放置于结构体变量前：\nstruct_pointer = \u0026Book1 使用结构体指针访问结构体成员，使用 “.” 操作符：\nstruct_pointer.title package main import \"fmt\" type Books struct { title string author string subject string book_id int } func main() { var Book1 Books /* 声明 Book1 为 Books 类型 */ var Book2 Books /* 声明 Book2 为 Books 类型 */ /* book 1 描述 */ Book1.title = \"Go 语言\" Book1.author = \"www.runoob.com\" Book1.subject = \"Go 语言教程\" Book1.book_id = 6495407 /* book 2 描述 */ Book2.title = \"Python 教程\" Book2.author = \"www.runoob.com\" Book2.subject = \"Python 语言教程\" Book2.book_id = 6495700 /* 打印 Book1 信息 */ printBook(\u0026Book1) /* 打印 Book2 信息 */ printBook(\u0026Book2) } func printBook( book *Books ) { fmt.Printf( \"Book title : %s\\n\", book.title) fmt.Printf( \"Book author : %s\\n\", book.author) fmt.Printf( \"Book subject : %s\\n\", book.subject) fmt.Printf( \"Book book_id : %d\\n\", book.book_id) } 运行结果为：\nBook title : Go 语言 Book author : www.runoob.com Book subject : Go 语言教程 Book book_id : 6495407 Book title : Python 教程 Book author : www.runoob.com Book subject : Python 语言教程 Book book_id : 6495700 Go 语言切片(Slice) Go 语言切片是对数组的抽象。\nGo 数组的长度不可改变，在特定场景中这样的集合就不太适用，Go 中提供了一种灵活，功能强悍的内置类型切片(“动态数组”)，与数组相比切片的长度是不固定的，可以追加元素，在追加时可能使切片的容量增大。\n定义切片 你可以声明一个未指定大小的数组来定义切片：\nvar identifier []type 切片不需要说明长度。\n或使用 make() 函数来创建切片:\nvar slice1 []type = make([]type, len) 也可以简写为 slice1 := make([]type, len) 也可以指定容量，其中 capacity 为可选参数。\nmake([]T, length, capacity) 这里 len 是数组的长度并且也是切片的初始长度。\n切片初始化 s :=[] int {1,2,3 } 直接初始化切片，[] 表示是切片类型，{1,2,3} 初始化值依次是 1,2,3，其 cap=len=3。\ns := arr[:] 初始化切片 s，是数组 arr 的引用。\ns := arr[startIndex:endIndex] 将 arr 中从下标 startIndex 到 endIndex-1 下的元素创建为一个新的切片。\ns := arr[startIndex:] 默认 endIndex 时将表示一直到arr的最后一个元素。\ns := arr[:endIndex] 默认 startIndex 时将表示从 arr 的第一个元素开始。\ns1 := s[startIndex:endIndex] 通过切片 s 初始化切片 s1。\ns :=make([]int,len,cap) 通过内置函数 make() 初始化切片s，[]int 标识为其元素类型为 int 的切片。\nlen() 和 cap() 函数 切片是可索引的，并且可以由 len() 方法获取长度。\n切片提供了计算容量的方法 cap() 可以测量切片最长可以达到多少。\n以下为具体实例：\npackage main import \"fmt\" func main() { var numbers = make([]int,3,5) printSlice(numbers) } func printSlice(x []int){ fmt.Printf(\"len=%d cap=%d slice=%v\\n\",len(x),cap(x),x) } 输出结果为:\nlen=3 cap=5 slice=[0 0 0] 空(nil)切片 一个切片在未初始化之前默认为 nil，长度为 0，实例如下：\npackage main import \"fmt\" func main() { var numbers []int printSlice(numbers) if(numbers == nil){ fmt.Printf(\"切片是空的\") } } func printSlice(x []int){ fmt.Printf(\"len=%d cap=%d slice=%v\\n\",len(x),cap(x),x) } 输出结果为:\nlen=0 cap=0 slice=[] 切片是空的 切片截取 可以通过设置下限及上限来设置截取切片 [lower-bound:upper-bound]，实例如下：\npackage main import \"fmt\" func main() { /* 创建切片 */ numbers := []int{0,1,2,3,4,5,6,7,8} printSlice(numbers) /* 打印原始切片 */ fmt.Println(\"numbers ==\", numbers) /* 打印子切片从索引1(包含) 到索引4(不包含)*/ fmt.Println(\"numbers[1:4] ==\", numbers[1:4]) /* 默认下限为 0*/ fmt.Println(\"numbers[:3] ==\", numbers[:3]) /* 默认上限为 len(s)*/ fmt.Println(\"numbers[4:] ==\", numbers[4:]) numbers1 := make([]int,0,5) printSlice(numbers1) /* 打印子切片从索引 0(包含) 到索引 2(不包含) */ number2 := numbers[:2] printSlice(number2) /* 打印子切片从索引 2(包含) 到索引 5(不包含) */ number3 := numbers[2:5] printSlice(number3) } func printSlice(x []int){ fmt.Printf(\"len=%d cap=%d slice=%v\\n\",len(x),cap(x),x) } 输出结果为：\nlen=9 cap=9 slice=[0 1 2 3 4 5 6 7 8] numbers == [0 1 2 3 4 5 6 7 8] numbers[1:4] == [1 2 3] numbers[:3] == [0 1 2] numbers[4:] == [4 5 6 7 8] len=0 cap=5 slice=[] len=2 cap=9 slice=[0 1] len=3 cap=7 slice=[2 3 4] append() 和 copy() 函数 如果想增加切片的容量，我们必须创建一个新的更大的切片并把原分片的内容都拷贝过来。\n下面的代码描述了从拷贝切片的 copy 方法和向切片追加新元素的 append 方法。\npackage main import \"fmt\" func main() { var numbers []int printSlice(numbers) /* 允许追加空切片 */ numbers = append(numbers, 0) printSlice(numbers) /* 向切片添加一个元素 */ numbers = append(numbers, 1) printSlice(numbers) /* 同时添加多个元素 */ numbers = append(numbers, 2,3,4) printSlice(numbers) /* 创建切片 numbers1 是之前切片的两倍容量*/ numbers1 := make([]int, len(numbers), (cap(numbers))*2) /* 拷贝 numbers 的内容到 numbers1 */ copy(numbers1,numbers) printSlice(numbers1) } func printSlice(x []int){ fmt.Printf(\"len=%d cap=%d slice=%v\\n\",len(x),cap(x),x) } 输出结果为：\nlen=0 cap=0 slice=[] len=1 cap=1 slice=[0] len=2 cap=2 slice=[0 1] len=5 cap=6 slice=[0 1 2 3 4] len=5 cap=12 slice=[0 1 2 3 4] Go 语言范围(Range) Go 语言中 range 关键字用于 for 循环中迭代数组(array)、切片(slice)、通道(channel)或集合(map)的元素。在数组和切片中它返回元素的索引和索引对应的值，在集合中返回 key-value 对。\nfor 循环的 range 格式可以对 slice、map、数组、字符串等进行迭代循环。格式如下：\nfor key, value := range oldMap { newMap[key] = value } 以上代码中的 key 和 value 是可以省略。\n如果只想读取 key，格式如下：\nfor key := range oldMap 或者这样：\nfor key, _ := range oldMap\n如果只想读取 value，格式如下：\nfor _, value := range oldMap 数组和切片 遍历简单的切片，2**%d 的结果为 2 对应的次方数：\npackage main import \"fmt\" // 声明一个包含 2 的幂次方的切片 var pow = []int{1, 2, 4, 8, 16, 32, 64, 128} func main() { // 遍历 pow 切片，i 是索引，v 是值 for i, v := range pow { // 打印 2 的 i 次方等于 v fmt.Printf(\"2**%d = %d\\n\", i, v) } } 遍历 pow 切片，i 是索引，v 是值\n输出结果为：\n2**0 = 1 2**1 = 2 2**2 = 4 2**3 = 8 2**4 = 16 2**5 = 32 2**6 = 64 2**7 = 128 字符串 range 迭代字符串时，返回每个字符的索引和 Unicode 代码点（rune）。\npackage main import \"fmt\" func main() { for i, c := range \"hello\" { fmt.Printf(\"index: %d, char: %c\\n\", i, c) } } 输出结果为:\nindex: 0, char: h index: 1, char: e index: 2, char: l index: 3, char: l index: 4, char: o 映射（Map） for 循环的 range 格式可以省略 key 和 value，如下实例：\npackage main import \"fmt\" func main() { // 创建一个空的 map，key 是 int 类型，value 是 float32 类型 map1 := make(map[int]float32) // 向 map1 中添加 key-value 对 map1[1] = 1.0 map1[2] = 2.0 map1[3] = 3.0 map1[4] = 4.0 // 遍历 map1，读取 key 和 value for key, value := range map1 { // 打印 key 和 value fmt.Printf(\"key is: %d - value is: %f\\n\", key, value) } // 遍历 map1，只读取 key for key := range map1 { // 打印 key fmt.Printf(\"key is: %d\\n\", key) } // 遍历 map1，只读取 value for _, value := range map1 { // 打印 value fmt.Printf(\"value is: %f\\n\", value) } } 输出结果为:\nkey is: 4 - value is: 4.000000 key is: 1 - value is: 1.000000 key is: 2 - value is: 2.000000 key is: 3 - value is: 3.000000 key is: 1 key is: 2 key is: 3 key is: 4 value is: 1.000000 value is: 2.000000 value is: 3.000000 value is: 4.000000 通道（Channel） range 遍历从通道接收的值，直到通道关闭。\npackage main import \"fmt\" func main() { ch := make(chan int, 2) ch \u003c- 1 ch \u003c- 2 close(ch) for v := range ch { fmt.Println(v) } } 输出结果为:\n1 2 忽略值 在遍历时可以使用 _ 来忽略索引或值。\npackage main import \"fmt\" func main() { nums := []int{2, 3, 4} // 忽略索引 for _, num := range nums { fmt.Println(\"value:\", num) } // 忽略值 for i := range nums { fmt.Println(\"index:\", i) } } 输出结果为:\nvalue: 2 value: 3 value: 4 index: 0 index: 1 index: 2 其他 range 遍历其他数据结构：\npackage main import \"fmt\" func main() { //这是我们使用 range 去求一个 slice 的和。使用数组跟这个很类似 nums := []int{2, 3, 4} sum := 0 for _, num := range nums { sum += num } fmt.Println(\"sum:\", sum) //在数组上使用 range 将传入索引和值两个变量。上面那个例子我们不需要使用该元素的序号，所以我们使用空白符\"_\"省略了。有时侯我们确实需要知道它的索引。 for i, num := range nums { if num == 3 { fmt.Println(\"index:\", i) } } //range 也可以用在 map 的键值对上。 kvs := map[string]string{\"a\": \"apple\", \"b\": \"banana\"} for k, v := range kvs { fmt.Printf(\"%s -\u003e %s\\n\", k, v) } //range也可以用来枚举 Unicode 字符串。第一个参数是字符的索引，第二个是字符（Unicode的值）本身。 for i, c := range \"go\" { fmt.Println(i, c) } } 输出结果为：\nsum: 9 index: 1 a -\u003e apple b -\u003e banana 0 103 1 111 Go 语言Map(集合) Map 是一种无序的键值对的集合。\nMap 最重要的一点是通过 key 来快速检索数据，key 类似于索引，指向数据的值。\nMap 是一种集合，所以我们可以像迭代数组和切片那样迭代它。不过，Map 是无序的，遍历 Map 时返回的键值对的顺序是不确定的。\n在获取 Map 的值时，如果键不存在，返回该类型的零值，例如 int 类型的零值是 0，string 类型的零值是 “\"。\nMap 是引用类型，如果将一个 Map 传递给一个函数或赋值给另一个变量，它们都指向同一个底层数据结构，因此对 Map 的修改会影响到所有引用它的变量。\n定义 Map 可以使用内建函数 make 或使用 map 关键字来定义 Map:\n/* 使用 make 函数 */ map_variable := make(map[KeyType]ValueType, initialCapacity) 其中 KeyType 是键的类型，ValueType 是值的类型，initialCapacity 是可选的参数，用于指定 Map 的初始容量。Map 的容量是指 Map 中可以保存的键值对的数量，当 Map 中的键值对数量达到容量时，Map 会自动扩容。如果不指定 initialCapacity，Go 语言会根据实际情况选择一个合适的值。\n// 创建一个空的 Map m := make(map[string]int) // 创建一个初始容量为 10 的 Map m := make(map[string]int, 10) 也可以使用字面量创建 Map：键\u003c———\u003e值\n// 使用字面量创建 Map m := map[string]int{ \"apple\": 1, \"banana\": 2, \"orange\": 3, } 获取元素：\n// 获取键值对 v1 := m[\"apple\"] v2, ok := m[\"pear\"] // 如果键不存在，ok 的值为 false，v2 的值为该类型的零值 修改元素：\n// 修改键值对 m[\"apple\"] = 5 获取 Map 的长度：\n// 获取 Map 的长度 len := len(m) 遍历 Map：\n// 遍历 Map for k, v := range m { fmt.Printf(\"key=%s, value=%d\\n\", k, v) } 删除元素：\n// 删除键值对 delete(m, \"banana\") 创建和使用map:\npackage main import \"fmt\" func main() { var siteMap map[string]string /*创建集合 */ siteMap = make(map[string]string) /* map 插入 key - value 对,各个国家对应的首都 */ siteMap [ \"Google\" ] = \"谷歌\" siteMap [ \"Runoob\" ] = \"菜鸟教程\" siteMap [ \"Baidu\" ] = \"百度\" siteMap [ \"Wiki\" ] = \"维基百科\" /*使用键输出地图值 */ for site := range siteMap { fmt.Println(site, \"首都是\", siteMap [site]) } /*查看元素在集合中是否存在 */ name, ok := siteMap [ \"Facebook\" ] /*如果确定是真实的,则存在,否则不存在 */ /*fmt.Println(capital) */ /*fmt.Println(ok) */ if (ok) { fmt.Println(\"Facebook 的 站点是\", name) } else { fmt.Println(\"Facebook 站点不存在\") } } 运行结果为：\nWiki 首都是 维基百科 Google 首都是 谷歌 Runoob 首都是 菜鸟教程 Baidu 首都是 百度 Facebook 站点不存在 delete() 函数 delete() 函数用于删除集合的元素, 参数为 map 和其对应的 key。实例如下：\npackage main import \"fmt\" func main() { /* 创建map */ countryCapitalMap := map[string]string{\"France\": \"Paris\", \"Italy\": \"Rome\", \"Japan\": \"Tokyo\", \"India\": \"New delhi\"} fmt.Println(\"原始地图\") /* 打印地图 */ for country := range countryCapitalMap { fmt.Println(country, \"首都是\", countryCapitalMap [ country ]) } /*删除元素*/ delete(countryCapitalMap, \"France\") fmt.Println(\"法国条目被删除\") fmt.Println(\"删除元素后地图\") /*打印地图*/ for country := range countryCapitalMap { fmt.Println(country, \"首都是\", countryCapitalMap [ country ]) } } 运行结果为：\n原始地图 India 首都是 New delhi France 首都是 Paris Italy 首都是 Rome Japan 首都是 Tokyo 法国条目被删除 删除元素后地图 Italy 首都是 Rome Japan 首都是 Tokyo India 首都是 New delhi Go 语言递归函数 递归，就是在运行的过程中调用自己。\n语法格式如下：\nfunc recursion() { recursion() */\\* 函数调用自身 \\*/* } func main() { recursion() } Go 语言支持递归。但我们在使用递归时，开发者需要设置退出条件，否则递归将陷入无限循环中。\n递归函数对于解决数学上的问题是非常有用的，就像计算阶乘，生成斐波那契数列等。\n阶乘 以下实例通过 Go 语言的递归函数实例阶乘：\npackage main import \"fmt\" func Factorial(n uint64)(result uint64) { if (n \u003e 0) { result = n * Factorial(n-1) return result } return 1 } func main() { var i int = 15 fmt.Printf(\"%d 的阶乘是 %d\\n\", i, Factorial(uint64(i))) } 输出结果为：\n15 的阶乘是 1307674368000 斐波那契数列 以下实例通过 Go 语言的递归函数实现斐波那契数列：\npackage main import \"fmt\" func fibonacci(n int) int { if n \u003c 2 { return n } return fibonacci(n-2) + fibonacci(n-1) } func main() { var i int for i = 0; i \u003c 10; i++ { fmt.Printf(\"%d\\t\", fibonacci(i)) } } 输出结果为：\n0 1 1 2 3 5 8 13 21 34 求平方根 以下实例通过 Go 语言使用递归方法实现求平方根的代码：\npackage main import ( \"fmt\" ) func sqrtRecursive(x, guess, prevGuess, epsilon float64) float64 { if diff := guess*guess - x; diff \u003c epsilon \u0026\u0026 -diff \u003c epsilon { return guess } newGuess := (guess + x/guess) / 2 if newGuess == prevGuess { return guess } return sqrtRecursive(x, newGuess, guess, epsilon) } func sqrt(x float64) float64 { return sqrtRecursive(x, 1.0, 0.0, 1e-9) } func main() { x := 25.0 result := sqrt(x) fmt.Printf(\"%.2f 的平方根为 %.6f\\n\", x, result) } 以上实例中，sqrtRecursive 函数使用递归方式实现平方根的计算。\nsqrtRecursive 函数接受四个参数：\nx 表示待求平方根的数 guess 表示当前猜测的平方根值 prevGuess 表示上一次的猜测值 epsilon 表示精度要求（即接近平方根的程度） 递归的终止条件是当前猜测的平方根与上一次猜测的平方根非常接近，差值小于给定的精度 epsilon。\n在 sqrt 函数中，我们调用 sqrtRecursive 来计算平方根，并传入初始值和精度要求，然后在 main 函数中，我们调用 sqrt 函数来求解平方根，并将结果打印出来。\n执行以上代码输出结果为：\n25.00 的平方根为 5.000000 Go 语言类型转换 类型转换用于将一种数据类型的变量转换为另外一种类型的变量。\nGo 语言类型转换基本格式如下：\ntype_name(expression) type_name 为类型，expression 为表达式。\n数值类型转换 将整型转换为浮点型：\nvar a int = 10 var b float64 = float64(a) 以下实例中将整型转化为浮点型，并计算结果，将结果赋值给浮点型变量：\npackage main import \"fmt\" func main() { var sum int = 17 var count int = 5 var mean float32 mean = float32(sum)/float32(count) fmt.Printf(\"mean 的值为: %f\\n\",mean) } 输出结果为：\nmean 的值为: 3.400000 字符串类型转换 将一个字符串转换成另一个类型，可以使用以下语法：\nvar str string = \"10\" var num int num, _ = strconv.Atoi(str) 以上代码将字符串变量 str 转换为整型变量 num。\n注意，strconv.Atoi 函数返回两个值，第一个是转换后的整型值，第二个是可能发生的错误，我们可以使用空白标识符 _ 来忽略这个错误。\n以下实例将字符串转换为整数\npackage main import ( \"fmt\" \"strconv\" ) func main() { str := \"123\" num, err := strconv.Atoi(str) if err != nil { fmt.Println(\"转换错误:\", err) } else { fmt.Printf(\"字符串 '%s' 转换为整数为：%d\\n\", str, num) } } 输出结果为：\n字符串 '123' 转换为整数为：123 将整数转换为字符串：\npackage main import ( \"fmt\" \"strconv\" ) func main() { num := 123 str := strconv.Itoa(num) fmt.Printf(\"整数 %d 转换为字符串为：'%s'\\n\", num, str) } 输出结果为：\n整数 123 转换为字符串为：'123' 将字符串转换为浮点数：\npackage main import ( \"fmt\" \"strconv\" ) func main() { str := \"3.14\" num, err := strconv.ParseFloat(str, 64) if err != nil { fmt.Println(\"转换错误:\", err) } else { fmt.Printf(\"字符串 '%s' 转为浮点型为：%f\\n\", str, num) } } 输出结果为：\n字符串 '3.14' 转为浮点型为：3.140000 将浮点数转换为字符串：\npackage main import ( \"fmt\" \"strconv\" ) func main() { num := 3.14 str := strconv.FormatFloat(num, 'f', 2, 64) fmt.Printf(\"浮点数 %f 转为字符串为：'%s'\\n\", num, str) } 输出结果为：\n浮点数 3.140000 转为字符串为：'3.14' go 不支持隐式转换类型，比如 :\npackage main import \"fmt\" func main() { var a int64 = 3 var b int32 b = a fmt.Printf(\"b 为 : %d\", b) } 此时会报错\ncannot use a (type int64) as type int32 in assignment cannot use b (type int32) as type string in argument to fmt.Printf 但是如果改成 b = int32(a) 就不会报错了:\npackage main import \"fmt\" func main() { var a int64 = 3 var b int32 b = int32(a) fmt.Printf(\"b 为 : %d\", b) } 接口类型转换 接口类型转换有两种情况**：类型断言和类型转换**。\n类型断言 类型断言用于将接口类型转换为指定类型，其语法为：\nvalue.(type) 或者 value.(T) 其中 value 是接口类型的变量，type 或 T 是要转换成的类型。\n如果类型断言成功，它将返回转换后的值和一个布尔值，表示转换是否成功。\npackage main import \"fmt\" func main() { var i interface{} = \"Hello, World\" str, ok := i.(string) if ok { fmt.Printf(\"'%s' is a string\\n\", str) } else { fmt.Println(\"conversion failed\") } } 以上实例中，我们定义了一个接口类型变量 i，并将它赋值为字符串 “Hello, World”。然后，我们使用类型断言将 i 转换为字符串类型，并将转换后的值赋值给变量 str。最后，我们使用 ok 变量检查类型转换是否成功，如果成功，我们打印转换后的字符串；否则，我们打印转换失败的消息。\n类型转换 类型转换用于将一个接口类型的值转换为另一个接口类型，其语法为：\nT(value) T 是目标接口类型，value 是要转换的值。\n在类型转换中，我们必须保证要转换的值和目标接口类型之间是兼容的，否则编译器会报错。\npackage main import \"fmt\" // 定义一个接口 Writer type Writer interface { Write([]byte) (int, error) } // 实现 Writer 接口的结构体 StringWriter type StringWriter struct { str string } // 实现 Write 方法 func (sw *StringWriter) Write(data []byte) (int, error) { sw.str += string(data) return len(data), nil } func main() { // 创建一个 StringWriter 实例并赋值给 Writer 接口变量 var w Writer = \u0026StringWriter{} // 将 Writer 接口类型转换为 StringWriter 类型 sw := w.(*StringWriter) // 修改 StringWriter 的字段 sw.str = \"Hello, World\" // 打印 StringWriter 的字段值 fmt.Println(sw.str) } 解析：\n定义接口和结构体： Writer 接口定义了 Write 方法。 StringWriter 结构体实现了 Write 方法。 类型转换： 将 StringWriter 实例赋值给 Writer 接口变量 w。 使用 w.(*StringWriter) 将 Writer 接口类型转换为 StringWriter 类型。 访问字段： 修改 StringWriter 的字段 str，并打印其值。 空接口类型 空接口 interface{} 可以持有任何类型的值。在实际应用中，空接口经常被用来处理多种类型的值。\npackage main import ( \"fmt\" ) func printValue(v interface{}) { switch v := v.(type) { case int: fmt.Println(\"Integer:\", v) case string: fmt.Println(\"String:\", v) default: fmt.Println(\"Unknown type\") } } func main() { printValue(42) printValue(\"hello\") printValue(3.14) } 在这个例子中，printValue 函数接受一个空接口类型的参数，并使用类型断言和类型选择来处理不同的类型。\nGo 语言接口 interface Go 语言提供了另外一种数据类型即接口，它把所有的具有共性的方法定义在一起，任何其他类型只要实现了这些方法就是实现了这个接口。\n接口可以让我们将不同的类型绑定到一组公共的方法上，从而实现多态和灵活的设计。\nGo 语言中的接口是隐式实现的，也就是说，如果一个类型实现了一个接口定义的所有方法，那么它就自动地实现了该接口。因此，我们可以通过将接口作为参数来实现对不同类型的调用，从而实现多态。\n/* 定义接口 */ type interface_name interface { method_name1 [return_type] method_name2 [return_type] method_name3 [return_type] ... method_namen [return_type] } /* 定义结构体 */ type struct_name struct { /* variables */ } /* 实现接口方法 */ func (struct_name_variable struct_name) method_name1() [return_type] { /* 方法实现 */ } ... func (struct_name_variable struct_name) method_namen() [return_type] { /* 方法实现*/ } 接口的使用：\npackage main import ( \"fmt\" ) type Phone interface { call() } type NokiaPhone struct { } func (nokiaPhone NokiaPhone) call() { fmt.Println(\"I am Nokia, I can call you!\") } type IPhone struct { } func (iPhone IPhone) call() { fmt.Println(\"I am iPhone, I can call you!\") } func main() { var phone Phone phone = new(NokiaPhone) phone.call() phone = new(IPhone) phone.call() } 在上面的例子中，我们定义了一个接口 Phone，接口里面有一个方法 call()。然后我们在 main 函数里面定义了一个 Phone 类型变量，并分别为之赋值为 NokiaPhone 和 IPhone。然后调用 call() 方法，输出结果如下：\nI am Nokia, I can call you! I am iPhone, I can call you! 第二个接口实例：\npackage main import \"fmt\" type Shape interface { area() float64 } type Rectangle struct { width float64 height float64 } func (r Rectangle) area() float64 { return r.width * r.height } type Circle struct { radius float64 } func (c Circle) area() float64 { return 3.14 * c.radius * c.radius } func main() { var s Shape s = Rectangle{width: 10, height: 5} fmt.Printf(\"矩形面积: %f\\n\", s.area()) s = Circle{radius: 3} fmt.Printf(\"圆形面积: %f\\n\", s.area()) } 以上实例中，我们定义了一个 Shape 接口，它定义了一个方法 area()，该方法返回一个 float64 类型的面积值。然后，我们定义了两个结构体 Rectangle 和 Circle，它们分别实现了 Shape 接口的 area() 方法。在 main() 函数中，我们首先定义了一个 Shape 类型的变量 s，然后分别将 Rectangle 和 Circle 类型的实例赋值给它，并通过 area() 方法计算它们的面积并打印出来，输出结果如下：\n矩形面积: 50.000000 圆形面积: 28.260000 需要注意的是，接口类型变量可以存储任何实现了该接口的类型的值。在示例中，我们将 Rectangle 和 Circle 类型的实例都赋值给了 Shape 类型的变量 s，并通过 area() 方法调用它们的面积计算方法。\nGo 错误处理 Go 语言通过内置的错误接口提供了非常简单的错误处理机制。\nerror 类型是一个接口类型，这是它的定义：\ntype error interface { Error() string } 我们可以在编码中通过实现 error 接口类型来生成错误信息。\n函数通常在最后的返回值中返回错误信息。使用 errors.New 可返回一个错误信息：\nfunc Sqrt(f float64) (float64, error) { if f \u003c 0 { return 0, errors.New(\"math: square root of negative number\") } // 实现 } 在下面的例子中，我们在调用 Sqrt 的时候传递的一个负数，然后就得到了 non-nil 的 error 对象，将此对象与 nil 比较，结果为 true，所以 fmt.Println(fmt 包在处理 error 时会调用 Error 方法)被调用，以输出错误，请看下面调用的示例代码：\nresult, err:= Sqrt(-1) if err != nil { fmt.Println(err) } 实例\npackage main import ( \"fmt\" ) // 定义一个 DivideError 结构 type DivideError struct { dividee int divider int } // 实现 `error` 接口 func (de *DivideError) Error() string { strFormat := ` Cannot proceed, the divider is zero. dividee: %d divider: 0 ` return fmt.Sprintf(strFormat, de.dividee) } // 定义 `int` 类型除法运算的函数 func Divide(varDividee int, varDivider int) (result int, errorMsg string) { if varDivider == 0 { dData := DivideError{ dividee: varDividee, divider: varDivider, } errorMsg = dData.Error() return } else { return varDividee / varDivider, \"\" } } func main() { // 正常情况 if result, errorMsg := Divide(100, 10); errorMsg == \"\" { fmt.Println(\"100/10 = \", result) } // 当除数为零的时候会返回错误信息 if _, errorMsg := Divide(100, 0); errorMsg != \"\" { fmt.Println(\"errorMsg is: \", errorMsg) } } 输出结果为：\n100/10 = 10 errorMsg is: Cannot proceed, the divider is zero. dividee: 100 divider: 0 Go 并发 并发是指程序同时执行多个任务的能力\nGo 语言支持并发，通过 goroutines 和 channels 提供了一种简洁且高效的方式来实现并发。\ngoroutine goroutine 是轻量级线程，goroutine 的调度是由 Golang 运行时进行管理的。\ngoroutine 语法格式：\ngo 函数名( 参数列表 ) 例如：\ngo f(x, y, z) 开启一个新的 goroutine:\nf(x, y, z) Go 允许使用 go 语句开启一个新的运行期线程， 即 goroutine，以一个不同的、新创建的 goroutine 来执行一个函数。 同一个程序中的所有 goroutine 共享同一个地址空间。\npackage main import ( \"fmt\" \"time\" ) func say(s string) { for i := 0; i \u003c 5; i++ { time.Sleep(100 * time.Millisecond) fmt.Println(s) } } func main() { go say(\"world\") say(\"hello\") } 执行以上代码，你会看到输出的 hello 和 world 是没有固定先后顺序。因为它们是两个 goroutine 在执行：\nworld hello hello world world hello hello world world hello 通道（channel） 通道（channel）是用来传递数据的一个数据结构。\n通道可用于两个 goroutine 之间通过传递一个指定类型的值来同步运行和通讯。\n使用 make 函数创建一个 channel，使用 \u003c- 操作符发送和接收数据。如果未指定方向，则为双向通道。\nch \u003c- v // 把 v 发送到通道 ch v := \u003c-ch // 从 ch 接收数据 // 并把值赋给 v 声明一个通道很简单，我们使用chan关键字即可，通道在使用前必须先创建：\nch := make(chan int) 注意：默认情况下，通道是不带缓冲区的。发送端发送数据，同时必须有接收端相应的接收数据。\n以下实例通过两个 goroutine 来计算数字之和，在 goroutine 完成计算后，它会计算两个结果的和：\npackage main import \"fmt\" func sum(s []int, c chan int) { sum := 0 for _, v := range s { sum += v } c \u003c- sum // 把 sum 发送到通道 c } func main() { s := []int{7, 2, 8, -9, 4, 0} c := make(chan int) go sum(s[:len(s)/2], c) go sum(s[len(s)/2:], c) x, y := \u003c-c, \u003c-c // 从通道 c 中接收 fmt.Println(x, y, x+y) } 输出结果为：\n-5 17 12 通道缓冲区 通道可以设置缓冲区，通过 make 的第二个参数指定缓冲区大小：\nch := make(chan int, 100) 带缓冲区的通道允许发送端的数据发送和接收端的数据获取处于异步状态，就是说发送端发送的数据可以放在缓冲区里面，可以等待接收端去获取数据，而不是立刻需要接收端去获取数据。\n不过由于缓冲区的大小是有限的，所以还是必须有接收端来接收数据的，否则缓冲区一满，数据发送端就无法再发送数据了。\n注意：如果通道不带缓冲，发送方会阻塞直到接收方从通道中接收了值。如果通道带缓冲，发送方则会阻塞直到发送的值被拷贝到缓冲区内；如果缓冲区已满，则意味着需要等待直到某个接收方获取到一个值。接收方在有值可以接收之前会一直阻塞。\npackage main import \"fmt\" func main() { // 这里我们定义了一个可以存储整数类型的带缓冲通道 // 缓冲区大小为2 ch := make(chan int, 2) // 因为 ch 是带缓冲的通道，我们可以同时发送两个数据 // 而不用立刻需要去同步读取数据 ch \u003c- 1 ch \u003c- 2 // 获取这两个数据 fmt.Println(\u003c-ch) fmt.Println(\u003c-ch) } 执行输出结果为：\n1 2 Go 遍历通道与关闭通道 Go 通过 range 关键字来实现遍历读取到的数据，类似于与数组或切片。格式如下：\nv, ok := \u003c-ch 如果通道接收不到数据后 ok 就为 false，这时通道就可以使用 close() 函数来关闭。\npackage main import ( \"fmt\" ) func fibonacci(n int, c chan int) { x, y := 0, 1 for i := 0; i \u003c n; i++ { c \u003c- x x, y = y, x+y } close(c) } func main() { c := make(chan int, 10) go fibonacci(cap(c), c) // range 函数遍历每个从通道接收到的数据，因为 c 在发送完 10 个 // 数据之后就关闭了通道，所以这里我们 range 函数在接收到 10 个数据 // 之后就结束了。如果上面的 c 通道不关闭，那么 range 函数就不 // 会结束，从而在接收第 11 个数据的时候就阻塞了。 for i := range c { fmt.Println(i) } } 输出结果为：\n0 1 1 2 3 5 8 13 21 34 Select 语句 select 语句使得一个 goroutine 可以等待多个通信操作。select 会阻塞，直到其中的某个 case 可以继续执行：\npackage main import \"fmt\" func fibonacci(c, quit chan int) { x, y := 0, 1 for { select { case c \u003c- x: x, y = y, x+y case \u003c-quit: fmt.Println(\"quit\") return } } } func main() { c := make(chan int) quit := make(chan int) go func() { for i := 0; i \u003c 10; i++ { fmt.Println(\u003c-c) } quit \u003c- 0 }() fibonacci(c, quit) } 以上代码中中，fibonacci goroutine 在 channel c 上发送斐波那契数列，当接收到 quit channel 的信号时退出。\n执行输出结果为：\n0 1 1 2 3 5 8 13 21 34 quit 并发编程小结 Goroutines 是轻量级线程，使用 go 关键字启动。 Channels 用于 goroutines 之间的通信。 Select 语句 用于等待多个 channel 操作。 链接: 菜鸟教程相关笔记补充\n",
  "wordCount" : "21226",
  "inLanguage": "zh",
  "image": "https://i.postimg.cc/7hwBy7VS/calcr.png","datePublished": "2024-09-09T21:55:24+08:00",
  "dateModified": "2024-09-09T21:55:24+08:00",
  "author":{
    "@type": "Person",
    "name": "steamdk"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "//localhost:1313/posts/go%E8%AF%AD%E8%A8%80/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "项目介绍",
    "logo": {
      "@type": "ImageObject",
      "url": "//localhost:1313/favicon.svg"
    }
  }
}
</script>
</head>

<body class=" dark" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="//localhost:1313/" accesskey="h" title="项目介绍 (Alt + H)">项目介绍</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="//localhost:1313/" title="首页">
                    <span>首页</span>
                </a>
            </li>
            <li>
                <a href="//localhost:1313/archives/" title="归档">
                    <span>归档</span>
                </a>
            </li>
            <li>
                <a href="//localhost:1313/categories/" title="分类">
                    <span>分类</span>
                </a>
            </li>
            <li>
                <a href="//localhost:1313/tags/" title="标签">
                    <span>标签</span>
                </a>
            </li>
            <li>
                <a href="//localhost:1313/search/" title="搜索">
                    <span>搜索</span>
                </a>
            </li>
            <li>
                <a href="//localhost:1313/about/" title="关于">
                    <span>关于</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Go语言
    </h1>
    <div class="post-meta"><span title='2024-09-09 21:55:24 +0800 CST'>2024-09-09</span>&nbsp;·&nbsp;43 分钟&nbsp;·&nbsp;steamdk

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">目录</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#go%e7%9a%84%e5%8f%98%e9%87%8f%e5%a3%b0%e6%98%8e" aria-label="go的变量声明">go的变量声明</a></li>
                <li>
                    <a href="#go%e7%9a%84%e8%af%ad%e8%a8%80%e5%b8%b8%e9%87%8f" aria-label="go的语言常量">go的语言常量</a><ul>
                        <ul>
                        
                <li>
                    <a href="#iota-%e7%94%a8%e6%b3%95" aria-label="iota 用法">iota 用法</a></li></ul>
                    
                <li>
                    <a href="#%e5%ae%9e%e4%be%8b" aria-label="实例">实例</a></li></ul>
                </li>
                <li>
                    <a href="#go%e7%9a%84%e8%bf%90%e7%ae%97%e7%ac%a6" aria-label="go的运算符">go的运算符</a><ul>
                        
                <li>
                    <a href="#%e7%ae%97%e6%9c%af%e8%bf%90%e7%ae%97%e7%ac%a6" aria-label="算术运算符">算术运算符</a></li>
                <li>
                    <a href="#%e5%ae%9e%e4%be%8b-1" aria-label="实例">实例</a></li>
                <li>
                    <a href="#%e5%85%b3%e7%b3%bb%e8%bf%90%e7%ae%97%e7%ac%a6" aria-label="关系运算符">关系运算符</a></li>
                <li>
                    <a href="#%e9%80%bb%e8%be%91%e8%bf%90%e7%ae%97%e7%ac%a6" aria-label="逻辑运算符">逻辑运算符</a></li>
                <li>
                    <a href="#%e4%bd%8d%e8%bf%90%e7%ae%97%e7%ac%a6" aria-label="位运算符">位运算符</a></li>
                <li>
                    <a href="#%e8%b5%8b%e5%80%bc%e8%bf%90%e7%ae%97%e7%ac%a6" aria-label="赋值运算符">赋值运算符</a></li>
                <li>
                    <a href="#%e5%85%b6%e4%bb%96%e8%bf%90%e7%ae%97%e7%ac%a6" aria-label="其他运算符">其他运算符</a></li>
                <li>
                    <a href="#%e8%bf%90%e7%ae%97%e7%ac%a6%e4%bc%98%e5%85%88%e7%ba%a7" aria-label="运算符优先级">运算符优先级</a></li>
                <li>
                    <a href="#%e8%a1%a5%e5%85%85" aria-label="补充">补充</a></li></ul>
                </li>
                <li>
                    <a href="#go%e7%9a%84%e6%9d%a1%e4%bb%b6%e8%af%ad%e5%8f%a5" aria-label="go的条件语句">go的条件语句</a></li>
                <li>
                    <a href="#go%e7%9a%84%e5%be%aa%e7%8e%af%e8%af%ad%e5%8f%a5" aria-label="go的循环语句">go的循环语句</a><ul>
                        
                <li>
                    <a href="#%e5%be%aa%e7%8e%af%e6%8e%a7%e5%88%b6%e8%af%ad%e5%8f%a5" aria-label="循环控制语句">循环控制语句</a></li>
                <li>
                    <a href="#%e6%97%a0%e9%99%90%e5%be%aa%e7%8e%af" aria-label="无限循环">无限循环</a></li></ul>
                </li>
                <li>
                    <a href="#go-%e8%af%ad%e8%a8%80%e5%87%bd%e6%95%b0" aria-label="Go 语言函数">Go 语言函数</a><ul>
                        
                <li>
                    <a href="#%e5%ae%9e%e4%be%8b-2" aria-label="实例">实例</a></li>
                <li>
                    <a href="#%e5%87%bd%e6%95%b0%e8%b0%83%e7%94%a8" aria-label="函数调用">函数调用</a></li>
                <li>
                    <a href="#%e5%87%bd%e6%95%b0%e8%bf%94%e5%9b%9e%e5%a4%9a%e4%b8%aa%e5%80%bc" aria-label="函数返回多个值">函数返回多个值</a></li>
                <li>
                    <a href="#%e5%ae%9e%e4%be%8b-3" aria-label="实例">实例</a></li>
                <li>
                    <a href="#%e5%87%bd%e6%95%b0%e5%8f%82%e6%95%b0" aria-label="函数参数">函数参数</a></li>
                <li>
                    <a href="#%e5%87%bd%e6%95%b0%e7%94%a8%e6%b3%95" aria-label="函数用法">函数用法</a></li></ul>
                </li>
                <li>
                    <a href="#go-%e8%af%ad%e8%a8%80%e5%8f%98%e9%87%8f%e4%bd%9c%e7%94%a8%e5%9f%9f" aria-label="Go 语言变量作用域">Go 语言变量作用域</a><ul>
                        
                <li>
                    <a href="#%e5%b1%80%e9%83%a8%e5%8f%98%e9%87%8f" aria-label="局部变量">局部变量</a></li>
                <li>
                    <a href="#%e5%85%a8%e5%b1%80%e5%8f%98%e9%87%8f" aria-label="全局变量">全局变量</a></li>
                <li>
                    <a href="#%e5%bd%a2%e5%bc%8f%e5%8f%82%e6%95%b0" aria-label="形式参数">形式参数</a></li>
                <li>
                    <a href="#%e5%88%9d%e5%a7%8b%e5%8c%96%e5%b1%80%e9%83%a8%e5%92%8c%e5%85%a8%e5%b1%80%e5%8f%98%e9%87%8f" aria-label="初始化局部和全局变量">初始化局部和全局变量</a></li></ul>
                </li>
                <li>
                    <a href="#go-%e8%af%ad%e8%a8%80%e6%95%b0%e7%bb%84" aria-label="Go 语言数组">Go 语言数组</a><ul>
                        
                <li>
                    <a href="#%e5%a3%b0%e6%98%8e%e6%95%b0%e7%bb%84" aria-label="声明数组">声明数组</a></li>
                <li>
                    <a href="#%e5%88%9d%e5%a7%8b%e5%8c%96%e6%95%b0%e7%bb%84" aria-label="初始化数组">初始化数组</a></li>
                <li>
                    <a href="#%e8%ae%bf%e9%97%ae%e6%95%b0%e7%bb%84%e5%85%83%e7%b4%a0" aria-label="访问数组元素">访问数组元素</a></li>
                <li>
                    <a href="#%e5%a4%9a%e7%bb%b4%e6%95%b0%e7%bb%84" aria-label="多维数组">多维数组</a></li>
                <li>
                    <a href="#%e4%ba%8c%e7%bb%b4%e6%95%b0%e7%bb%84" aria-label="二维数组">二维数组</a></li>
                <li>
                    <a href="#%e5%88%9d%e5%a7%8b%e5%8c%96%e4%ba%8c%e7%bb%b4%e6%95%b0%e7%bb%84" aria-label="初始化二维数组">初始化二维数组</a></li>
                <li>
                    <a href="#%e8%ae%bf%e9%97%ae%e4%ba%8c%e7%bb%b4%e6%95%b0%e7%bb%84" aria-label="访问二维数组">访问二维数组</a></li></ul>
                </li>
                <li>
                    <a href="#go-%e8%af%ad%e8%a8%80%e5%90%91%e5%87%bd%e6%95%b0%e4%bc%a0%e9%80%92%e6%95%b0%e7%bb%84" aria-label="Go 语言向函数传递数组">Go 语言向函数传递数组</a><ul>
                        <ul>
                        
                <li>
                    <a href="#%e6%96%b9%e5%bc%8f%e4%b8%80" aria-label="方式一">方式一</a></li>
                <li>
                    <a href="#%e6%96%b9%e5%bc%8f%e4%ba%8c" aria-label="方式二">方式二</a></li>
                <li>
                    <a href="#%e5%ae%9e%e4%be%8b-4" aria-label="实例">实例</a></li></ul>
                    </ul>
                </li>
                <li>
                    <a href="#go-%e8%af%ad%e8%a8%80%e6%8c%87%e9%92%88" aria-label="Go 语言指针">Go 语言指针</a><ul>
                        
                <li>
                    <a href="#%e4%bb%80%e4%b9%88%e6%98%af%e6%8c%87%e9%92%88" aria-label="什么是指针">什么是指针</a></li>
                <li>
                    <a href="#%e5%a6%82%e4%bd%95%e4%bd%bf%e7%94%a8%e6%8c%87%e9%92%88" aria-label="如何使用指针">如何使用指针</a></li>
                <li>
                    <a href="#go-%e7%a9%ba%e6%8c%87%e9%92%88" aria-label="Go 空指针">Go 空指针</a></li></ul>
                </li>
                <li>
                    <a href="#go-%e8%af%ad%e8%a8%80%e6%8c%87%e9%92%88%e6%95%b0%e7%bb%84" aria-label="Go 语言指针数组">Go 语言指针数组</a></li>
                <li>
                    <a href="#go-%e8%af%ad%e8%a8%80%e6%8c%87%e9%92%88%e4%bd%9c%e4%b8%ba%e5%87%bd%e6%95%b0%e5%8f%82%e6%95%b0" aria-label="Go 语言指针作为函数参数">Go 语言指针作为函数参数</a></li>
                <li>
                    <a href="#go-%e8%af%ad%e8%a8%80%e6%8c%87%e5%90%91%e6%8c%87%e9%92%88%e7%9a%84%e6%8c%87%e9%92%88" aria-label="Go 语言指向指针的指针">Go 语言指向指针的指针</a></li>
                <li>
                    <a href="#go-%e8%af%ad%e8%a8%80%e7%bb%93%e6%9e%84%e4%bd%93" aria-label="Go 语言结构体">Go 语言结构体</a><ul>
                        
                <li>
                    <a href="#%e5%ae%9a%e4%b9%89%e7%bb%93%e6%9e%84%e4%bd%93" aria-label="定义结构体">定义结构体</a></li>
                <li>
                    <a href="#%e8%ae%bf%e9%97%ae%e7%bb%93%e6%9e%84%e4%bd%93%e6%88%90%e5%91%98" aria-label="访问结构体成员">访问结构体成员</a></li>
                <li>
                    <a href="#%e7%bb%93%e6%9e%84%e4%bd%93%e4%bd%9c%e4%b8%ba%e5%87%bd%e6%95%b0%e5%8f%82%e6%95%b0" aria-label="结构体作为函数参数">结构体作为函数参数</a></li>
                <li>
                    <a href="#%e7%bb%93%e6%9e%84%e4%bd%93%e6%8c%87%e9%92%88" aria-label="结构体指针">结构体指针</a></li></ul>
                </li>
                <li>
                    <a href="#go-%e8%af%ad%e8%a8%80%e5%88%87%e7%89%87slice" aria-label="Go 语言切片(Slice)">Go 语言切片(Slice)</a><ul>
                        
                <li>
                    <a href="#%e5%ae%9a%e4%b9%89%e5%88%87%e7%89%87" aria-label="定义切片">定义切片</a><ul>
                        
                <li>
                    <a href="#%e5%88%87%e7%89%87%e5%88%9d%e5%a7%8b%e5%8c%96" aria-label="切片初始化">切片初始化</a></li></ul>
                </li>
                <li>
                    <a href="#len-%e5%92%8c-cap-%e5%87%bd%e6%95%b0" aria-label="len() 和 cap() 函数">len() 和 cap() 函数</a></li>
                <li>
                    <a href="#%e7%a9%banil%e5%88%87%e7%89%87" aria-label="空(nil)切片">空(nil)切片</a></li>
                <li>
                    <a href="#%e5%88%87%e7%89%87%e6%88%aa%e5%8f%96" aria-label="切片截取">切片截取</a></li>
                <li>
                    <a href="#append-%e5%92%8c-copy-%e5%87%bd%e6%95%b0" aria-label="append() 和 copy() 函数">append() 和 copy() 函数</a></li></ul>
                </li>
                <li>
                    <a href="#go-%e8%af%ad%e8%a8%80%e8%8c%83%e5%9b%b4range" aria-label="Go 语言范围(Range)">Go 语言范围(Range)</a><ul>
                        
                <li>
                    <a href="#%e6%95%b0%e7%bb%84%e5%92%8c%e5%88%87%e7%89%87" aria-label="数组和切片">数组和切片</a></li>
                <li>
                    <a href="#%e5%ad%97%e7%ac%a6%e4%b8%b2" aria-label="字符串">字符串</a></li>
                <li>
                    <a href="#%e6%98%a0%e5%b0%84map" aria-label="映射（Map）">映射（Map）</a></li>
                <li>
                    <a href="#%e9%80%9a%e9%81%93channel" aria-label="通道（Channel）">通道（Channel）</a></li>
                <li>
                    <a href="#%e5%bf%bd%e7%95%a5%e5%80%bc" aria-label="忽略值">忽略值</a></li>
                <li>
                    <a href="#%e5%85%b6%e4%bb%96" aria-label="其他">其他</a></li></ul>
                </li>
                <li>
                    <a href="#go-%e8%af%ad%e8%a8%80map%e9%9b%86%e5%90%88" aria-label="Go 语言Map(集合)">Go 语言Map(集合)</a><ul>
                        <ul>
                        
                <li>
                    <a href="#%e5%ae%9a%e4%b9%89-map" aria-label="定义 Map">定义 Map</a></li></ul>
                    
                <li>
                    <a href="#delete-%e5%87%bd%e6%95%b0" aria-label="delete() 函数">delete() 函数</a></li></ul>
                </li>
                <li>
                    <a href="#go-%e8%af%ad%e8%a8%80%e9%80%92%e5%bd%92%e5%87%bd%e6%95%b0" aria-label="Go 语言递归函数">Go 语言递归函数</a><ul>
                        
                <li>
                    <a href="#%e9%98%b6%e4%b9%98" aria-label="阶乘">阶乘</a></li>
                <li>
                    <a href="#%e6%96%90%e6%b3%a2%e9%82%a3%e5%a5%91%e6%95%b0%e5%88%97" aria-label="斐波那契数列">斐波那契数列</a></li>
                <li>
                    <a href="#%e6%b1%82%e5%b9%b3%e6%96%b9%e6%a0%b9" aria-label="求平方根">求平方根</a></li></ul>
                </li>
                <li>
                    <a href="#go-%e8%af%ad%e8%a8%80%e7%b1%bb%e5%9e%8b%e8%bd%ac%e6%8d%a2" aria-label="Go 语言类型转换">Go 语言类型转换</a><ul>
                        <ul>
                        
                <li>
                    <a href="#%e6%95%b0%e5%80%bc%e7%b1%bb%e5%9e%8b%e8%bd%ac%e6%8d%a2" aria-label="数值类型转换">数值类型转换</a></li>
                <li>
                    <a href="#%e5%ad%97%e7%ac%a6%e4%b8%b2%e7%b1%bb%e5%9e%8b%e8%bd%ac%e6%8d%a2" aria-label="字符串类型转换">字符串类型转换</a></li>
                <li>
                    <a href="#%e6%8e%a5%e5%8f%a3%e7%b1%bb%e5%9e%8b%e8%bd%ac%e6%8d%a2" aria-label="接口类型转换">接口类型转换</a></li>
                <li>
                    <a href="#%e7%b1%bb%e5%9e%8b%e6%96%ad%e8%a8%80" aria-label="类型断言">类型断言</a></li>
                <li>
                    <a href="#%e7%b1%bb%e5%9e%8b%e8%bd%ac%e6%8d%a2" aria-label="类型转换">类型转换</a></li>
                <li>
                    <a href="#%e7%a9%ba%e6%8e%a5%e5%8f%a3%e7%b1%bb%e5%9e%8b" aria-label="空接口类型">空接口类型</a></li></ul>
                    </ul>
                </li>
                <li>
                    <a href="#go-%e8%af%ad%e8%a8%80%e6%8e%a5%e5%8f%a3-interface" aria-label="Go 语言接口 interface">Go 语言接口 interface</a></li>
                <li>
                    <a href="#go-%e9%94%99%e8%af%af%e5%a4%84%e7%90%86" aria-label="Go 错误处理">Go 错误处理</a></li>
                <li>
                    <a href="#go-%e5%b9%b6%e5%8f%91" aria-label="Go 并发">Go 并发</a><ul>
                        
                <li>
                    <a href="#goroutine" aria-label="goroutine">goroutine</a></li>
                <li>
                    <a href="#%e9%80%9a%e9%81%93channel-1" aria-label="通道（channel）">通道（channel）</a><ul>
                        
                <li>
                    <a href="#%e9%80%9a%e9%81%93%e7%bc%93%e5%86%b2%e5%8c%ba" aria-label="通道缓冲区">通道缓冲区</a></li>
                <li>
                    <a href="#go-%e9%81%8d%e5%8e%86%e9%80%9a%e9%81%93%e4%b8%8e%e5%85%b3%e9%97%ad%e9%80%9a%e9%81%93" aria-label="Go 遍历通道与关闭通道">Go 遍历通道与关闭通道</a></li>
                <li>
                    <a href="#select-%e8%af%ad%e5%8f%a5" aria-label="Select 语句">Select 语句</a></li>
                <li>
                    <a href="#%e5%b9%b6%e5%8f%91%e7%bc%96%e7%a8%8b%e5%b0%8f%e7%bb%93" aria-label="并发编程小结">并发编程小结</a>
                </li>
            </ul>
            </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h1 id="go的变量声明">go的变量声明<a hidden class="anchor" aria-hidden="true" href="#go的变量声明">#</a></h1>
<ul>
<li><strong>第一种，指定变量类型，如果没有初始化，则变量默认为零值</strong>。</li>
</ul>
<p>例如：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">a</span> <span class="kt">int</span>   <span class="c1">// 声明一个整型变量 a，默认为 0
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">var</span> <span class="nx">b</span> <span class="kt">float64</span> <span class="c1">// 声明一个浮点型变量 b，默认为 0.0
</span></span></span></code></pre></div><ul>
<li><strong>第二种，根据值自行判定变量类型。</strong></li>
</ul>
<p>例如：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">c</span> <span class="p">=</span> <span class="s">&#34;Hello&#34;</span> <span class="c1">// 声明变量 c，类型为 string
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">var</span> <span class="nx">d</span> <span class="p">=</span> <span class="mi">42</span>      <span class="c1">// 声明变量 d，类型为 int
</span></span></span></code></pre></div><ul>
<li><strong>第三种，如果变量已经使用 var 声明过了，再使用 := 声明变量，就产生编译错误</strong></li>
</ul>
<p>例如：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">e</span> <span class="kt">int</span> <span class="p">=</span> <span class="mi">10</span>  <span class="c1">// 使用 var 声明
</span></span></span><span class="line"><span class="cl"><span class="c1">// e := 20      // 编译错误：e 已经被声明过
</span></span></span></code></pre></div><h1 id="go的语言常量">go的语言常量<a hidden class="anchor" aria-hidden="true" href="#go的语言常量">#</a></h1>
<p><strong>常量</strong>是一个简单值的标识符，在程序运行时，不会被修改的量。</p>
<p>常量中的数据类型只可以是布尔型、数字型（整数型、浮点型和复数）和字符串型。</p>
<p>常量的定义格式：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">const</span> <span class="nx">identifier</span> <span class="p">[</span><span class="kd">type</span><span class="p">]</span> <span class="p">=</span> <span class="nx">value</span>
</span></span></code></pre></div><p>你可以省略类型说明符 [type]，因为编译器可以根据变量的值来推断其类型。</p>
<ul>
<li>显式类型定义： <code>const b string = &quot;abc&quot;</code></li>
<li>隐式类型定义： <code>const b = &quot;abc&quot;</code></li>
</ul>
<p>多个相同类型的声明可以简写为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">const</span> <span class="nx">c_name1</span><span class="p">,</span> <span class="nx">c_name2</span> <span class="p">=</span> <span class="nx">value1</span><span class="p">,</span> <span class="nx">value2</span>
</span></span></code></pre></div><hr>
<p><strong>iota</strong>，特殊常量，可以认为是一个可以被编译器修改的常量。</p>
<p>iota 在 const关键字出现时将被重置为 0(const 内部的第一行之前)，const 中每新增一行常量声明将使 iota 计数一次(iota 可理解为 const 语句块中的行索引)。</p>
<p>iota 可以被用作枚举值：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">const</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="nx">a</span> <span class="p">=</span> <span class="kc">iota</span>
</span></span><span class="line"><span class="cl">    <span class="nx">b</span> <span class="p">=</span> <span class="kc">iota</span>
</span></span><span class="line"><span class="cl">    <span class="nx">c</span> <span class="p">=</span> <span class="kc">iota</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span></code></pre></div><p>第一个 iota 等于 0，每当 iota 在新的一行被使用时，它的值都会自动加 1；所以 a=0, b=1, c=2 可以简写为如下形式：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">const</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="nx">a</span> <span class="p">=</span> <span class="kc">iota</span>
</span></span><span class="line"><span class="cl">    <span class="nx">b</span>
</span></span><span class="line"><span class="cl">    <span class="nx">c</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span></code></pre></div><h3 id="iota-用法">iota 用法<a hidden class="anchor" aria-hidden="true" href="#iota-用法">#</a></h3>
<h2 id="实例">实例<a hidden class="anchor" aria-hidden="true" href="#实例">#</a></h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">const</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">            <span class="nx">a</span> <span class="p">=</span> <span class="kc">iota</span>   <span class="c1">//0
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">b</span>          <span class="c1">//1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">c</span>          <span class="c1">//2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">d</span> <span class="p">=</span> <span class="s">&#34;ha&#34;</span>   <span class="c1">//独立值，iota += 1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">e</span>          <span class="c1">//&#34;ha&#34;   iota += 1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">f</span> <span class="p">=</span> <span class="mi">100</span>    <span class="c1">//iota +=1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">g</span>          <span class="c1">//100  iota +=1
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">h</span> <span class="p">=</span> <span class="kc">iota</span>   <span class="c1">//7,恢复计数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>            <span class="nx">i</span>          <span class="c1">//8
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span><span class="nx">b</span><span class="p">,</span><span class="nx">c</span><span class="p">,</span><span class="nx">d</span><span class="p">,</span><span class="nx">e</span><span class="p">,</span><span class="nx">f</span><span class="p">,</span><span class="nx">g</span><span class="p">,</span><span class="nx">h</span><span class="p">,</span><span class="nx">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>以上实例运行结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> <span class="nx">ha</span> <span class="nx">ha</span> <span class="mi">100</span> <span class="mi">100</span> <span class="mi">7</span> <span class="mi">8</span>
</span></span></code></pre></div><h1 id="go的运算符">go的运算符<a hidden class="anchor" aria-hidden="true" href="#go的运算符">#</a></h1>
<p>运算符用于在程序运行时执行数学或逻辑运算。</p>
<p>Go 语言内置的运算符有：</p>
<ul>
<li>算术运算符</li>
<li>关系运算符</li>
<li>逻辑运算符</li>
<li>位运算符</li>
<li>赋值运算符</li>
<li>其他运算符</li>
</ul>
<p>接下来让我们来详细看看各个运算符的介绍。</p>
<hr>
<h2 id="算术运算符">算术运算符<a hidden class="anchor" aria-hidden="true" href="#算术运算符">#</a></h2>
<p>下表列出了所有Go语言的算术运算符。假定 A 值为 10，B 值为 20。</p>
<table>
  <thead>
      <tr>
          <th>运算符</th>
          <th>描述</th>
          <th>实例</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>+</td>
          <td>相加</td>
          <td>A + B 输出结果 30</td>
      </tr>
      <tr>
          <td>-</td>
          <td>相减</td>
          <td>A - B 输出结果 -10</td>
      </tr>
      <tr>
          <td>*</td>
          <td>相乘</td>
          <td>A * B 输出结果 200</td>
      </tr>
      <tr>
          <td>/</td>
          <td>相除</td>
          <td>B / A 输出结果 2</td>
      </tr>
      <tr>
          <td>%</td>
          <td>求余</td>
          <td>B % A 输出结果 0</td>
      </tr>
      <tr>
          <td>++</td>
          <td>自增</td>
          <td>A++ 输出结果 11</td>
      </tr>
      <tr>
          <td>&ndash;</td>
          <td>自减</td>
          <td>A&ndash; 输出结果 9</td>
      </tr>
  </tbody>
</table>
<p>以下实例演示了各个算术运算符的用法：</p>
<h2 id="实例-1">实例<a hidden class="anchor" aria-hidden="true" href="#实例-1">#</a></h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"> <span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"> <span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">a</span> <span class="kt">int</span> <span class="p">=</span> <span class="mi">21</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">b</span> <span class="kt">int</span> <span class="p">=</span> <span class="mi">10</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">c</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nx">c</span> <span class="p">=</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;第一行 - c 的值为 %d**\n**&#34;</span><span class="p">,</span> <span class="nx">c</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="nx">c</span> <span class="p">=</span> <span class="nx">a</span> <span class="o">-</span> <span class="nx">b</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;第二行 - c 的值为 %d**\n**&#34;</span><span class="p">,</span> <span class="nx">c</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="nx">c</span> <span class="p">=</span> <span class="nx">a</span> <span class="o">*</span> <span class="nx">b</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;第三行 - c 的值为 %d**\n**&#34;</span><span class="p">,</span> <span class="nx">c</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="nx">c</span> <span class="p">=</span> <span class="nx">a</span> <span class="o">/</span> <span class="nx">b</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;第四行 - c 的值为 %d**\n**&#34;</span><span class="p">,</span> <span class="nx">c</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="nx">c</span> <span class="p">=</span> <span class="nx">a</span> <span class="o">%</span> <span class="nx">b</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;第五行 - c 的值为 %d**\n**&#34;</span><span class="p">,</span> <span class="nx">c</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="nx">a</span><span class="o">++</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;第六行 - a 的值为 %d**\n**&#34;</span><span class="p">,</span> <span class="nx">a</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="nx">a</span><span class="p">=</span><span class="mi">21</span>  <span class="c1">// 为了方便测试，a 这里重新赋值为 21
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>   <span class="nx">a</span><span class="o">--</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;第七行 - a 的值为 %d**\n**&#34;</span><span class="p">,</span> <span class="nx">a</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl"> <span class="p">}</span>
</span></span></code></pre></div><p>以上实例运行结果：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">第一行</span> <span class="o">-</span> <span class="nx">c</span> <span class="nx">的值为</span> <span class="mi">31</span>
</span></span><span class="line"><span class="cl"><span class="nx">第二行</span> <span class="o">-</span> <span class="nx">c</span> <span class="nx">的值为</span> <span class="mi">11</span>
</span></span><span class="line"><span class="cl"><span class="nx">第三行</span> <span class="o">-</span> <span class="nx">c</span> <span class="nx">的值为</span> <span class="mi">210</span>
</span></span><span class="line"><span class="cl"><span class="nx">第四行</span> <span class="o">-</span> <span class="nx">c</span> <span class="nx">的值为</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl"><span class="nx">第五行</span> <span class="o">-</span> <span class="nx">c</span> <span class="nx">的值为</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl"><span class="nx">第六行</span> <span class="o">-</span> <span class="nx">a</span> <span class="nx">的值为</span> <span class="mi">22</span>
</span></span><span class="line"><span class="cl"><span class="nx">第七行</span> <span class="o">-</span> <span class="nx">a</span> <span class="nx">的值为</span> <span class="mi">20</span>
</span></span></code></pre></div><hr>
<h2 id="关系运算符">关系运算符<a hidden class="anchor" aria-hidden="true" href="#关系运算符">#</a></h2>
<p>下表列出了所有Go语言的关系运算符。假定 A 值为 10，B 值为 20。</p>
<table>
  <thead>
      <tr>
          <th>运算符</th>
          <th>描述</th>
          <th>实例</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>==</td>
          <td>检查两个值是否相等，如果相等返回 True 否则返回 False。</td>
          <td>(A == B)  为 False</td>
      </tr>
      <tr>
          <td>!=</td>
          <td>检查两个值是否不相等，如果不相等返回 True 否则返回 False。</td>
          <td>(A != B) 为 True</td>
      </tr>
      <tr>
          <td>&gt;</td>
          <td>检查左边值是否大于右边值，如果是返回 True 否则返回 False。</td>
          <td>(A &gt; B) 为 False</td>
      </tr>
      <tr>
          <td>&lt;</td>
          <td>检查左边值是否小于右边值，如果是返回 True 否则返回 False。</td>
          <td>(A &lt; B) 为 True</td>
      </tr>
      <tr>
          <td>&gt;=</td>
          <td>检查左边值是否大于等于右边值，如果是返回 True 否则返回 False。</td>
          <td>(A &gt;= B) 为 False</td>
      </tr>
      <tr>
          <td>&lt;=</td>
          <td>检查左边值是否小于等于右边值，如果是返回 True 否则返回 False。</td>
          <td>(A &lt;= B) 为 True</td>
      </tr>
  </tbody>
</table>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">a</span> <span class="kt">bool</span> <span class="p">=</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">b</span> <span class="kt">bool</span> <span class="p">=</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl">   <span class="k">if</span> <span class="p">(</span> <span class="nx">a</span> <span class="o">&amp;&amp;</span> <span class="nx">b</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;第一行 - 条件为 true\n&#34;</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span><span class="line"><span class="cl">   <span class="k">if</span> <span class="p">(</span> <span class="nx">a</span> <span class="o">||</span> <span class="nx">b</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;第二行 - 条件为 true\n&#34;</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span><span class="line"><span class="cl">   <span class="cm">/* 修改 a 和 b 的值 */</span>
</span></span><span class="line"><span class="cl">   <span class="nx">a</span> <span class="p">=</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl">   <span class="nx">b</span> <span class="p">=</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">   <span class="k">if</span> <span class="p">(</span> <span class="nx">a</span> <span class="o">&amp;&amp;</span> <span class="nx">b</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;第三行 - 条件为 true\n&#34;</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;第三行 - 条件为 false\n&#34;</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span><span class="line"><span class="cl">   <span class="k">if</span> <span class="p">(</span> <span class="p">!(</span><span class="nx">a</span> <span class="o">&amp;&amp;</span> <span class="nx">b</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;第四行 - 条件为 true\n&#34;</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>运行结果：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">第一行</span> <span class="o">-</span> <span class="nx">a</span> <span class="nx">不等于</span> <span class="nx">b</span>
</span></span><span class="line"><span class="cl"><span class="nx">第二行</span> <span class="o">-</span> <span class="nx">a</span> <span class="nx">不小于</span> <span class="nx">b</span>
</span></span><span class="line"><span class="cl"><span class="nx">第三行</span> <span class="o">-</span> <span class="nx">a</span> <span class="nx">大于</span> <span class="nx">b</span>
</span></span><span class="line"><span class="cl"><span class="nx">第四行</span> <span class="o">-</span> <span class="nx">a</span> <span class="nx">小于等于</span> <span class="nx">b</span>
</span></span><span class="line"><span class="cl"><span class="nx">第五行</span> <span class="o">-</span> <span class="nx">b</span> <span class="nx">大于等于</span> <span class="nx">a</span>
</span></span></code></pre></div><h2 id="逻辑运算符">逻辑运算符<a hidden class="anchor" aria-hidden="true" href="#逻辑运算符">#</a></h2>
<p>下表列出了所有Go语言的逻辑运算符。假定 A 值为 True，B 值为 False。</p>
<table>
  <thead>
      <tr>
          <th>运算符</th>
          <th>描述</th>
          <th>实例</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>&amp;&amp;</td>
          <td>逻辑 AND 运算符。 如果两边的操作数都是 True，则条件 True，否则为 False。</td>
          <td>(A &amp;&amp; B) 为 False</td>
      </tr>
      <tr>
          <td>||</td>
          <td>逻辑 OR 运算符。 如果两边的操作数有一个 True，则条件 True，否则为 False。</td>
          <td>(A || B) 为 True</td>
      </tr>
      <tr>
          <td>!</td>
          <td>逻辑 NOT 运算符。 如果条件为 True，则逻辑 NOT 条件 False，否则为 True。</td>
          <td>!(A &amp;&amp; B) 为 True</td>
      </tr>
  </tbody>
</table>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">a</span> <span class="kt">bool</span> <span class="p">=</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">b</span> <span class="kt">bool</span> <span class="p">=</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl">   <span class="k">if</span> <span class="p">(</span> <span class="nx">a</span> <span class="o">&amp;&amp;</span> <span class="nx">b</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;第一行 - 条件为 true\n&#34;</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span><span class="line"><span class="cl">   <span class="k">if</span> <span class="p">(</span> <span class="nx">a</span> <span class="o">||</span> <span class="nx">b</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;第二行 - 条件为 true\n&#34;</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span><span class="line"><span class="cl">   <span class="cm">/* 修改 a 和 b 的值 */</span>
</span></span><span class="line"><span class="cl">   <span class="nx">a</span> <span class="p">=</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl">   <span class="nx">b</span> <span class="p">=</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl">   <span class="k">if</span> <span class="p">(</span> <span class="nx">a</span> <span class="o">&amp;&amp;</span> <span class="nx">b</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;第三行 - 条件为 true\n&#34;</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;第三行 - 条件为 false\n&#34;</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span><span class="line"><span class="cl">   <span class="k">if</span> <span class="p">(</span> <span class="p">!(</span><span class="nx">a</span> <span class="o">&amp;&amp;</span> <span class="nx">b</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;第四行 - 条件为 true\n&#34;</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>运行结果：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">第二行</span> <span class="o">-</span> <span class="nx">条件为</span> <span class="kc">true</span>
</span></span><span class="line"><span class="cl"><span class="nx">第三行</span> <span class="o">-</span> <span class="nx">条件为</span> <span class="kc">false</span>
</span></span><span class="line"><span class="cl"><span class="nx">第四行</span> <span class="o">-</span> <span class="nx">条件为</span> <span class="kc">true</span>
</span></span></code></pre></div><h2 id="位运算符">位运算符<a hidden class="anchor" aria-hidden="true" href="#位运算符">#</a></h2>
<p>位运算符对整数在内存中的二进制位进行操作。</p>
<p>下表列出了位运算符 &amp;, |, 和 ^ 的计算：</p>
<table>
  <thead>
      <tr>
          <th>p</th>
          <th>q</th>
          <th>p &amp; q</th>
          <th>p | q</th>
          <th>p ^ q</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
      </tr>
      <tr>
          <td>0</td>
          <td>1</td>
          <td>0</td>
          <td>1</td>
          <td>1</td>
      </tr>
      <tr>
          <td>1</td>
          <td>1</td>
          <td>1</td>
          <td>1</td>
          <td>0</td>
      </tr>
      <tr>
          <td>1</td>
          <td>0</td>
          <td>0</td>
          <td>1</td>
          <td>1</td>
      </tr>
  </tbody>
</table>
<p>假定 A = 60;  B = 13; 其二进制数转换为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">A</span> <span class="p">=</span> <span class="mo">0011</span> <span class="mi">1100</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">B</span> <span class="p">=</span> <span class="mo">0000</span> <span class="mi">1101</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">-----------------</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">A</span><span class="o">&amp;</span><span class="nx">B</span> <span class="p">=</span> <span class="mo">0000</span> <span class="mi">1100</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">A</span><span class="p">|</span><span class="nx">B</span> <span class="p">=</span> <span class="mo">0011</span> <span class="mi">1101</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">A</span><span class="p">^</span><span class="nx">B</span> <span class="p">=</span> <span class="mo">0011</span> <span class="mo">0001</span>
</span></span></code></pre></div><p>Go 语言支持的位运算符如下表所示。假定 A 为60，B 为13：</p>
<table>
  <thead>
      <tr>
          <th>运算符</th>
          <th>描述</th>
          <th>实例</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>&amp;</td>
          <td>按位与运算符&quot;&amp;&ldquo;是双目运算符。 其功能是参与运算的两数各对应的二进位相与。</td>
          <td>(A &amp; B) 结果为 12,  二进制为 0000 1100</td>
      </tr>
      <tr>
          <td>|</td>
          <td>按位或运算符&rdquo;|&ldquo;是双目运算符。 其功能是参与运算的两数各对应的二进位相或</td>
          <td>(A | B) 结果为 61, 二进制为 0011 1101</td>
      </tr>
      <tr>
          <td>^</td>
          <td>按位异或运算符&rdquo;^&ldquo;是双目运算符。 其功能是参与运算的两数各对应的二进位相异或，当两对应的二进位相异时，结果为1。</td>
          <td>(A ^ B) 结果为 49, 二进制为 0011 0001</td>
      </tr>
      <tr>
          <td>&laquo;</td>
          <td>左移运算符&rdquo;&laquo;&ldquo;是双目运算符。左移n位就是乘以2的n次方。 其功能把&rdquo;&laquo;&ldquo;左边的运算数的各二进位全部左移若干位，由&rdquo;&laquo;&ldquo;右边的数指定移动的位数，高位丢弃，低位补0。</td>
          <td>A &laquo; 2 结果为 240 ，二进制为 1111 0000</td>
      </tr>
      <tr>
          <td>&raquo;</td>
          <td>右移运算符&rdquo;&raquo;&ldquo;是双目运算符。右移n位就是除以2的n次方。 其功能是把&rdquo;&raquo;&ldquo;左边的运算数的各二进位全部右移若干位，&quot;&raquo;&ldquo;右边的数指定移动的位数。</td>
          <td>A &raquo; 2 结果为 15 ，二进制为 0000 1111</td>
      </tr>
  </tbody>
</table>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">a</span> <span class="kt">uint</span> <span class="p">=</span> <span class="mi">60</span>      <span class="cm">/* 60 = 0011 1100 */</span>  
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">b</span> <span class="kt">uint</span> <span class="p">=</span> <span class="mi">13</span>      <span class="cm">/* 13 = 0000 1101 */</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">c</span> <span class="kt">uint</span> <span class="p">=</span> <span class="mi">0</span>          
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nx">c</span> <span class="p">=</span> <span class="nx">a</span> <span class="o">&amp;</span> <span class="nx">b</span>       <span class="cm">/* 12 = 0000 1100 */</span> 
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;第一行 - c 的值为 %d\n&#34;</span><span class="p">,</span> <span class="nx">c</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nx">c</span> <span class="p">=</span> <span class="nx">a</span> <span class="p">|</span> <span class="nx">b</span>       <span class="cm">/* 61 = 0011 1101 */</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;第二行 - c 的值为 %d\n&#34;</span><span class="p">,</span> <span class="nx">c</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nx">c</span> <span class="p">=</span> <span class="nx">a</span> <span class="p">^</span> <span class="nx">b</span>       <span class="cm">/* 49 = 0011 0001 */</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;第三行 - c 的值为 %d\n&#34;</span><span class="p">,</span> <span class="nx">c</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nx">c</span> <span class="p">=</span> <span class="nx">a</span> <span class="o">&lt;&lt;</span> <span class="mi">2</span>     <span class="cm">/* 240 = 1111 0000 */</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;第四行 - c 的值为 %d\n&#34;</span><span class="p">,</span> <span class="nx">c</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nx">c</span> <span class="p">=</span> <span class="nx">a</span> <span class="o">&gt;&gt;</span> <span class="mi">2</span>     <span class="cm">/* 15 = 0000 1111 */</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;第五行 - c 的值为 %d\n&#34;</span><span class="p">,</span> <span class="nx">c</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>运行结果：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">第一行</span> <span class="o">-</span> <span class="nx">c</span> <span class="nx">的值为</span> <span class="mi">12</span>
</span></span><span class="line"><span class="cl"><span class="nx">第二行</span> <span class="o">-</span> <span class="nx">c</span> <span class="nx">的值为</span> <span class="mi">61</span>
</span></span><span class="line"><span class="cl"><span class="nx">第三行</span> <span class="o">-</span> <span class="nx">c</span> <span class="nx">的值为</span> <span class="mi">49</span>
</span></span><span class="line"><span class="cl"><span class="nx">第四行</span> <span class="o">-</span> <span class="nx">c</span> <span class="nx">的值为</span> <span class="mi">240</span>
</span></span><span class="line"><span class="cl"><span class="nx">第五行</span> <span class="o">-</span> <span class="nx">c</span> <span class="nx">的值为</span> <span class="mi">15</span>
</span></span></code></pre></div><h2 id="赋值运算符">赋值运算符<a hidden class="anchor" aria-hidden="true" href="#赋值运算符">#</a></h2>
<p>下表列出了所有Go语言的赋值运算符。</p>
<table>
  <thead>
      <tr>
          <th>运算符</th>
          <th>描述</th>
          <th>实例</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>=</td>
          <td>简单的赋值运算符，将一个表达式的值赋给一个左值</td>
          <td>C = A + B 将 A + B 表达式结果赋值给 C</td>
      </tr>
      <tr>
          <td>+=</td>
          <td>相加后再赋值</td>
          <td>C += A 等于 C = C + A</td>
      </tr>
      <tr>
          <td>-=</td>
          <td>相减后再赋值</td>
          <td>C -= A 等于 C = C - A</td>
      </tr>
      <tr>
          <td>*=</td>
          <td>相乘后再赋值</td>
          <td>C *= A 等于 C = C * A</td>
      </tr>
      <tr>
          <td>/=</td>
          <td>相除后再赋值</td>
          <td>C /= A 等于 C = C / A</td>
      </tr>
      <tr>
          <td>%=</td>
          <td>求余后再赋值</td>
          <td>C %= A 等于 C = C % A</td>
      </tr>
      <tr>
          <td>&laquo;=</td>
          <td>左移后赋值</td>
          <td>C &laquo;= 2 等于  C = C &laquo; 2</td>
      </tr>
      <tr>
          <td>&raquo;=</td>
          <td>右移后赋值</td>
          <td>C &raquo;= 2 等于  C = C &raquo; 2</td>
      </tr>
      <tr>
          <td>&amp;=</td>
          <td>按位与后赋值</td>
          <td>C &amp;= 2 等于  C = C &amp; 2</td>
      </tr>
      <tr>
          <td>^=</td>
          <td>按位异或后赋值</td>
          <td>C ^= 2 等于  C = C ^ 2</td>
      </tr>
      <tr>
          <td>|=</td>
          <td>按位或后赋值</td>
          <td>C |= 2 等于  C = C | 2</td>
      </tr>
  </tbody>
</table>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">a</span> <span class="kt">int</span> <span class="p">=</span> <span class="mi">21</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">c</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nx">c</span> <span class="p">=</span>  <span class="nx">a</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;第 1 行 - =  运算符实例，c 值为 = %d\n&#34;</span><span class="p">,</span> <span class="nx">c</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nx">c</span> <span class="o">+=</span>  <span class="nx">a</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;第 2 行 - += 运算符实例，c 值为 = %d\n&#34;</span><span class="p">,</span> <span class="nx">c</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nx">c</span> <span class="o">-=</span>  <span class="nx">a</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;第 3 行 - -= 运算符实例，c 值为 = %d\n&#34;</span><span class="p">,</span> <span class="nx">c</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nx">c</span> <span class="o">*=</span>  <span class="nx">a</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;第 4 行 - *= 运算符实例，c 值为 = %d\n&#34;</span><span class="p">,</span> <span class="nx">c</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nx">c</span> <span class="o">/=</span>  <span class="nx">a</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;第 5 行 - /= 运算符实例，c 值为 = %d\n&#34;</span><span class="p">,</span> <span class="nx">c</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nx">c</span>  <span class="p">=</span> <span class="mi">200</span><span class="p">;</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nx">c</span> <span class="o">&lt;&lt;=</span>  <span class="mi">2</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;第 6行  - &lt;&lt;= 运算符实例，c 值为 = %d\n&#34;</span><span class="p">,</span> <span class="nx">c</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nx">c</span> <span class="o">&gt;&gt;=</span>  <span class="mi">2</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;第 7 行 - &gt;&gt;= 运算符实例，c 值为 = %d\n&#34;</span><span class="p">,</span> <span class="nx">c</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nx">c</span> <span class="o">&amp;=</span>  <span class="mi">2</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;第 8 行 - &amp;= 运算符实例，c 值为 = %d\n&#34;</span><span class="p">,</span> <span class="nx">c</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nx">c</span> <span class="p">^=</span>  <span class="mi">2</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;第 9 行 - ^= 运算符实例，c 值为 = %d\n&#34;</span><span class="p">,</span> <span class="nx">c</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nx">c</span> <span class="o">|=</span>  <span class="mi">2</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;第 10 行 - |= 运算符实例，c 值为 = %d\n&#34;</span><span class="p">,</span> <span class="nx">c</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>运行结果：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">第</span> <span class="mi">1</span> <span class="nx">行</span> <span class="o">-</span> <span class="p">=</span>  <span class="nx">运算符实例</span><span class="err">，</span><span class="nx">c</span> <span class="nx">值为</span> <span class="p">=</span> <span class="mi">21</span>
</span></span><span class="line"><span class="cl"><span class="nx">第</span> <span class="mi">2</span> <span class="nx">行</span> <span class="o">-</span> <span class="o">+=</span> <span class="nx">运算符实例</span><span class="err">，</span><span class="nx">c</span> <span class="nx">值为</span> <span class="p">=</span> <span class="mi">42</span>
</span></span><span class="line"><span class="cl"><span class="nx">第</span> <span class="mi">3</span> <span class="nx">行</span> <span class="o">-</span> <span class="o">-=</span> <span class="nx">运算符实例</span><span class="err">，</span><span class="nx">c</span> <span class="nx">值为</span> <span class="p">=</span> <span class="mi">21</span>
</span></span><span class="line"><span class="cl"><span class="nx">第</span> <span class="mi">4</span> <span class="nx">行</span> <span class="o">-</span> <span class="o">*=</span> <span class="nx">运算符实例</span><span class="err">，</span><span class="nx">c</span> <span class="nx">值为</span> <span class="p">=</span> <span class="mi">441</span>
</span></span><span class="line"><span class="cl"><span class="nx">第</span> <span class="mi">5</span> <span class="nx">行</span> <span class="o">-</span> <span class="o">/=</span> <span class="nx">运算符实例</span><span class="err">，</span><span class="nx">c</span> <span class="nx">值为</span> <span class="p">=</span> <span class="mi">21</span>
</span></span><span class="line"><span class="cl"><span class="nx">第</span> <span class="mi">6</span><span class="nx">行</span>  <span class="o">-</span> <span class="o">&lt;&lt;=</span> <span class="nx">运算符实例</span><span class="err">，</span><span class="nx">c</span> <span class="nx">值为</span> <span class="p">=</span> <span class="mi">800</span>
</span></span><span class="line"><span class="cl"><span class="nx">第</span> <span class="mi">7</span> <span class="nx">行</span> <span class="o">-</span> <span class="o">&gt;&gt;=</span> <span class="nx">运算符实例</span><span class="err">，</span><span class="nx">c</span> <span class="nx">值为</span> <span class="p">=</span> <span class="mi">200</span>
</span></span><span class="line"><span class="cl"><span class="nx">第</span> <span class="mi">8</span> <span class="nx">行</span> <span class="o">-</span> <span class="o">&amp;=</span> <span class="nx">运算符实例</span><span class="err">，</span><span class="nx">c</span> <span class="nx">值为</span> <span class="p">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="nx">第</span> <span class="mi">9</span> <span class="nx">行</span> <span class="o">-</span> <span class="p">^=</span> <span class="nx">运算符实例</span><span class="err">，</span><span class="nx">c</span> <span class="nx">值为</span> <span class="p">=</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl"><span class="nx">第</span> <span class="mi">10</span> <span class="nx">行</span> <span class="o">-</span> <span class="o">|=</span> <span class="nx">运算符实例</span><span class="err">，</span><span class="nx">c</span> <span class="nx">值为</span> <span class="p">=</span> <span class="mi">2</span>
</span></span></code></pre></div><h2 id="其他运算符">其他运算符<a hidden class="anchor" aria-hidden="true" href="#其他运算符">#</a></h2>
<p>下表列出了Go语言的其他运算符。</p>
<table>
  <thead>
      <tr>
          <th>运算符</th>
          <th>描述</th>
          <th>实例</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>&amp;</td>
          <td>返回变量存储地址</td>
          <td>&amp;a; 将给出变量的实际地址。</td>
      </tr>
      <tr>
          <td>*</td>
          <td>指针变量。</td>
          <td>*a; 是一个指针变量</td>
      </tr>
  </tbody>
</table>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">a</span> <span class="kt">int</span> <span class="p">=</span> <span class="mi">4</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">b</span> <span class="kt">int32</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">c</span> <span class="kt">float32</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">ptr</span> <span class="o">*</span><span class="kt">int</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* 运算符实例 */</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;第 1 行 - a 变量类型为 = %T\n&#34;</span><span class="p">,</span> <span class="nx">a</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;第 2 行 - b 变量类型为 = %T\n&#34;</span><span class="p">,</span> <span class="nx">b</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;第 3 行 - c 变量类型为 = %T\n&#34;</span><span class="p">,</span> <span class="nx">c</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/*  &amp; 和 * 运算符实例 */</span>
</span></span><span class="line"><span class="cl">   <span class="nx">ptr</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">a</span>     <span class="cm">/* &#39;ptr&#39; 包含了 &#39;a&#39; 变量的地址 */</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;a 的值为  %d\n&#34;</span><span class="p">,</span> <span class="nx">a</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;*ptr 为 %d\n&#34;</span><span class="p">,</span> <span class="o">*</span><span class="nx">ptr</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>运行结果：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">第</span> <span class="mi">1</span> <span class="nx">行</span> <span class="o">-</span> <span class="nx">a</span> <span class="nx">变量类型为</span> <span class="p">=</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl"><span class="nx">第</span> <span class="mi">2</span> <span class="nx">行</span> <span class="o">-</span> <span class="nx">b</span> <span class="nx">变量类型为</span> <span class="p">=</span> <span class="kt">int32</span>
</span></span><span class="line"><span class="cl"><span class="nx">第</span> <span class="mi">3</span> <span class="nx">行</span> <span class="o">-</span> <span class="nx">c</span> <span class="nx">变量类型为</span> <span class="p">=</span> <span class="kt">float32</span>
</span></span><span class="line"><span class="cl"><span class="nx">a</span> <span class="nx">的值为</span>  <span class="mi">4</span>
</span></span><span class="line"><span class="cl"><span class="o">*</span><span class="nx">ptr</span> <span class="nx">为</span> <span class="mi">4</span>
</span></span></code></pre></div><h2 id="运算符优先级">运算符优先级<a hidden class="anchor" aria-hidden="true" href="#运算符优先级">#</a></h2>
<p>有些运算符拥有较高的优先级，二元运算符的运算方向均是从左至右。下表列出了所有运算符以及它们的优先级，由上至下代表优先级<strong>由高到低</strong>：</p>
<table>
  <thead>
      <tr>
          <th>优先级</th>
          <th>运算符</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>5</td>
          <td>*  /  %  &laquo;  &raquo;  &amp;  &amp;^</td>
      </tr>
      <tr>
          <td>4</td>
          <td>+  -  |  ^</td>
      </tr>
      <tr>
          <td>3</td>
          <td>==  !=  &lt;  &lt;=  &gt;  &gt;=</td>
      </tr>
      <tr>
          <td>2</td>
          <td>&amp;&amp;</td>
      </tr>
      <tr>
          <td>1</td>
          <td>||</td>
      </tr>
  </tbody>
</table>
<p>当然，你可以通过使用<strong>括号</strong>来临时提升某个表达式的整体运算优先级。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">a</span> <span class="kt">int</span> <span class="p">=</span> <span class="mi">20</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">b</span> <span class="kt">int</span> <span class="p">=</span> <span class="mi">10</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">c</span> <span class="kt">int</span> <span class="p">=</span> <span class="mi">15</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">d</span> <span class="kt">int</span> <span class="p">=</span> <span class="mi">5</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">e</span> <span class="kt">int</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nx">e</span> <span class="p">=</span> <span class="p">(</span><span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">)</span> <span class="o">*</span> <span class="nx">c</span> <span class="o">/</span> <span class="nx">d</span><span class="p">;</span>      <span class="c1">// ( 30 * 15 ) / 5
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;(a + b) * c / d 的值为 : %d\n&#34;</span><span class="p">,</span>  <span class="nx">e</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nx">e</span> <span class="p">=</span> <span class="p">((</span><span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">)</span> <span class="o">*</span> <span class="nx">c</span><span class="p">)</span> <span class="o">/</span> <span class="nx">d</span><span class="p">;</span>    <span class="c1">// (30 * 15 ) / 5
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;((a + b) * c) / d 的值为  : %d\n&#34;</span> <span class="p">,</span>  <span class="nx">e</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nx">e</span> <span class="p">=</span> <span class="p">(</span><span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">c</span> <span class="o">/</span> <span class="nx">d</span><span class="p">);</span>   <span class="c1">// (30) * (15/5)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;(a + b) * (c / d) 的值为  : %d\n&#34;</span><span class="p">,</span>  <span class="nx">e</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nx">e</span> <span class="p">=</span> <span class="nx">a</span> <span class="o">+</span> <span class="p">(</span><span class="nx">b</span> <span class="o">*</span> <span class="nx">c</span><span class="p">)</span> <span class="o">/</span> <span class="nx">d</span><span class="p">;</span>     <span class="c1">//  20 + (150/5)
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;a + (b * c) / d 的值为  : %d\n&#34;</span> <span class="p">,</span>  <span class="nx">e</span> <span class="p">);</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>运行结果：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="p">(</span><span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">)</span> <span class="o">*</span> <span class="nx">c</span> <span class="o">/</span> <span class="nx">d</span> <span class="nx">的值为</span> <span class="p">:</span> <span class="mi">90</span>
</span></span><span class="line"><span class="cl"><span class="p">((</span><span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">)</span> <span class="o">*</span> <span class="nx">c</span><span class="p">)</span> <span class="o">/</span> <span class="nx">d</span> <span class="nx">的值为</span>  <span class="p">:</span> <span class="mi">90</span>
</span></span><span class="line"><span class="cl"><span class="p">(</span><span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="nx">c</span> <span class="o">/</span> <span class="nx">d</span><span class="p">)</span> <span class="nx">的值为</span>  <span class="p">:</span> <span class="mi">90</span>
</span></span><span class="line"><span class="cl"><span class="nx">a</span> <span class="o">+</span> <span class="p">(</span><span class="nx">b</span> <span class="o">*</span> <span class="nx">c</span><span class="p">)</span> <span class="o">/</span> <span class="nx">d</span> <span class="nx">的值为</span>  <span class="p">:</span> <span class="mi">50</span>
</span></span></code></pre></div><h2 id="补充">补充<a hidden class="anchor" aria-hidden="true" href="#补充">#</a></h2>
<p>Go 的自增，自减只能作为表达式使用，而不能用于赋值语句。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">a</span><span class="o">++</span> <span class="c1">// 这是允许的，类似 a = a + 1,结果与 a++ 相同
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">a</span><span class="o">--</span> <span class="c1">//与 a++ 相似
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">a</span> <span class="p">=</span> <span class="nx">a</span><span class="o">++</span> <span class="c1">// 这是不允许的，会出现编译错误 syntax error: unexpected ++ at end of statement
</span></span></span></code></pre></div><h1 id="go的条件语句">go的条件语句<a hidden class="anchor" aria-hidden="true" href="#go的条件语句">#</a></h1>
<p>条件语句需要开发者通过指定一个或多个条件，并通过测试条件是否为 true 来决定是否执行指定语句，并在条件为 false 的情况在执行另外的语句。</p>
<p><img alt="image-20240917105430257" loading="lazy" src="../img/image-20240917105430257.png"></p>
<p>Go 语言提供了以下几种条件判断语句：</p>
<table>
  <thead>
      <tr>
          <th>语句</th>
          <th>描述</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><a href="https://www.runoob.com/go/go-if-statement.html">if 语句</a></td>
          <td><strong>if 语句</strong> 由一个布尔表达式后紧跟一个或多个语句组成。</td>
      </tr>
      <tr>
          <td><a href="https://www.runoob.com/go/go-if-else-statement.html">if&hellip;else 语句</a></td>
          <td><strong>if 语句</strong> 后可以使用可选的 <strong>else 语句</strong>, else 语句中的表达式在布尔表达式为 false 时执行。</td>
      </tr>
      <tr>
          <td><a href="https://www.runoob.com/go/go-nested-if-statements.html"> if 嵌套语句</a></td>
          <td>你可以在 <strong>if</strong> 或 <strong>else if</strong> 语句中嵌入一个或多个 <strong>if</strong> 或 <strong>else if</strong> 语句。</td>
      </tr>
      <tr>
          <td><a href="https://www.runoob.com/go/go-switch-statement.html">switch 语句</a></td>
          <td><strong>switch</strong> 语句用于基于不同条件执行不同动作。</td>
      </tr>
      <tr>
          <td><a href="https://www.runoob.com/go/go-select-statement.html">select 语句</a></td>
          <td><strong>select</strong> 语句类似于 <strong>switch</strong> 语句，但是select会随机执行一个可运行的case。如果没有case可运行，它将阻塞，直到有case可运行。</td>
      </tr>
  </tbody>
</table>
<h1 id="go的循环语句">go的循环语句<a hidden class="anchor" aria-hidden="true" href="#go的循环语句">#</a></h1>
<p><img alt="image-20240918110308546" loading="lazy" src="../img/image-20240918110308546.png"></p>
<p>Go 语言提供了以下几种类型循环处理语句：</p>
<table>
  <thead>
      <tr>
          <th>循环类型</th>
          <th>描述</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><a href="https://www.runoob.com/go/go-for-loop.html">for 循环</a></td>
          <td>重复执行语句块</td>
      </tr>
      <tr>
          <td><a href="https://www.runoob.com/go/go-nested-loops.html">循环嵌套</a></td>
          <td>在 for 循环中嵌套一个或多个 for 循环</td>
      </tr>
  </tbody>
</table>
<hr>
<h2 id="循环控制语句">循环控制语句<a hidden class="anchor" aria-hidden="true" href="#循环控制语句">#</a></h2>
<p>循环控制语句可以控制循环体内语句的执行过程。</p>
<p>GO 语言支持以下几种循环控制语句：</p>
<table>
  <thead>
      <tr>
          <th>控制语句</th>
          <th>描述</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><a href="https://www.runoob.com/go/go-break-statement.html">break 语句</a></td>
          <td>经常用于中断当前 for 循环或跳出 switch 语句</td>
      </tr>
      <tr>
          <td><a href="https://www.runoob.com/go/go-continue-statement.html">continue 语句</a></td>
          <td>跳过当前循环的剩余语句，然后继续进行下一轮循环。</td>
      </tr>
      <tr>
          <td><a href="https://www.runoob.com/go/go-goto-statement.html">goto 语句</a></td>
          <td>将控制转移到被标记的语句。</td>
      </tr>
  </tbody>
</table>
<hr>
<h2 id="无限循环">无限循环<a hidden class="anchor" aria-hidden="true" href="#无限循环">#</a></h2>
<p>如果循环中条件语句永远不为 false 则会进行无限循环，我们可以通过 for 循环语句中只设置一个条件表达式来执行无限循环：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="kc">true</span>  <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;这是无限循环。\n&#34;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h1 id="go-语言函数">Go 语言函数<a hidden class="anchor" aria-hidden="true" href="#go-语言函数">#</a></h1>
<ul>
<li>函数是基本的代码块，用于执行一个任务。</li>
<li>Go 语言最少有个 main() 函数。</li>
<li>你可以通过函数来划分不同功能，逻辑上每个函数执行的是指定的任务。</li>
<li>函数声明告诉了编译器函数的名称，返回类型，和参数。</li>
<li>Go 语言标准库提供了多种可动用的内置的函数。例如，len() 函数可以接受不同类型参数并返回该类型的长度。如果我们传入的是字符串则返回字符串的长度，如果传入的是数组，则返回数组中包含的元素个数。</li>
</ul>
<p>Go 语言函数定义格式如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">function_name</span><span class="p">(</span> <span class="p">[</span><span class="nx">parameter</span> <span class="nx">list</span><span class="p">]</span> <span class="p">)</span> <span class="p">[</span><span class="nx">return_types</span><span class="p">]</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="c1">//函数体
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></div><p>函数定义解析：</p>
<ul>
<li>func：函数由 func 开始声明</li>
<li>function_name：函数名称，参数列表和返回值类型构成了函数签名。</li>
<li>parameter list：参数列表，参数就像一个占位符，当函数被调用时，你可以将值传递给参数，这个值被称为实际参数。参数列表指定的是参数类型、顺序、及参数个数。参数是可选的，也就是说函数也可以不包含参数。</li>
<li>return_types：返回类型，函数返回一列值。return_types 是该列值的数据类型。有些功能不需要返回值，这种情况下 return_types 不是必须的。</li>
<li>函数体：函数定义的代码集合。</li>
</ul>
<h2 id="实例-2">实例<a hidden class="anchor" aria-hidden="true" href="#实例-2">#</a></h2>
<p>以下实例为 max() 函数的代码，该函数传入两个整型参数 num1 和 num2，并返回这两个参数的最大值：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="cm">/* 函数返回两个数的最大值 */</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nb">max</span><span class="p">(</span><span class="nx">num1</span><span class="p">,</span> <span class="nx">num2</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="cm">/* 声明局部变量 */</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">result</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="k">if</span> <span class="p">(</span><span class="nx">num1</span> <span class="p">&gt;</span> <span class="nx">num2</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">result</span> <span class="p">=</span> <span class="nx">num1</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">result</span> <span class="p">=</span> <span class="nx">num2</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span><span class="line"><span class="cl">   <span class="k">return</span> <span class="nx">result</span> 
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h2 id="函数调用">函数调用<a hidden class="anchor" aria-hidden="true" href="#函数调用">#</a></h2>
<p>当创建函数时，你定义了函数需要做什么，通过调用该函数来执行指定任务。</p>
<p>调用函数，向函数传递参数，并返回值，例如：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="cm">/* 定义局部变量 */</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">a</span> <span class="kt">int</span> <span class="p">=</span> <span class="mi">100</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">b</span> <span class="kt">int</span> <span class="p">=</span> <span class="mi">200</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">ret</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* 调用函数并返回最大值 */</span>
</span></span><span class="line"><span class="cl">   <span class="nx">ret</span> <span class="p">=</span> <span class="nb">max</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span> <span class="s">&#34;最大值是 : %d\n&#34;</span><span class="p">,</span> <span class="nx">ret</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/* 函数返回两个数的最大值 */</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nb">max</span><span class="p">(</span><span class="nx">num1</span><span class="p">,</span> <span class="nx">num2</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="cm">/* 定义局部变量 */</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">result</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="k">if</span> <span class="p">(</span><span class="nx">num1</span> <span class="p">&gt;</span> <span class="nx">num2</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">result</span> <span class="p">=</span> <span class="nx">num1</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">result</span> <span class="p">=</span> <span class="nx">num2</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span><span class="line"><span class="cl">   <span class="k">return</span> <span class="nx">result</span> 
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>以上实例在 main() 函数中调用 max（）函数，执行结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">最大值是</span> <span class="p">:</span> <span class="mi">200</span>
</span></span></code></pre></div><h2 id="函数返回多个值">函数返回多个值<a hidden class="anchor" aria-hidden="true" href="#函数返回多个值">#</a></h2>
<p>Go 函数可以返回多个值，例如：</p>
<h2 id="实例-3">实例<a hidden class="anchor" aria-hidden="true" href="#实例-3">#</a></h2>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">swap</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span> <span class="kt">string</span><span class="p">)</span> <span class="p">(</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="k">return</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">x</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span> <span class="o">:=</span> <span class="nf">swap</span><span class="p">(</span><span class="s">&#34;Google&#34;</span><span class="p">,</span> <span class="s">&#34;Runoob&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>以上实例执行结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">Runoob</span> <span class="nx">Google</span>
</span></span></code></pre></div><h2 id="函数参数">函数参数<a hidden class="anchor" aria-hidden="true" href="#函数参数">#</a></h2>
<p>函数如果使用参数，该变量可称为函数的形参。</p>
<p>形参就像定义在函数体内的局部变量。</p>
<p>调用函数，可以通过两种方式来传递参数：</p>
<table>
  <thead>
      <tr>
          <th>传递类型</th>
          <th>描述</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><a href="https://www.runoob.com/go/go-function-call-by-value.html">值传递</a></td>
          <td>值传递是指在调用函数时将实际参数复制一份传递到函数中，这样在函数中如果对参数进行修改，将不会影响到实际参数。</td>
      </tr>
      <tr>
          <td><a href="https://www.runoob.com/go/go-function-call-by-reference.html">引用传递</a></td>
          <td>引用传递是指在调用函数时将实际参数的地址传递到函数中，那么在函数中对参数所进行的修改，将影响到实际参数。</td>
      </tr>
  </tbody>
</table>
<p>默认情况下，Go 语言使用的是值传递，即在调用过程中不会影响到实际参数。</p>
<hr>
<h2 id="函数用法">函数用法<a hidden class="anchor" aria-hidden="true" href="#函数用法">#</a></h2>
<table>
  <thead>
      <tr>
          <th>函数用法</th>
          <th>描述</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><a href="https://www.runoob.com/go/go-function-as-values.html">函数作为另外一个函数的实参</a></td>
          <td>函数定义后可作为另外一个函数的实参数传入</td>
      </tr>
      <tr>
          <td><a href="https://www.runoob.com/go/go-function-closures.html">闭包</a></td>
          <td>闭包是匿名函数，可在动态编程中使用</td>
      </tr>
      <tr>
          <td><a href="https://www.runoob.com/go/go-method.html">方法</a></td>
          <td>方法就是一个包含了接受者的函数</td>
      </tr>
  </tbody>
</table>
<h1 id="go-语言变量作用域">Go 语言变量作用域<a hidden class="anchor" aria-hidden="true" href="#go-语言变量作用域">#</a></h1>
<p>作用域为已声明标识符所表示的常量、类型、变量、函数或包在源代码中的作用范围。</p>
<p>Go 语言中变量可以在三个地方声明：</p>
<ul>
<li>函数内定义的变量称为<strong>局部变量</strong></li>
<li>函数外定义的变量称为<strong>全局变量</strong></li>
<li>函数定义中的变量称为<strong>形式参数</strong></li>
</ul>
<h2 id="局部变量">局部变量<a hidden class="anchor" aria-hidden="true" href="#局部变量">#</a></h2>
<p>在函数体内声明的变量称之为局部变量，它们的作用域只在函数体内，参数和返回值变量也是局部变量。</p>
<p>以下实例中 main() 函数使用了局部变量 a, b, c：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="cm">/* 声明局部变量 */</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">c</span> <span class="kt">int</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* 初始化参数 */</span>
</span></span><span class="line"><span class="cl">   <span class="nx">a</span> <span class="p">=</span> <span class="mi">10</span>
</span></span><span class="line"><span class="cl">   <span class="nx">b</span> <span class="p">=</span> <span class="mi">20</span>
</span></span><span class="line"><span class="cl">   <span class="nx">c</span> <span class="p">=</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span> <span class="p">(</span><span class="s">&#34;结果： a = %d, b = %d and c = %d\n&#34;</span><span class="p">,</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">c</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>以上实例执行输出结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">结果</span><span class="err">：</span> <span class="nx">a</span> <span class="p">=</span> <span class="mi">10</span><span class="p">,</span> <span class="nx">b</span> <span class="p">=</span> <span class="mi">20</span> <span class="nx">and</span> <span class="nx">c</span> <span class="p">=</span> <span class="mi">30</span>
</span></span></code></pre></div><h2 id="全局变量">全局变量<a hidden class="anchor" aria-hidden="true" href="#全局变量">#</a></h2>
<p>在函数体外声明的变量称之为全局变量，全局变量可以在整个包甚至外部包（被导出后）使用。</p>
<p>全局变量可以在任何函数中使用，以下实例演示了如何使用全局变量：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/* 声明全局变量 */</span>
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">g</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* 声明局部变量 */</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* 初始化参数 */</span>
</span></span><span class="line"><span class="cl">   <span class="nx">a</span> <span class="p">=</span> <span class="mi">10</span>
</span></span><span class="line"><span class="cl">   <span class="nx">b</span> <span class="p">=</span> <span class="mi">20</span>
</span></span><span class="line"><span class="cl">   <span class="nx">g</span> <span class="p">=</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;结果： a = %d, b = %d and g = %d\n&#34;</span><span class="p">,</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">,</span> <span class="nx">g</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>以上实例执行输出结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">结果</span><span class="err">：</span> <span class="nx">a</span> <span class="p">=</span> <span class="mi">10</span><span class="p">,</span> <span class="nx">b</span> <span class="p">=</span> <span class="mi">20</span> <span class="nx">and</span> <span class="nx">g</span> <span class="p">=</span> <span class="mi">30</span>
</span></span></code></pre></div><p>Go 语言程序中<strong>全局变量</strong>与<strong>局部变量</strong>名称可以相同，但是函数内的<strong>局部变量</strong>会被优先考虑。实例如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/* 声明全局变量 */</span>
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">g</span> <span class="kt">int</span> <span class="p">=</span> <span class="mi">20</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="cm">/* 声明局部变量 */</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">g</span> <span class="kt">int</span> <span class="p">=</span> <span class="mi">10</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span> <span class="p">(</span><span class="s">&#34;结果： g = %d\n&#34;</span><span class="p">,</span>  <span class="nx">g</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>以上实例执行输出结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">结果</span><span class="err">：</span> <span class="nx">g</span> <span class="p">=</span> <span class="mi">10</span>
</span></span></code></pre></div><h2 id="形式参数">形式参数<a hidden class="anchor" aria-hidden="true" href="#形式参数">#</a></h2>
<p>形式参数会作为函数的局部变量来使用。实例如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/* 声明全局变量 */</span>
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">a</span> <span class="kt">int</span> <span class="p">=</span> <span class="mi">20</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="cm">/* main 函数中声明局部变量 */</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">a</span> <span class="kt">int</span> <span class="p">=</span> <span class="mi">10</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">b</span> <span class="kt">int</span> <span class="p">=</span> <span class="mi">20</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">c</span> <span class="kt">int</span> <span class="p">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;main()函数中 a = %d\n&#34;</span><span class="p">,</span>  <span class="nx">a</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">   <span class="nx">c</span> <span class="p">=</span> <span class="nf">sum</span><span class="p">(</span> <span class="nx">a</span><span class="p">,</span> <span class="nx">b</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;main()函数中 c = %d\n&#34;</span><span class="p">,</span>  <span class="nx">c</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/* 函数定义-两数相加 */</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">sum</span><span class="p">(</span><span class="nx">a</span><span class="p">,</span> <span class="nx">b</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;sum() 函数中 a = %d\n&#34;</span><span class="p">,</span>  <span class="nx">a</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;sum() 函数中 b = %d\n&#34;</span><span class="p">,</span>  <span class="nx">b</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="k">return</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>以上实例执行输出结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nf">main</span><span class="p">()</span><span class="nx">函数中</span> <span class="nx">a</span> <span class="p">=</span> <span class="mi">10</span>
</span></span><span class="line"><span class="cl"><span class="nf">sum</span><span class="p">()</span> <span class="nx">函数中</span> <span class="nx">a</span> <span class="p">=</span> <span class="mi">10</span>
</span></span><span class="line"><span class="cl"><span class="nf">sum</span><span class="p">()</span> <span class="nx">函数中</span> <span class="nx">b</span> <span class="p">=</span> <span class="mi">20</span>
</span></span><span class="line"><span class="cl"><span class="nf">main</span><span class="p">()</span><span class="nx">函数中</span> <span class="nx">c</span> <span class="p">=</span> <span class="mi">30</span>
</span></span></code></pre></div><h2 id="初始化局部和全局变量">初始化局部和全局变量<a hidden class="anchor" aria-hidden="true" href="#初始化局部和全局变量">#</a></h2>
<p>不同类型的局部和全局变量<strong>默认值</strong>为：</p>
<table>
  <thead>
      <tr>
          <th>数据类型</th>
          <th>初始化默认值</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>int</td>
          <td>0</td>
      </tr>
      <tr>
          <td>float32</td>
          <td>0</td>
      </tr>
      <tr>
          <td>pointer</td>
          <td>nil</td>
      </tr>
  </tbody>
</table>
<h1 id="go-语言数组">Go 语言数组<a hidden class="anchor" aria-hidden="true" href="#go-语言数组">#</a></h1>
<p>Go 语言提供了数组类型的数据结构。</p>
<p>数组是具有相同唯一类型的一组已编号且长度固定的数据项序列，这种类型可以是任意的原始类型例如整型、字符串或者自定义类型。</p>
<p>相对于去声明 <strong>number0, number1, &hellip;, number99</strong> 的变量，使用数组形式 <strong>numbers[0], numbers[1] &hellip;, numbers[99]</strong> 更加方便且易于扩展。</p>
<p>数组元素可以通过索引（位置）来读取（或者修改），索引从 0 开始，第一个元素索引为 0，第二个索引为 1，以此类推。</p>
<h2 id="声明数组">声明数组<a hidden class="anchor" aria-hidden="true" href="#声明数组">#</a></h2>
<p>Go 语言数组声明需要指定元素类型及元素个数，语法格式如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">arrayName</span> <span class="p">[</span><span class="nx">size</span><span class="p">]</span><span class="nx">dataType</span>
</span></span></code></pre></div><p>其中，<strong>arrayName</strong> 是数组的名称，<strong>size</strong> 是数组的大小，<strong>dataType</strong> 是数组中元素的数据类型。</p>
<p>以下定义了数组 balance 长度为 10 类型为 float32：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">balance</span> <span class="p">[</span><span class="mi">10</span><span class="p">]</span><span class="kt">float32</span>
</span></span></code></pre></div><h2 id="初始化数组">初始化数组<a hidden class="anchor" aria-hidden="true" href="#初始化数组">#</a></h2>
<p>以下演示了数组初始化：</p>
<p>以下实例声明一个名为 numbers 的整数数组，其大小为 5，在声明时，数组中的每个元素都会根据其数据类型进行默认初始化，对于整数类型，初始值为 0。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">numbers</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span>
</span></span></code></pre></div><p>还可以使用初始化列表来初始化数组的元素：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">numbers</span> <span class="p">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">}</span>
</span></span></code></pre></div><p>以上代码声明一个大小为 5 的整数数组，并将其中的元素分别初始化为 1、2、3、4 和 5。</p>
<p>另外，还可以使用 := 简短声明语法来声明和初始化数组：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">numbers</span> <span class="o">:=</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">}</span>
</span></span></code></pre></div><p>以上代码创建一个名为 numbers 的整数数组，并将其大小设置为 5，并初始化元素的值。</p>
<p>**注意：**在 Go 语言中，数组的大小是类型的一部分，因此不同大小的数组是不兼容的，也就是说 [5]int 和 [10]int 是不同的类型。</p>
<p>以下定义了数组 balance 长度为 5 类型为 float32，并初始化数组的元素：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">balance</span> <span class="p">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">float32</span><span class="p">{</span><span class="mf">1000.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.4</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">,</span> <span class="mf">50.0</span><span class="p">}</span>
</span></span></code></pre></div><p>我们也可以通过字面量在声明数组的同时快速初始化数组：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">balance</span> <span class="o">:=</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">float32</span><span class="p">{</span><span class="mf">1000.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.4</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">,</span> <span class="mf">50.0</span><span class="p">}</span>
</span></span></code></pre></div><p>如果数组长度不确定，可以使用 &hellip; 代替数组的长度，编译器会根据元素个数自行推断数组的长度：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">balance</span> <span class="p">=</span> <span class="p">[</span><span class="o">...</span><span class="p">]</span><span class="kt">float32</span><span class="p">{</span><span class="mf">1000.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.4</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">,</span> <span class="mf">50.0</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="nx">或</span>
</span></span><span class="line"><span class="cl"><span class="nx">balance</span> <span class="o">:=</span> <span class="p">[</span><span class="o">...</span><span class="p">]</span><span class="kt">float32</span><span class="p">{</span><span class="mf">1000.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.4</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">,</span> <span class="mf">50.0</span><span class="p">}</span>
</span></span></code></pre></div><p>如果设置了数组的长度，我们还可以通过指定下标来初始化元素：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">//  将索引为 1 和 3 的元素初始化
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">balance</span> <span class="o">:=</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">float32</span><span class="p">{</span><span class="mi">1</span><span class="p">:</span><span class="mf">2.0</span><span class="p">,</span><span class="mi">3</span><span class="p">:</span><span class="mf">7.0</span><span class="p">}</span>
</span></span></code></pre></div><p>初始化数组中 {} 中的元素个数不能大于 [] 中的数字。</p>
<p>如果忽略 [] 中的数字不设置数组大小，Go 语言会根据元素的个数来设置数组的大小：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"> <span class="nx">balance</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="p">=</span> <span class="mf">50.0</span>
</span></span></code></pre></div><p>以上实例读取了第五个元素。数组元素可以通过索引（位置）来读取（或者修改），索引从 0 开始，第一个元素索引为 0，第二个索引为 1，以此类推。</p>
<p><img alt="image-20240921103836002" loading="lazy" src="../img/image-20240921103836002.png"></p>
<h2 id="访问数组元素">访问数组元素<a hidden class="anchor" aria-hidden="true" href="#访问数组元素">#</a></h2>
<p>数组元素可以通过索引（位置）来读取。格式为数组名后加中括号，中括号中为索引的值。例如：</p>
<pre tabindex="0"><code>var salary float32 = balance[9]
</code></pre><p>以上实例读取了数组 balance 第 10 个元素的值。</p>
<p>以下演示了数组完整操作（声明、赋值、访问）的实例：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">n</span> <span class="p">[</span><span class="mi">10</span><span class="p">]</span><span class="kt">int</span> <span class="cm">/* n 是一个长度为 10 的数组 */</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">i</span><span class="p">,</span><span class="nx">j</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* 为数组 n 初始化元素 */</span>         
</span></span><span class="line"><span class="cl">   <span class="k">for</span> <span class="nx">i</span> <span class="p">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">n</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="p">=</span> <span class="nx">i</span> <span class="o">+</span> <span class="mi">100</span> <span class="cm">/* 设置元素为 i + 100 */</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* 输出每个数组元素的值 */</span>
</span></span><span class="line"><span class="cl">   <span class="k">for</span> <span class="nx">j</span> <span class="p">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">j</span> <span class="p">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;Element[%d] = %d\n&#34;</span><span class="p">,</span> <span class="nx">j</span><span class="p">,</span> <span class="nx">n</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>结果如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">Element</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">=</span> <span class="mi">100</span>
</span></span><span class="line"><span class="cl"><span class="nx">Element</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">=</span> <span class="mi">101</span>
</span></span><span class="line"><span class="cl"><span class="nx">Element</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">=</span> <span class="mi">102</span>
</span></span><span class="line"><span class="cl"><span class="nx">Element</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="p">=</span> <span class="mi">103</span>
</span></span><span class="line"><span class="cl"><span class="nx">Element</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="p">=</span> <span class="mi">104</span>
</span></span><span class="line"><span class="cl"><span class="nx">Element</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="p">=</span> <span class="mi">105</span>
</span></span><span class="line"><span class="cl"><span class="nx">Element</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="p">=</span> <span class="mi">106</span>
</span></span><span class="line"><span class="cl"><span class="nx">Element</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="p">=</span> <span class="mi">107</span>
</span></span><span class="line"><span class="cl"><span class="nx">Element</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="p">=</span> <span class="mi">108</span>
</span></span><span class="line"><span class="cl"><span class="nx">Element</span><span class="p">[</span><span class="mi">9</span><span class="p">]</span> <span class="p">=</span> <span class="mi">109</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">i</span><span class="p">,</span><span class="nx">j</span><span class="p">,</span><span class="nx">k</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl">   <span class="c1">// 声明数组的同时快速初始化数组
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>   <span class="nx">balance</span> <span class="o">:=</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">float32</span><span class="p">{</span><span class="mf">1000.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.4</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">,</span> <span class="mf">50.0</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* 输出数组元素 */</span>         <span class="o">...</span>
</span></span><span class="line"><span class="cl">   <span class="k">for</span> <span class="nx">i</span> <span class="p">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">5</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;balance[%d] = %f\n&#34;</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">balance</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">   <span class="nx">balance2</span> <span class="o">:=</span> <span class="p">[</span><span class="o">...</span><span class="p">]</span><span class="kt">float32</span><span class="p">{</span><span class="mf">1000.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.4</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">,</span> <span class="mf">50.0</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">   <span class="cm">/* 输出每个数组元素的值 */</span>
</span></span><span class="line"><span class="cl">   <span class="k">for</span> <span class="nx">j</span> <span class="p">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">j</span> <span class="p">&lt;</span> <span class="mi">5</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;balance2[%d] = %f\n&#34;</span><span class="p">,</span> <span class="nx">j</span><span class="p">,</span> <span class="nx">balance2</span><span class="p">[</span><span class="nx">j</span><span class="p">]</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="c1">//  将索引为 1 和 3 的元素初始化
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>   <span class="nx">balance3</span> <span class="o">:=</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">float32</span><span class="p">{</span><span class="mi">1</span><span class="p">:</span><span class="mf">2.0</span><span class="p">,</span><span class="mi">3</span><span class="p">:</span><span class="mf">7.0</span><span class="p">}</span>  
</span></span><span class="line"><span class="cl">   <span class="k">for</span> <span class="nx">k</span> <span class="p">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">k</span> <span class="p">&lt;</span> <span class="mi">5</span><span class="p">;</span> <span class="nx">k</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;balance3[%d] = %f\n&#34;</span><span class="p">,</span> <span class="nx">k</span><span class="p">,</span> <span class="nx">balance3</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>结果如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">balance</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">=</span> <span class="mf">1000.000000</span>
</span></span><span class="line"><span class="cl"><span class="nx">balance</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">=</span> <span class="mf">2.000000</span>
</span></span><span class="line"><span class="cl"><span class="nx">balance</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">=</span> <span class="mf">3.400000</span>
</span></span><span class="line"><span class="cl"><span class="nx">balance</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="p">=</span> <span class="mf">7.000000</span>
</span></span><span class="line"><span class="cl"><span class="nx">balance</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="p">=</span> <span class="mf">50.000000</span>
</span></span><span class="line"><span class="cl"><span class="nx">balance2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">=</span> <span class="mf">1000.000000</span>
</span></span><span class="line"><span class="cl"><span class="nx">balance2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">=</span> <span class="mf">2.000000</span>
</span></span><span class="line"><span class="cl"><span class="nx">balance2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">=</span> <span class="mf">3.400000</span>
</span></span><span class="line"><span class="cl"><span class="nx">balance2</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="p">=</span> <span class="mf">7.000000</span>
</span></span><span class="line"><span class="cl"><span class="nx">balance2</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="p">=</span> <span class="mf">50.000000</span>
</span></span><span class="line"><span class="cl"><span class="nx">balance3</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">=</span> <span class="mf">0.000000</span>
</span></span><span class="line"><span class="cl"><span class="nx">balance3</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">=</span> <span class="mf">2.000000</span>
</span></span><span class="line"><span class="cl"><span class="nx">balance3</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">=</span> <span class="mf">0.000000</span>
</span></span><span class="line"><span class="cl"><span class="nx">balance3</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="p">=</span> <span class="mf">7.000000</span>
</span></span><span class="line"><span class="cl"><span class="nx">balance3</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="p">=</span> <span class="mf">0.000000</span>
</span></span></code></pre></div><h2 id="多维数组">多维数组<a hidden class="anchor" aria-hidden="true" href="#多维数组">#</a></h2>
<p>Go 语言支持多维数组，以下为常用的多维数组声明方式：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">variable_name</span> <span class="p">[</span><span class="nx">SIZE1</span><span class="p">][</span><span class="nx">SIZE2</span><span class="p">]</span><span class="o">...</span><span class="p">[</span><span class="nx">SIZEN</span><span class="p">]</span> <span class="nx">variable_type</span>
</span></span></code></pre></div><p>以下实例声明了三维的整型数组：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">threedim</span> <span class="p">[</span><span class="mi">5</span><span class="p">][</span><span class="mi">10</span><span class="p">][</span><span class="mi">4</span><span class="p">]</span><span class="kt">int</span>
</span></span></code></pre></div><h2 id="二维数组">二维数组<a hidden class="anchor" aria-hidden="true" href="#二维数组">#</a></h2>
<p>二维数组是最简单的多维数组，二维数组本质上是由一维数组组成的。二维数组定义方式如下：</p>
<pre tabindex="0"><code>var arrayName [ x ][ y ] variable_type
</code></pre><p>variable_type 为 Go 语言的数据类型，arrayName 为数组名，二维数组可认为是一个表格，x 为行，y 为列，下图演示了一个二维数组 a 为三行四列：</p>
<p><img alt="img" loading="lazy" src="../img/go-array-2021-01-19.png"></p>
<p>二维数组中的元素可通过<code> a[ i ][ j ]</code>来访问。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// Step 1: 创建数组
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">values</span> <span class="o">:=</span> <span class="p">[][]</span><span class="kt">int</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Step 2: 使用 append() 函数向空的二维数组添加两行一维数组
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">row1</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">row2</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">values</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">values</span><span class="p">,</span> <span class="nx">row1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">values</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">values</span><span class="p">,</span> <span class="nx">row2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Step 3: 显示两行数据
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Row 1&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">values</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Row 2&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">values</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// Step 4: 访问第一个元素
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;第一个元素为：&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">values</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">Row</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">Row</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">第一个元素为</span><span class="err">：</span>
</span></span><span class="line"><span class="cl"><span class="mi">1</span>
</span></span></code></pre></div><h2 id="初始化二维数组">初始化二维数组<a hidden class="anchor" aria-hidden="true" href="#初始化二维数组">#</a></h2>
<p>多维数组可通过大括号来初始值。以下实例为一个 3 行 4 列的二维数组：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">a</span> <span class="o">:=</span> <span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">4</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span>  
</span></span><span class="line"><span class="cl"> <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">}</span> <span class="p">,</span>   <span class="cm">/*  第一行索引为 0 */</span>
</span></span><span class="line"><span class="cl"> <span class="p">{</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">}</span> <span class="p">,</span>   <span class="cm">/*  第二行索引为 1 */</span>
</span></span><span class="line"><span class="cl"> <span class="p">{</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">},</span>   <span class="cm">/* 第三行索引为 2 */</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>**注意：**以上代码中倒数第二行的<code>}</code>必须要有逗号，因为最后一行的<code>}</code> 不能单独一行，也可以写成这样：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">a</span> <span class="o">:=</span> <span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">4</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span>  
</span></span><span class="line"><span class="cl"> <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">}</span> <span class="p">,</span>   <span class="cm">/*  第一行索引为 0 */</span>
</span></span><span class="line"><span class="cl"> <span class="p">{</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">}</span> <span class="p">,</span>   <span class="cm">/*  第二行索引为 1 */</span>
</span></span><span class="line"><span class="cl"> <span class="p">{</span><span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">}}</span>   <span class="cm">/* 第三行索引为 2 */</span>
</span></span></code></pre></div><p>以下实例初始化一个 2 行 2 列 的二维数组：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 创建二维数组
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">sites</span> <span class="o">:=</span> <span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span><span class="kt">string</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 向二维数组添加元素
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">sites</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="p">=</span> <span class="s">&#34;Google&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">sites</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="p">=</span> <span class="s">&#34;Runoob&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">sites</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="p">=</span> <span class="s">&#34;Taobao&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">sites</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="p">=</span> <span class="s">&#34;Weibo&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 显示结果
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">sites</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>输出结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="p">[[</span><span class="nx">Google</span> <span class="nx">Runoob</span><span class="p">]</span> <span class="p">[</span><span class="nx">Taobao</span> <span class="nx">Weibo</span><span class="p">]]</span>
</span></span></code></pre></div><h2 id="访问二维数组">访问二维数组<a hidden class="anchor" aria-hidden="true" href="#访问二维数组">#</a></h2>
<p>二维数组通过指定坐标来访问。如数组中的行索引与列索引，例如：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">val</span> <span class="o">:=</span> <span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">或</span>
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">value</span> <span class="kt">int</span> <span class="p">=</span> <span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span>
</span></span></code></pre></div><p>以上实例访问了二维数组 val 第三行的第四个元素。</p>
<p>二维数组可以使用循环嵌套来输出元素：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="cm">/* 数组 - 5 行 2 列*/</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">a</span> <span class="p">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">},</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">},</span> <span class="p">{</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">},</span> <span class="p">{</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">},{</span><span class="mi">4</span><span class="p">,</span><span class="mi">8</span><span class="p">}}</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">j</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* 输出数组元素 */</span>
</span></span><span class="line"><span class="cl">   <span class="k">for</span>  <span class="nx">i</span> <span class="p">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">5</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="k">for</span> <span class="nx">j</span> <span class="p">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">j</span> <span class="p">&lt;</span> <span class="mi">2</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">         <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;a[%d][%d] = %d\n&#34;</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span><span class="nx">j</span><span class="p">,</span> <span class="nx">a</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="nx">j</span><span class="p">]</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">      <span class="p">}</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>输出结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="p">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="p">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="p">=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl"><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="p">=</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl"><span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="p">=</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl"><span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="p">=</span> <span class="mi">4</span>
</span></span><span class="line"><span class="cl"><span class="nx">a</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="p">=</span> <span class="mi">3</span>
</span></span><span class="line"><span class="cl"><span class="nx">a</span><span class="p">[</span><span class="mi">3</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="p">=</span> <span class="mi">6</span>
</span></span><span class="line"><span class="cl"><span class="nx">a</span><span class="p">[</span><span class="mi">4</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="p">=</span> <span class="mi">4</span>
</span></span><span class="line"><span class="cl"><span class="nx">a</span><span class="p">[</span><span class="mi">4</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="p">=</span> <span class="mi">8</span>
</span></span></code></pre></div><p>以下实例创建各个维度元素数量不一致的多维数组：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 创建空的二维数组
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">animals</span> <span class="o">:=</span> <span class="p">[][]</span><span class="kt">string</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 创建三一维数组，各数组长度不同
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">row1</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">&#34;fish&#34;</span><span class="p">,</span> <span class="s">&#34;shark&#34;</span><span class="p">,</span> <span class="s">&#34;eel&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">row2</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">&#34;bird&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">row3</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">&#34;lizard&#34;</span><span class="p">,</span> <span class="s">&#34;salamander&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 使用 append() 函数将一维数组添加到二维数组中
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">animals</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">animals</span><span class="p">,</span> <span class="nx">row1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">animals</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">animals</span><span class="p">,</span> <span class="nx">row2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">animals</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">animals</span><span class="p">,</span> <span class="nx">row3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 循环输出
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">animals</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;Row: %v\n&#34;</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">animals</span><span class="p">[</span><span class="nx">i</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>输出结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">Row</span><span class="p">:</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">fish</span> <span class="nx">shark</span> <span class="nx">eel</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">Row</span><span class="p">:</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">bird</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">Row</span><span class="p">:</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl"><span class="p">[</span><span class="nx">lizard</span> <span class="nx">salamander</span><span class="p">]</span>
</span></span></code></pre></div><h1 id="go-语言向函数传递数组">Go 语言向函数传递数组<a hidden class="anchor" aria-hidden="true" href="#go-语言向函数传递数组">#</a></h1>
<p>Go 语言中的数组是值类型，因此在将数组传递给函数时，实际上是传递数组的<strong>副本</strong>。</p>
<p>如果你想向函数传递数组参数，你需要在函数定义时，声明形参为数组，我们可以通过以下两种方式来声明：</p>
<h3 id="方式一">方式一<a hidden class="anchor" aria-hidden="true" href="#方式一">#</a></h3>
<p>形参设定数组大小：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">myFunction</span><span class="p">(</span><span class="nx">param</span> <span class="p">[</span><span class="mi">10</span><span class="p">]</span><span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="o">...</span><span class="p">.</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="方式二">方式二<a hidden class="anchor" aria-hidden="true" href="#方式二">#</a></h3>
<p>形参未设定数组大小：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">myFunction</span><span class="p">(</span><span class="nx">param</span> <span class="p">[]</span><span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="o">...</span><span class="p">.</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>如果你想要在函数内修改原始数组，可以通过传递数组的指针来实现。</p>
<h3 id="实例-4">实例<a hidden class="anchor" aria-hidden="true" href="#实例-4">#</a></h3>
<p>让我们看下以下实例，实例中函数接收整型数组参数，另一个参数指定了数组元素的个数，并返回平均值：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">getAverage</span><span class="p">(</span><span class="nx">arr</span> <span class="p">[]</span><span class="kt">int</span><span class="p">,</span> <span class="nx">size</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">float32</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">i</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">avg</span><span class="p">,</span> <span class="nx">sum</span> <span class="kt">float32</span>  
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="k">for</span> <span class="nx">i</span> <span class="p">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="nx">size</span><span class="p">;</span> <span class="o">++</span><span class="nx">i</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">sum</span> <span class="o">+=</span> <span class="nx">arr</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nx">avg</span> <span class="p">=</span> <span class="nx">sum</span> <span class="o">/</span> <span class="nx">size</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="k">return</span> <span class="nx">avg</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>接下来我们来调用这个函数：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="cm">/* 数组长度为 5 */</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span>  <span class="nx">balance</span> <span class="p">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span> <span class="p">{</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">50</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">avg</span> <span class="kt">float32</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* 数组作为参数传递给函数 */</span>
</span></span><span class="line"><span class="cl">   <span class="nx">avg</span> <span class="p">=</span> <span class="nf">getAverage</span><span class="p">(</span> <span class="nx">balance</span><span class="p">,</span> <span class="mi">5</span> <span class="p">)</span> <span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* 输出返回的平均值 */</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span> <span class="s">&#34;平均值为: %f &#34;</span><span class="p">,</span> <span class="nx">avg</span> <span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">getAverage</span><span class="p">(</span><span class="nx">arr</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span><span class="p">,</span> <span class="nx">size</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">float32</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">i</span><span class="p">,</span><span class="nx">sum</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">avg</span> <span class="kt">float32</span>  
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="k">for</span> <span class="nx">i</span> <span class="p">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="nx">size</span><span class="p">;</span><span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">sum</span> <span class="o">+=</span> <span class="nx">arr</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nx">avg</span> <span class="p">=</span> <span class="nb">float32</span><span class="p">(</span><span class="nx">sum</span><span class="p">)</span> <span class="o">/</span> <span class="nb">float32</span><span class="p">(</span><span class="nx">size</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="k">return</span> <span class="nx">avg</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>输出结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">平均值为</span><span class="p">:</span> <span class="mf">214.399994</span>
</span></span></code></pre></div><p>以上实例中我们使用的形参并未设定数组大小。</p>
<p>浮点数计算输出有一定的偏差，你也可以转整型来设置精度。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">a</span> <span class="o">:=</span> <span class="mf">1.69</span>
</span></span><span class="line"><span class="cl">    <span class="nx">b</span> <span class="o">:=</span> <span class="mf">1.7</span>
</span></span><span class="line"><span class="cl">    <span class="nx">c</span> <span class="o">:=</span> <span class="nx">a</span> <span class="o">*</span> <span class="nx">b</span>      <span class="c1">// 结果应该是2.873
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">c</span><span class="p">)</span>  <span class="c1">// 输出的是2.8729999999999998
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></div><p>设置固定精度：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">a</span> <span class="o">:=</span> <span class="mi">1690</span>           <span class="c1">// 表示1.69
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">b</span> <span class="o">:=</span> <span class="mi">1700</span>           <span class="c1">// 表示1.70
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">c</span> <span class="o">:=</span> <span class="nx">a</span> <span class="o">*</span> <span class="nx">b</span>          <span class="c1">// 结果应该是2873000表示 2.873
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">c</span><span class="p">)</span>      <span class="c1">// 内部编码
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nb">float64</span><span class="p">(</span><span class="nx">c</span><span class="p">)</span> <span class="o">/</span> <span class="mi">1000000</span><span class="p">)</span> <span class="c1">// 显示
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></div><p>如果你想要在函数内修改原始数组，可以通过传递数组的指针来实现。</p>
<p>以下实例演示如何向函数传递数组，函数接受一个数组和数组的指针作为参数：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 函数接受一个数组作为参数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">modifyArray</span><span class="p">(</span><span class="nx">arr</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="nx">arr</span><span class="p">);</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">arr</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="p">=</span> <span class="nx">arr</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 函数接受一个数组的指针作为参数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">modifyArrayWithPointer</span><span class="p">(</span><span class="nx">arr</span> <span class="o">*</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="o">*</span><span class="nx">arr</span><span class="p">);</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="p">(</span><span class="o">*</span><span class="nx">arr</span><span class="p">)[</span><span class="nx">i</span><span class="p">]</span> <span class="p">=</span> <span class="p">(</span><span class="o">*</span><span class="nx">arr</span><span class="p">)[</span><span class="nx">i</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 创建一个包含5个元素的整数数组
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">myArray</span> <span class="o">:=</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Original Array:&#34;</span><span class="p">,</span> <span class="nx">myArray</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 传递数组给函数，但不会修改原始数组的值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">modifyArray</span><span class="p">(</span><span class="nx">myArray</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Array after modifyArray:&#34;</span><span class="p">,</span> <span class="nx">myArray</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 传递数组的指针给函数，可以修改原始数组的值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nf">modifyArrayWithPointer</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">myArray</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Array after modifyArrayWithPointer:&#34;</span><span class="p">,</span> <span class="nx">myArray</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>在上面的例子中，modifyArray 函数接受一个数组，并尝试修改数组的值，但在主函数中调用后，原始数组并未被修改。相反，modifyArrayWithPointer 函数接受一个数组的指针，并通过指针修改了原始数组的值。</p>
<p>以上实例执行输出结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">Original</span> <span class="nx">Array</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">Array</span> <span class="nx">after</span> <span class="nx">modifyArray</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">Array</span> <span class="nx">after</span> <span class="nx">modifyArrayWithPointer</span><span class="p">:</span> <span class="p">[</span><span class="mi">2</span> <span class="mi">4</span> <span class="mi">6</span> <span class="mi">8</span> <span class="mi">10</span><span class="p">]</span>
</span></span></code></pre></div><h1 id="go-语言指针">Go 语言指针<a hidden class="anchor" aria-hidden="true" href="#go-语言指针">#</a></h1>
<p>Go 语言中指针是很容易学习的，Go 语言中使用指针可以更简单的执行一些任务。</p>
<p>接下来让我们来一步步学习 Go 语言指针。</p>
<p>我们都知道，变量是一种使用方便的占位符，用于引用计算机内存地址。</p>
<p>Go 语言的取地址符是 &amp;，放到一个变量前使用就会返回相应变量的内存地址。</p>
<p>以下实例演示了变量在内存中地址：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">a</span> <span class="kt">int</span> <span class="p">=</span> <span class="mi">10</span>   
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;变量的地址: %x\n&#34;</span><span class="p">,</span> <span class="o">&amp;</span><span class="nx">a</span>  <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>输出结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">变量的地址</span><span class="p">:</span> <span class="mi">20818</span><span class="nx">a220</span>
</span></span></code></pre></div><h2 id="什么是指针">什么是指针<a hidden class="anchor" aria-hidden="true" href="#什么是指针">#</a></h2>
<p>一个指针变量指向了一个值的内存地址。</p>
<p>类似于变量和常量，在使用指针前你需要声明指针。指针声明格式如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">var_name</span> <span class="o">*</span><span class="kd">var</span><span class="o">-</span><span class="kd">type</span>
</span></span></code></pre></div><p>var-type 为指针类型，var_name 为指针变量名，* 号用于指定变量是作为一个指针。以下是有效的指针声明：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">ip</span> <span class="o">*</span><span class="kt">int</span>        <span class="cm">/* 指向整型*/</span>
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">fp</span> <span class="o">*</span><span class="kt">float32</span>    <span class="cm">/* 指向浮点型 */</span>
</span></span></code></pre></div><h2 id="如何使用指针">如何使用指针<a hidden class="anchor" aria-hidden="true" href="#如何使用指针">#</a></h2>
<p>指针使用流程：</p>
<ul>
<li>定义指针变量。</li>
<li>为指针变量赋值。</li>
<li>访问指针变量中指向地址的值。</li>
</ul>
<p>在指针类型前面加上 * 号（前缀）来获取指针所指向的内容。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">a</span> <span class="kt">int</span><span class="p">=</span> <span class="mi">20</span>   <span class="cm">/* 声明实际变量 */</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">ip</span> <span class="o">*</span><span class="kt">int</span>        <span class="cm">/* 声明指针变量 */</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nx">ip</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">a</span>  <span class="cm">/* 指针变量的存储地址 */</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;a 变量的地址是: %x\n&#34;</span><span class="p">,</span> <span class="o">&amp;</span><span class="nx">a</span>  <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* 指针变量的存储地址 */</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;ip 变量储存的指针地址: %x\n&#34;</span><span class="p">,</span> <span class="nx">ip</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* 使用指针访问值 */</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;*ip 变量的值: %d\n&#34;</span><span class="p">,</span> <span class="o">*</span><span class="nx">ip</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>输出结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">a</span> <span class="nx">变量的地址是</span><span class="p">:</span> <span class="mi">20818</span><span class="nx">a220</span>
</span></span><span class="line"><span class="cl"><span class="nx">ip</span> <span class="nx">变量储存的指针地址</span><span class="p">:</span> <span class="mi">20818</span><span class="nx">a220</span>
</span></span><span class="line"><span class="cl"><span class="o">*</span><span class="nx">ip</span> <span class="nx">变量的值</span><span class="p">:</span> <span class="mi">20</span>
</span></span></code></pre></div><h2 id="go-空指针">Go 空指针<a hidden class="anchor" aria-hidden="true" href="#go-空指针">#</a></h2>
<p>当一个指针被定义后没有分配到任何变量时，它的值为 nil。</p>
<p>nil 指针也称为空指针。</p>
<p>nil在概念上和其它语言的null、None、nil、NULL一样，都指代零值或空值。</p>
<p>一个指针变量通常缩写为 ptr。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span>  <span class="nx">ptr</span> <span class="o">*</span><span class="kt">int</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;ptr 的值为 : %x\n&#34;</span><span class="p">,</span> <span class="nx">ptr</span>  <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>输出结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">ptr</span> <span class="nx">的值为</span> <span class="p">:</span> <span class="mi">0</span>
</span></span></code></pre></div><p>空指针判断：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="k">if</span><span class="p">(</span><span class="nx">ptr</span> <span class="o">!=</span> <span class="kc">nil</span><span class="p">)</span>     <span class="cm">/* ptr 不是空指针 */</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span><span class="p">(</span><span class="nx">ptr</span> <span class="o">==</span> <span class="kc">nil</span><span class="p">)</span>    <span class="cm">/* ptr 是空指针 */</span>
</span></span></code></pre></div><h1 id="go-语言指针数组">Go 语言指针数组<a hidden class="anchor" aria-hidden="true" href="#go-语言指针数组">#</a></h1>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">const</span> <span class="nx">MAX</span> <span class="kt">int</span> <span class="p">=</span> <span class="mi">3</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nx">a</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="mi">10</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">200</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">i</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="k">for</span> <span class="nx">i</span> <span class="p">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="nx">MAX</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;a[%d] = %d\n&#34;</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">a</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>以上代码执行输出结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">=</span> <span class="mi">10</span>
</span></span><span class="line"><span class="cl"><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">=</span> <span class="mi">100</span>
</span></span><span class="line"><span class="cl"><span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">=</span> <span class="mi">200</span>
</span></span></code></pre></div><p>有一种情况，我们可能需要保存数组，这样我们就需要使用到指针。</p>
<p>以下声明了整型指针数组：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">ptr</span> <span class="p">[</span><span class="nx">MAX</span><span class="p">]</span><span class="o">*</span><span class="kt">int</span><span class="p">;</span>
</span></span></code></pre></div><p>ptr 为整型指针数组。因此每个元素都指向了一个值。以下实例的三个整数将存储在指针数组中：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">const</span> <span class="nx">MAX</span> <span class="kt">int</span> <span class="p">=</span> <span class="mi">3</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="nx">a</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="mi">10</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">200</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">i</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">ptr</span> <span class="p">[</span><span class="nx">MAX</span><span class="p">]</span><span class="o">*</span><span class="kt">int</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="k">for</span>  <span class="nx">i</span> <span class="p">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="nx">MAX</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">ptr</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">a</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span>  <span class="cm">/* 整数地址赋值给指针数组 */</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="k">for</span>  <span class="nx">i</span> <span class="p">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="nx">MAX</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;a[%d] = %d\n&#34;</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span><span class="o">*</span><span class="nx">ptr</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>输出结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="p">=</span> <span class="mi">10</span>
</span></span><span class="line"><span class="cl"><span class="nx">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">=</span> <span class="mi">100</span>
</span></span><span class="line"><span class="cl"><span class="nx">a</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">=</span> <span class="mi">200</span>
</span></span></code></pre></div><h1 id="go-语言指针作为函数参数">Go 语言指针作为函数参数<a hidden class="anchor" aria-hidden="true" href="#go-语言指针作为函数参数">#</a></h1>
<p>Go 语言允许向函数传递指针，只需要在函数定义的参数上设置为指针类型即可。</p>
<p>以下实例演示了如何向函数传递指针，并在函数调用后修改函数内的值，：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="cm">/* 定义局部变量 */</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">a</span> <span class="kt">int</span> <span class="p">=</span> <span class="mi">100</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">b</span> <span class="kt">int</span><span class="p">=</span> <span class="mi">200</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;交换前 a 的值 : %d\n&#34;</span><span class="p">,</span> <span class="nx">a</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;交换前 b 的值 : %d\n&#34;</span><span class="p">,</span> <span class="nx">b</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* 调用函数用于交换值
</span></span></span><span class="line"><span class="cl"><span class="cm">   * &amp;a 指向 a 变量的地址
</span></span></span><span class="line"><span class="cl"><span class="cm">   * &amp;b 指向 b 变量的地址
</span></span></span><span class="line"><span class="cl"><span class="cm">   */</span>
</span></span><span class="line"><span class="cl">   <span class="nf">swap</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">a</span><span class="p">,</span> <span class="o">&amp;</span><span class="nx">b</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;交换后 a 的值 : %d\n&#34;</span><span class="p">,</span> <span class="nx">a</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;交换后 b 的值 : %d\n&#34;</span><span class="p">,</span> <span class="nx">b</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">swap</span><span class="p">(</span><span class="nx">x</span> <span class="o">*</span><span class="kt">int</span><span class="p">,</span> <span class="nx">y</span> <span class="o">*</span><span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">temp</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl">   <span class="nx">temp</span> <span class="p">=</span> <span class="o">*</span><span class="nx">x</span>    <span class="cm">/* 保存 x 地址的值 */</span>
</span></span><span class="line"><span class="cl">   <span class="o">*</span><span class="nx">x</span> <span class="p">=</span> <span class="o">*</span><span class="nx">y</span>      <span class="cm">/* 将 y 赋值给 x */</span>
</span></span><span class="line"><span class="cl">   <span class="o">*</span><span class="nx">y</span> <span class="p">=</span> <span class="nx">temp</span>    <span class="cm">/* 将 temp 赋值给 y */</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>输出结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">交换前</span> <span class="nx">a</span> <span class="nx">的值</span> <span class="p">:</span> <span class="mi">100</span>
</span></span><span class="line"><span class="cl"><span class="nx">交换前</span> <span class="nx">b</span> <span class="nx">的值</span> <span class="p">:</span> <span class="mi">200</span>
</span></span><span class="line"><span class="cl"><span class="nx">交换后</span> <span class="nx">a</span> <span class="nx">的值</span> <span class="p">:</span> <span class="mi">200</span>
</span></span><span class="line"><span class="cl"><span class="nx">交换后</span> <span class="nx">b</span> <span class="nx">的值</span> <span class="p">:</span> <span class="mi">100</span>
</span></span></code></pre></div><h1 id="go-语言指向指针的指针">Go 语言指向指针的指针<a hidden class="anchor" aria-hidden="true" href="#go-语言指向指针的指针">#</a></h1>
<p>如果一个指针变量存放的又是另一个指针变量的地址，则称这个指针变量为指向指针的指针变量。</p>
<p>当定义一个指向指针的指针变量时，第一个指针存放第二个指针的地址，第二个指针存放变量的地址：</p>
<p><img alt="img" loading="lazy" src="../img/pointer_to_pointer.jpg"></p>
<p>指向指针的指针变量声明格式如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">ptr</span> <span class="o">**</span><span class="kt">int</span><span class="p">;</span>
</span></span></code></pre></div><p>以上指向指针的指针变量为整型。</p>
<p>访问指向指针的指针变量值需要使用两个 * 号，如下所示：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">a</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">ptr</span> <span class="o">*</span><span class="kt">int</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">pptr</span> <span class="o">**</span><span class="kt">int</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nx">a</span> <span class="p">=</span> <span class="mi">3000</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* 指针 ptr 地址 */</span>
</span></span><span class="line"><span class="cl">   <span class="nx">ptr</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">a</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* 指向指针 ptr 地址 */</span>
</span></span><span class="line"><span class="cl">   <span class="nx">pptr</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">ptr</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* 获取 pptr 的值 */</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;变量 a = %d\n&#34;</span><span class="p">,</span> <span class="nx">a</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;指针变量 *ptr = %d\n&#34;</span><span class="p">,</span> <span class="o">*</span><span class="nx">ptr</span> <span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;指向指针的指针变量 **pptr = %d\n&#34;</span><span class="p">,</span> <span class="o">**</span><span class="nx">pptr</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>输出结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">变量</span> <span class="nx">a</span> <span class="p">=</span> <span class="mi">3000</span>
</span></span><span class="line"><span class="cl"><span class="nx">指针变量</span> <span class="o">*</span><span class="nx">ptr</span> <span class="p">=</span> <span class="mi">3000</span>
</span></span><span class="line"><span class="cl"><span class="nx">指向指针的指针变量</span> <span class="o">**</span><span class="nx">pptr</span> <span class="p">=</span> <span class="mi">3000</span>
</span></span></code></pre></div><h1 id="go-语言结构体">Go 语言结构体<a hidden class="anchor" aria-hidden="true" href="#go-语言结构体">#</a></h1>
<p>Go 语言中数组可以存储同一类型的数据，但在结构体中我们可以为不同项定义不同的数据类型。</p>
<p>结构体是由一系列具有相同类型或不同类型的数据构成的数据集合。</p>
<p>结构体表示一项记录，比如保存图书馆的书籍记录，每本书有以下属性：</p>
<ul>
<li>Title ：标题</li>
<li>Author ： 作者</li>
<li>Subject：学科</li>
<li>ID：书籍ID</li>
</ul>
<h2 id="定义结构体">定义结构体<a hidden class="anchor" aria-hidden="true" href="#定义结构体">#</a></h2>
<p>结构体定义需要使用 type 和 struct 语句。struct 语句定义一个新的数据类型，结构体中有一个或多个成员。type 语句设定了结构体的名称。结构体的格式如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">struct_variable_type</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="nx">member</span> <span class="nx">definition</span>
</span></span><span class="line"><span class="cl">   <span class="nx">member</span> <span class="nx">definition</span>
</span></span><span class="line"><span class="cl">   <span class="o">...</span>
</span></span><span class="line"><span class="cl">   <span class="nx">member</span> <span class="nx">definition</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>一旦定义了结构体类型，它就能用于变量的声明，语法格式如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">variable_name</span> <span class="o">:=</span> <span class="nx">structure_variable_type</span> <span class="p">{</span><span class="nx">value1</span><span class="p">,</span> <span class="nx">value2</span><span class="o">...</span><span class="nx">valuen</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="nx">或</span>
</span></span><span class="line"><span class="cl"><span class="nx">variable_name</span> <span class="o">:=</span> <span class="nx">structure_variable_type</span> <span class="p">{</span> <span class="nx">key1</span><span class="p">:</span> <span class="nx">value1</span><span class="p">,</span> <span class="nx">key2</span><span class="p">:</span> <span class="nx">value2</span><span class="o">...</span><span class="p">,</span> <span class="nx">keyn</span><span class="p">:</span> <span class="nx">valuen</span><span class="p">}</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Books</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="nx">title</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">   <span class="nx">author</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">   <span class="nx">subject</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">   <span class="nx">book_id</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 创建一个新的结构体
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">Books</span><span class="p">{</span><span class="s">&#34;Go 语言&#34;</span><span class="p">,</span> <span class="s">&#34;www.runoob.com&#34;</span><span class="p">,</span> <span class="s">&#34;Go 语言教程&#34;</span><span class="p">,</span> <span class="mi">6495407</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 也可以使用 key =&gt; value 格式
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">Books</span><span class="p">{</span><span class="nx">title</span><span class="p">:</span> <span class="s">&#34;Go 语言&#34;</span><span class="p">,</span> <span class="nx">author</span><span class="p">:</span> <span class="s">&#34;www.runoob.com&#34;</span><span class="p">,</span> <span class="nx">subject</span><span class="p">:</span> <span class="s">&#34;Go 语言教程&#34;</span><span class="p">,</span> <span class="nx">book_id</span><span class="p">:</span> <span class="mi">6495407</span><span class="p">})</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 忽略的字段为 0 或 空
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">Books</span><span class="p">{</span><span class="nx">title</span><span class="p">:</span> <span class="s">&#34;Go 语言&#34;</span><span class="p">,</span> <span class="nx">author</span><span class="p">:</span> <span class="s">&#34;www.runoob.com&#34;</span><span class="p">})</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>输出结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="p">{</span><span class="nx">Go</span> <span class="nx">语言</span> <span class="nx">www</span><span class="p">.</span><span class="nx">runoob</span><span class="p">.</span><span class="nx">com</span> <span class="nx">Go</span> <span class="nx">语言教程</span> <span class="mi">6495407</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span><span class="nx">Go</span> <span class="nx">语言</span> <span class="nx">www</span><span class="p">.</span><span class="nx">runoob</span><span class="p">.</span><span class="nx">com</span> <span class="nx">Go</span> <span class="nx">语言教程</span> <span class="mi">6495407</span><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span><span class="nx">Go</span> <span class="nx">语言</span> <span class="nx">www</span><span class="p">.</span><span class="nx">runoob</span><span class="p">.</span><span class="nx">com</span>  <span class="mi">0</span><span class="p">}</span>
</span></span></code></pre></div><h2 id="访问结构体成员">访问结构体成员<a hidden class="anchor" aria-hidden="true" href="#访问结构体成员">#</a></h2>
<p>如果要访问结构体成员，需要使用点号 .  操作符，格式为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">结构体</span><span class="p">.</span><span class="nx">成员名</span>
</span></span></code></pre></div><p>结构体类型变量使用 struct 关键字定义，实例如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Books</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="nx">title</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">   <span class="nx">author</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">   <span class="nx">subject</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">   <span class="nx">book_id</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">Book1</span> <span class="nx">Books</span>        <span class="cm">/* 声明 Book1 为 Books 类型 */</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">Book2</span> <span class="nx">Books</span>        <span class="cm">/* 声明 Book2 为 Books 类型 */</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* book 1 描述 */</span>
</span></span><span class="line"><span class="cl">   <span class="nx">Book1</span><span class="p">.</span><span class="nx">title</span> <span class="p">=</span> <span class="s">&#34;Go 语言&#34;</span>
</span></span><span class="line"><span class="cl">   <span class="nx">Book1</span><span class="p">.</span><span class="nx">author</span> <span class="p">=</span> <span class="s">&#34;www.runoob.com&#34;</span>
</span></span><span class="line"><span class="cl">   <span class="nx">Book1</span><span class="p">.</span><span class="nx">subject</span> <span class="p">=</span> <span class="s">&#34;Go 语言教程&#34;</span>
</span></span><span class="line"><span class="cl">   <span class="nx">Book1</span><span class="p">.</span><span class="nx">book_id</span> <span class="p">=</span> <span class="mi">6495407</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* book 2 描述 */</span>
</span></span><span class="line"><span class="cl">   <span class="nx">Book2</span><span class="p">.</span><span class="nx">title</span> <span class="p">=</span> <span class="s">&#34;Python 教程&#34;</span>
</span></span><span class="line"><span class="cl">   <span class="nx">Book2</span><span class="p">.</span><span class="nx">author</span> <span class="p">=</span> <span class="s">&#34;www.runoob.com&#34;</span>
</span></span><span class="line"><span class="cl">   <span class="nx">Book2</span><span class="p">.</span><span class="nx">subject</span> <span class="p">=</span> <span class="s">&#34;Python 语言教程&#34;</span>
</span></span><span class="line"><span class="cl">   <span class="nx">Book2</span><span class="p">.</span><span class="nx">book_id</span> <span class="p">=</span> <span class="mi">6495700</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* 打印 Book1 信息 */</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span> <span class="s">&#34;Book 1 title : %s\n&#34;</span><span class="p">,</span> <span class="nx">Book1</span><span class="p">.</span><span class="nx">title</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span> <span class="s">&#34;Book 1 author : %s\n&#34;</span><span class="p">,</span> <span class="nx">Book1</span><span class="p">.</span><span class="nx">author</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span> <span class="s">&#34;Book 1 subject : %s\n&#34;</span><span class="p">,</span> <span class="nx">Book1</span><span class="p">.</span><span class="nx">subject</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span> <span class="s">&#34;Book 1 book_id : %d\n&#34;</span><span class="p">,</span> <span class="nx">Book1</span><span class="p">.</span><span class="nx">book_id</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* 打印 Book2 信息 */</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span> <span class="s">&#34;Book 2 title : %s\n&#34;</span><span class="p">,</span> <span class="nx">Book2</span><span class="p">.</span><span class="nx">title</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span> <span class="s">&#34;Book 2 author : %s\n&#34;</span><span class="p">,</span> <span class="nx">Book2</span><span class="p">.</span><span class="nx">author</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span> <span class="s">&#34;Book 2 subject : %s\n&#34;</span><span class="p">,</span> <span class="nx">Book2</span><span class="p">.</span><span class="nx">subject</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span> <span class="s">&#34;Book 2 book_id : %d\n&#34;</span><span class="p">,</span> <span class="nx">Book2</span><span class="p">.</span><span class="nx">book_id</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>运行结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">Book</span> <span class="mi">1</span> <span class="nx">title</span> <span class="p">:</span> <span class="nx">Go</span> <span class="nx">语言</span>
</span></span><span class="line"><span class="cl"><span class="nx">Book</span> <span class="mi">1</span> <span class="nx">author</span> <span class="p">:</span> <span class="nx">www</span><span class="p">.</span><span class="nx">runoob</span><span class="p">.</span><span class="nx">com</span>
</span></span><span class="line"><span class="cl"><span class="nx">Book</span> <span class="mi">1</span> <span class="nx">subject</span> <span class="p">:</span> <span class="nx">Go</span> <span class="nx">语言教程</span>
</span></span><span class="line"><span class="cl"><span class="nx">Book</span> <span class="mi">1</span> <span class="nx">book_id</span> <span class="p">:</span> <span class="mi">6495407</span>
</span></span><span class="line"><span class="cl"><span class="nx">Book</span> <span class="mi">2</span> <span class="nx">title</span> <span class="p">:</span> <span class="nx">Python</span> <span class="nx">教程</span>
</span></span><span class="line"><span class="cl"><span class="nx">Book</span> <span class="mi">2</span> <span class="nx">author</span> <span class="p">:</span> <span class="nx">www</span><span class="p">.</span><span class="nx">runoob</span><span class="p">.</span><span class="nx">com</span>
</span></span><span class="line"><span class="cl"><span class="nx">Book</span> <span class="mi">2</span> <span class="nx">subject</span> <span class="p">:</span> <span class="nx">Python</span> <span class="nx">语言教程</span>
</span></span><span class="line"><span class="cl"><span class="nx">Book</span> <span class="mi">2</span> <span class="nx">book_id</span> <span class="p">:</span> <span class="mi">6495700</span>
</span></span></code></pre></div><h2 id="结构体作为函数参数">结构体作为函数参数<a hidden class="anchor" aria-hidden="true" href="#结构体作为函数参数">#</a></h2>
<p>你可以像其他数据类型一样将结构体类型作为参数传递给函数。并以以上实例的方式访问结构体变量：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Books</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="nx">title</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">   <span class="nx">author</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">   <span class="nx">subject</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">   <span class="nx">book_id</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">Book1</span> <span class="nx">Books</span>        <span class="cm">/* 声明 Book1 为 Books 类型 */</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">Book2</span> <span class="nx">Books</span>        <span class="cm">/* 声明 Book2 为 Books 类型 */</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* book 1 描述 */</span>
</span></span><span class="line"><span class="cl">   <span class="nx">Book1</span><span class="p">.</span><span class="nx">title</span> <span class="p">=</span> <span class="s">&#34;Go 语言&#34;</span>
</span></span><span class="line"><span class="cl">   <span class="nx">Book1</span><span class="p">.</span><span class="nx">author</span> <span class="p">=</span> <span class="s">&#34;www.runoob.com&#34;</span>
</span></span><span class="line"><span class="cl">   <span class="nx">Book1</span><span class="p">.</span><span class="nx">subject</span> <span class="p">=</span> <span class="s">&#34;Go 语言教程&#34;</span>
</span></span><span class="line"><span class="cl">   <span class="nx">Book1</span><span class="p">.</span><span class="nx">book_id</span> <span class="p">=</span> <span class="mi">6495407</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* book 2 描述 */</span>
</span></span><span class="line"><span class="cl">   <span class="nx">Book2</span><span class="p">.</span><span class="nx">title</span> <span class="p">=</span> <span class="s">&#34;Python 教程&#34;</span>
</span></span><span class="line"><span class="cl">   <span class="nx">Book2</span><span class="p">.</span><span class="nx">author</span> <span class="p">=</span> <span class="s">&#34;www.runoob.com&#34;</span>
</span></span><span class="line"><span class="cl">   <span class="nx">Book2</span><span class="p">.</span><span class="nx">subject</span> <span class="p">=</span> <span class="s">&#34;Python 语言教程&#34;</span>
</span></span><span class="line"><span class="cl">   <span class="nx">Book2</span><span class="p">.</span><span class="nx">book_id</span> <span class="p">=</span> <span class="mi">6495700</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* 打印 Book1 信息 */</span>
</span></span><span class="line"><span class="cl">   <span class="nf">printBook</span><span class="p">(</span><span class="nx">Book1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* 打印 Book2 信息 */</span>
</span></span><span class="line"><span class="cl">   <span class="nf">printBook</span><span class="p">(</span><span class="nx">Book2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">printBook</span><span class="p">(</span> <span class="nx">book</span> <span class="nx">Books</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span> <span class="s">&#34;Book title : %s\n&#34;</span><span class="p">,</span> <span class="nx">book</span><span class="p">.</span><span class="nx">title</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span> <span class="s">&#34;Book author : %s\n&#34;</span><span class="p">,</span> <span class="nx">book</span><span class="p">.</span><span class="nx">author</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span> <span class="s">&#34;Book subject : %s\n&#34;</span><span class="p">,</span> <span class="nx">book</span><span class="p">.</span><span class="nx">subject</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span> <span class="s">&#34;Book book_id : %d\n&#34;</span><span class="p">,</span> <span class="nx">book</span><span class="p">.</span><span class="nx">book_id</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>运行结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">Book</span> <span class="nx">title</span> <span class="p">:</span> <span class="nx">Go</span> <span class="nx">语言</span>
</span></span><span class="line"><span class="cl"><span class="nx">Book</span> <span class="nx">author</span> <span class="p">:</span> <span class="nx">www</span><span class="p">.</span><span class="nx">runoob</span><span class="p">.</span><span class="nx">com</span>
</span></span><span class="line"><span class="cl"><span class="nx">Book</span> <span class="nx">subject</span> <span class="p">:</span> <span class="nx">Go</span> <span class="nx">语言教程</span>
</span></span><span class="line"><span class="cl"><span class="nx">Book</span> <span class="nx">book_id</span> <span class="p">:</span> <span class="mi">6495407</span>
</span></span><span class="line"><span class="cl"><span class="nx">Book</span> <span class="nx">title</span> <span class="p">:</span> <span class="nx">Python</span> <span class="nx">教程</span>
</span></span><span class="line"><span class="cl"><span class="nx">Book</span> <span class="nx">author</span> <span class="p">:</span> <span class="nx">www</span><span class="p">.</span><span class="nx">runoob</span><span class="p">.</span><span class="nx">com</span>
</span></span><span class="line"><span class="cl"><span class="nx">Book</span> <span class="nx">subject</span> <span class="p">:</span> <span class="nx">Python</span> <span class="nx">语言教程</span>
</span></span><span class="line"><span class="cl"><span class="nx">Book</span> <span class="nx">book_id</span> <span class="p">:</span> <span class="mi">6495700</span>
</span></span></code></pre></div><h2 id="结构体指针">结构体指针<a hidden class="anchor" aria-hidden="true" href="#结构体指针">#</a></h2>
<p>你可以定义指向结构体的指针类似于其他指针变量，格式如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">struct_pointer</span> <span class="o">*</span><span class="nx">Books</span>
</span></span></code></pre></div><p>以上定义的指针变量可以存储结构体变量的地址。查看结构体变量地址，可以将 &amp; 符号放置于结构体变量前：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">struct_pointer</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">Book1</span>
</span></span></code></pre></div><p>使用结构体指针访问结构体成员，使用 &ldquo;.&rdquo; 操作符：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">struct_pointer</span><span class="p">.</span><span class="nx">title</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Books</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="nx">title</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">   <span class="nx">author</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">   <span class="nx">subject</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl">   <span class="nx">book_id</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">Book1</span> <span class="nx">Books</span>        <span class="cm">/* 声明 Book1 为 Books 类型 */</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">Book2</span> <span class="nx">Books</span>        <span class="cm">/* 声明 Book2 为 Books 类型 */</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* book 1 描述 */</span>
</span></span><span class="line"><span class="cl">   <span class="nx">Book1</span><span class="p">.</span><span class="nx">title</span> <span class="p">=</span> <span class="s">&#34;Go 语言&#34;</span>
</span></span><span class="line"><span class="cl">   <span class="nx">Book1</span><span class="p">.</span><span class="nx">author</span> <span class="p">=</span> <span class="s">&#34;www.runoob.com&#34;</span>
</span></span><span class="line"><span class="cl">   <span class="nx">Book1</span><span class="p">.</span><span class="nx">subject</span> <span class="p">=</span> <span class="s">&#34;Go 语言教程&#34;</span>
</span></span><span class="line"><span class="cl">   <span class="nx">Book1</span><span class="p">.</span><span class="nx">book_id</span> <span class="p">=</span> <span class="mi">6495407</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* book 2 描述 */</span>
</span></span><span class="line"><span class="cl">   <span class="nx">Book2</span><span class="p">.</span><span class="nx">title</span> <span class="p">=</span> <span class="s">&#34;Python 教程&#34;</span>
</span></span><span class="line"><span class="cl">   <span class="nx">Book2</span><span class="p">.</span><span class="nx">author</span> <span class="p">=</span> <span class="s">&#34;www.runoob.com&#34;</span>
</span></span><span class="line"><span class="cl">   <span class="nx">Book2</span><span class="p">.</span><span class="nx">subject</span> <span class="p">=</span> <span class="s">&#34;Python 语言教程&#34;</span>
</span></span><span class="line"><span class="cl">   <span class="nx">Book2</span><span class="p">.</span><span class="nx">book_id</span> <span class="p">=</span> <span class="mi">6495700</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* 打印 Book1 信息 */</span>
</span></span><span class="line"><span class="cl">   <span class="nf">printBook</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">Book1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* 打印 Book2 信息 */</span>
</span></span><span class="line"><span class="cl">   <span class="nf">printBook</span><span class="p">(</span><span class="o">&amp;</span><span class="nx">Book2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">printBook</span><span class="p">(</span> <span class="nx">book</span> <span class="o">*</span><span class="nx">Books</span> <span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span> <span class="s">&#34;Book title : %s\n&#34;</span><span class="p">,</span> <span class="nx">book</span><span class="p">.</span><span class="nx">title</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span> <span class="s">&#34;Book author : %s\n&#34;</span><span class="p">,</span> <span class="nx">book</span><span class="p">.</span><span class="nx">author</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span> <span class="s">&#34;Book subject : %s\n&#34;</span><span class="p">,</span> <span class="nx">book</span><span class="p">.</span><span class="nx">subject</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span> <span class="s">&#34;Book book_id : %d\n&#34;</span><span class="p">,</span> <span class="nx">book</span><span class="p">.</span><span class="nx">book_id</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>运行结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">Book</span> <span class="nx">title</span> <span class="p">:</span> <span class="nx">Go</span> <span class="nx">语言</span>
</span></span><span class="line"><span class="cl"><span class="nx">Book</span> <span class="nx">author</span> <span class="p">:</span> <span class="nx">www</span><span class="p">.</span><span class="nx">runoob</span><span class="p">.</span><span class="nx">com</span>
</span></span><span class="line"><span class="cl"><span class="nx">Book</span> <span class="nx">subject</span> <span class="p">:</span> <span class="nx">Go</span> <span class="nx">语言教程</span>
</span></span><span class="line"><span class="cl"><span class="nx">Book</span> <span class="nx">book_id</span> <span class="p">:</span> <span class="mi">6495407</span>
</span></span><span class="line"><span class="cl"><span class="nx">Book</span> <span class="nx">title</span> <span class="p">:</span> <span class="nx">Python</span> <span class="nx">教程</span>
</span></span><span class="line"><span class="cl"><span class="nx">Book</span> <span class="nx">author</span> <span class="p">:</span> <span class="nx">www</span><span class="p">.</span><span class="nx">runoob</span><span class="p">.</span><span class="nx">com</span>
</span></span><span class="line"><span class="cl"><span class="nx">Book</span> <span class="nx">subject</span> <span class="p">:</span> <span class="nx">Python</span> <span class="nx">语言教程</span>
</span></span><span class="line"><span class="cl"><span class="nx">Book</span> <span class="nx">book_id</span> <span class="p">:</span> <span class="mi">6495700</span>
</span></span></code></pre></div><h1 id="go-语言切片slice">Go 语言切片(Slice)<a hidden class="anchor" aria-hidden="true" href="#go-语言切片slice">#</a></h1>
<p>Go 语言切片是对数组的抽象。</p>
<p>Go 数组的长度不可改变，在特定场景中这样的集合就不太适用，Go 中提供了一种灵活，功能强悍的内置类型切片(&ldquo;动态数组&rdquo;)，与数组相比切片的长度是不固定的，可以追加元素，在追加时可能使切片的容量增大。</p>
<h2 id="定义切片">定义切片<a hidden class="anchor" aria-hidden="true" href="#定义切片">#</a></h2>
<p>你可以声明一个未指定大小的数组来定义切片：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">identifier</span> <span class="p">[]</span><span class="kd">type</span>
</span></span></code></pre></div><p>切片不需要说明长度。</p>
<p>或使用 <strong>make()</strong> 函数来创建切片:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">slice1</span> <span class="p">[]</span><span class="kd">type</span> <span class="p">=</span> <span class="nb">make</span><span class="p">([]</span><span class="kd">type</span><span class="p">,</span> <span class="nx">len</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">也可以简写为</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">slice1</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="kd">type</span><span class="p">,</span> <span class="nx">len</span><span class="p">)</span>
</span></span></code></pre></div><p>也可以指定容量，其中 <strong>capacity</strong> 为可选参数。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nb">make</span><span class="p">([]</span><span class="nx">T</span><span class="p">,</span> <span class="nx">length</span><span class="p">,</span> <span class="nx">capacity</span><span class="p">)</span>
</span></span></code></pre></div><p>这里 len 是数组的长度并且也是切片的初始长度。</p>
<h3 id="切片初始化">切片初始化<a hidden class="anchor" aria-hidden="true" href="#切片初始化">#</a></h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">s</span> <span class="o">:=</span><span class="p">[]</span> <span class="kt">int</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span> <span class="p">}</span> 
</span></span></code></pre></div><p>直接初始化切片，[] 表示是切片类型，<strong>{1,2,3}</strong> 初始化值依次是 1,2,3，其 <strong>cap=len=3</strong>。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">s</span> <span class="o">:=</span> <span class="nx">arr</span><span class="p">[:]</span> 
</span></span></code></pre></div><p>初始化切片 <strong>s</strong>，是数组 arr 的引用。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">s</span> <span class="o">:=</span> <span class="nx">arr</span><span class="p">[</span><span class="nx">startIndex</span><span class="p">:</span><span class="nx">endIndex</span><span class="p">]</span> 
</span></span></code></pre></div><p>将 arr 中从下标 startIndex 到 endIndex-1 下的元素创建为一个新的切片。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">s</span> <span class="o">:=</span> <span class="nx">arr</span><span class="p">[</span><span class="nx">startIndex</span><span class="p">:]</span> 
</span></span></code></pre></div><p>默认 endIndex 时将表示一直到arr的最后一个元素。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">s</span> <span class="o">:=</span> <span class="nx">arr</span><span class="p">[:</span><span class="nx">endIndex</span><span class="p">]</span> 
</span></span></code></pre></div><p>默认 startIndex 时将表示从 arr 的第一个元素开始。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">s1</span> <span class="o">:=</span> <span class="nx">s</span><span class="p">[</span><span class="nx">startIndex</span><span class="p">:</span><span class="nx">endIndex</span><span class="p">]</span> 
</span></span></code></pre></div><p>通过切片 s 初始化切片 s1。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">s</span> <span class="o">:=</span><span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span><span class="nx">len</span><span class="p">,</span><span class="nx">cap</span><span class="p">)</span> 
</span></span></code></pre></div><p>通过内置函数 <strong>make()</strong> 初始化切片<strong>s</strong>，<strong>[]int</strong> 标识为其元素类型为 int 的切片。</p>
<hr>
<h2 id="len-和-cap-函数">len() 和 cap() 函数<a hidden class="anchor" aria-hidden="true" href="#len-和-cap-函数">#</a></h2>
<p>切片是可索引的，并且可以由 len() 方法获取长度。</p>
<p>切片提供了计算容量的方法 cap() 可以测量切片最长可以达到多少。</p>
<p>以下为具体实例：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">numbers</span> <span class="p">=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nf">printSlice</span><span class="p">(</span><span class="nx">numbers</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">printSlice</span><span class="p">(</span><span class="nx">x</span> <span class="p">[]</span><span class="kt">int</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;len=%d cap=%d slice=%v\n&#34;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="nx">x</span><span class="p">),</span><span class="nb">cap</span><span class="p">(</span><span class="nx">x</span><span class="p">),</span><span class="nx">x</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>输出结果为:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">len</span><span class="p">=</span><span class="mi">3</span> <span class="nx">cap</span><span class="p">=</span><span class="mi">5</span> <span class="nx">slice</span><span class="p">=[</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span><span class="p">]</span>
</span></span></code></pre></div><h2 id="空nil切片">空(nil)切片<a hidden class="anchor" aria-hidden="true" href="#空nil切片">#</a></h2>
<p>一个切片在未初始化之前默认为 nil，长度为 0，实例如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">numbers</span> <span class="p">[]</span><span class="kt">int</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nf">printSlice</span><span class="p">(</span><span class="nx">numbers</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="k">if</span><span class="p">(</span><span class="nx">numbers</span> <span class="o">==</span> <span class="kc">nil</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">      <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;切片是空的&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">printSlice</span><span class="p">(</span><span class="nx">x</span> <span class="p">[]</span><span class="kt">int</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;len=%d cap=%d slice=%v\n&#34;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="nx">x</span><span class="p">),</span><span class="nb">cap</span><span class="p">(</span><span class="nx">x</span><span class="p">),</span><span class="nx">x</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>输出结果为:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">len</span><span class="p">=</span><span class="mi">0</span> <span class="nx">cap</span><span class="p">=</span><span class="mi">0</span> <span class="nx">slice</span><span class="p">=[]</span>
</span></span><span class="line"><span class="cl"><span class="nx">切片是空的</span>
</span></span></code></pre></div><h2 id="切片截取">切片截取<a hidden class="anchor" aria-hidden="true" href="#切片截取">#</a></h2>
<p>可以通过设置下限及上限来设置截取切片 <em>[lower-bound:upper-bound]</em>，实例如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="cm">/* 创建切片 */</span>
</span></span><span class="line"><span class="cl">   <span class="nx">numbers</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">}</span>   
</span></span><span class="line"><span class="cl">   <span class="nf">printSlice</span><span class="p">(</span><span class="nx">numbers</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* 打印原始切片 */</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;numbers ==&#34;</span><span class="p">,</span> <span class="nx">numbers</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* 打印子切片从索引1(包含) 到索引4(不包含)*/</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;numbers[1:4] ==&#34;</span><span class="p">,</span> <span class="nx">numbers</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* 默认下限为 0*/</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;numbers[:3] ==&#34;</span><span class="p">,</span> <span class="nx">numbers</span><span class="p">[:</span><span class="mi">3</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* 默认上限为 len(s)*/</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;numbers[4:] ==&#34;</span><span class="p">,</span> <span class="nx">numbers</span><span class="p">[</span><span class="mi">4</span><span class="p">:])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="nx">numbers1</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="nf">printSlice</span><span class="p">(</span><span class="nx">numbers1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* 打印子切片从索引  0(包含) 到索引 2(不包含) */</span>
</span></span><span class="line"><span class="cl">   <span class="nx">number2</span> <span class="o">:=</span> <span class="nx">numbers</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">   <span class="nf">printSlice</span><span class="p">(</span><span class="nx">number2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* 打印子切片从索引 2(包含) 到索引 5(不包含) */</span>
</span></span><span class="line"><span class="cl">   <span class="nx">number3</span> <span class="o">:=</span> <span class="nx">numbers</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">   <span class="nf">printSlice</span><span class="p">(</span><span class="nx">number3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">printSlice</span><span class="p">(</span><span class="nx">x</span> <span class="p">[]</span><span class="kt">int</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;len=%d cap=%d slice=%v\n&#34;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="nx">x</span><span class="p">),</span><span class="nb">cap</span><span class="p">(</span><span class="nx">x</span><span class="p">),</span><span class="nx">x</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>输出结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">len</span><span class="p">=</span><span class="mi">9</span> <span class="nx">cap</span><span class="p">=</span><span class="mi">9</span> <span class="nx">slice</span><span class="p">=[</span><span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span> <span class="mi">7</span> <span class="mi">8</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">numbers</span> <span class="o">==</span> <span class="p">[</span><span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span> <span class="mi">7</span> <span class="mi">8</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">numbers</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span> <span class="o">==</span> <span class="p">[</span><span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">numbers</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="p">[</span><span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">numbers</span><span class="p">[</span><span class="mi">4</span><span class="p">:]</span> <span class="o">==</span> <span class="p">[</span><span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span> <span class="mi">7</span> <span class="mi">8</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">len</span><span class="p">=</span><span class="mi">0</span> <span class="nx">cap</span><span class="p">=</span><span class="mi">5</span> <span class="nx">slice</span><span class="p">=[]</span>
</span></span><span class="line"><span class="cl"><span class="nx">len</span><span class="p">=</span><span class="mi">2</span> <span class="nx">cap</span><span class="p">=</span><span class="mi">9</span> <span class="nx">slice</span><span class="p">=[</span><span class="mi">0</span> <span class="mi">1</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">len</span><span class="p">=</span><span class="mi">3</span> <span class="nx">cap</span><span class="p">=</span><span class="mi">7</span> <span class="nx">slice</span><span class="p">=[</span><span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span><span class="p">]</span>
</span></span></code></pre></div><h2 id="append-和-copy-函数">append() 和 copy() 函数<a hidden class="anchor" aria-hidden="true" href="#append-和-copy-函数">#</a></h2>
<p>如果想增加切片的容量，我们必须创建一个新的更大的切片并把原分片的内容都拷贝过来。</p>
<p>下面的代码描述了从拷贝切片的 copy 方法和向切片追加新元素的 append 方法。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">numbers</span> <span class="p">[]</span><span class="kt">int</span>
</span></span><span class="line"><span class="cl">   <span class="nf">printSlice</span><span class="p">(</span><span class="nx">numbers</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* 允许追加空切片 */</span>
</span></span><span class="line"><span class="cl">   <span class="nx">numbers</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">numbers</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="nf">printSlice</span><span class="p">(</span><span class="nx">numbers</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* 向切片添加一个元素 */</span>
</span></span><span class="line"><span class="cl">   <span class="nx">numbers</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">numbers</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="nf">printSlice</span><span class="p">(</span><span class="nx">numbers</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* 同时添加多个元素 */</span>
</span></span><span class="line"><span class="cl">   <span class="nx">numbers</span> <span class="p">=</span> <span class="nb">append</span><span class="p">(</span><span class="nx">numbers</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="nf">printSlice</span><span class="p">(</span><span class="nx">numbers</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* 创建切片 numbers1 是之前切片的两倍容量*/</span>
</span></span><span class="line"><span class="cl">   <span class="nx">numbers1</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="nx">numbers</span><span class="p">),</span> <span class="p">(</span><span class="nb">cap</span><span class="p">(</span><span class="nx">numbers</span><span class="p">))</span><span class="o">*</span><span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">   <span class="cm">/* 拷贝 numbers 的内容到 numbers1 */</span>
</span></span><span class="line"><span class="cl">   <span class="nb">copy</span><span class="p">(</span><span class="nx">numbers1</span><span class="p">,</span><span class="nx">numbers</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="nf">printSlice</span><span class="p">(</span><span class="nx">numbers1</span><span class="p">)</span>   
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">printSlice</span><span class="p">(</span><span class="nx">x</span> <span class="p">[]</span><span class="kt">int</span><span class="p">){</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;len=%d cap=%d slice=%v\n&#34;</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="nx">x</span><span class="p">),</span><span class="nb">cap</span><span class="p">(</span><span class="nx">x</span><span class="p">),</span><span class="nx">x</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>输出结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">len</span><span class="p">=</span><span class="mi">0</span> <span class="nx">cap</span><span class="p">=</span><span class="mi">0</span> <span class="nx">slice</span><span class="p">=[]</span>
</span></span><span class="line"><span class="cl"><span class="nx">len</span><span class="p">=</span><span class="mi">1</span> <span class="nx">cap</span><span class="p">=</span><span class="mi">1</span> <span class="nx">slice</span><span class="p">=[</span><span class="mi">0</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">len</span><span class="p">=</span><span class="mi">2</span> <span class="nx">cap</span><span class="p">=</span><span class="mi">2</span> <span class="nx">slice</span><span class="p">=[</span><span class="mi">0</span> <span class="mi">1</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">len</span><span class="p">=</span><span class="mi">5</span> <span class="nx">cap</span><span class="p">=</span><span class="mi">6</span> <span class="nx">slice</span><span class="p">=[</span><span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">len</span><span class="p">=</span><span class="mi">5</span> <span class="nx">cap</span><span class="p">=</span><span class="mi">12</span> <span class="nx">slice</span><span class="p">=[</span><span class="mi">0</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span><span class="p">]</span>
</span></span></code></pre></div><h1 id="go-语言范围range">Go 语言范围(Range)<a hidden class="anchor" aria-hidden="true" href="#go-语言范围range">#</a></h1>
<p>Go 语言中 range 关键字用于 for 循环中迭代数组(array)、切片(slice)、通道(channel)或集合(map)的元素。在数组和切片中它返回元素的索引和索引对应的值，在集合中返回 key-value 对。</p>
<p>for 循环的 range 格式可以对 slice、map、数组、字符串等进行迭代循环。格式如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="k">for</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">value</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">oldMap</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">newMap</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="p">=</span> <span class="nx">value</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>以上代码中的 key 和 value 是可以省略。</p>
<p>如果只想读取 key，格式如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="k">for</span> <span class="nx">key</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">oldMap</span>
</span></span></code></pre></div><p>或者这样：</p>
<p>for key, _ := range oldMap</p>
<p>如果只想读取 value，格式如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">value</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">oldMap</span>
</span></span></code></pre></div><h2 id="数组和切片">数组和切片<a hidden class="anchor" aria-hidden="true" href="#数组和切片">#</a></h2>
<p>遍历简单的切片，2**%d 的结果为 2 对应的次方数：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 声明一个包含 2 的幂次方的切片
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">var</span> <span class="nx">pow</span> <span class="p">=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">128</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="c1">// 遍历 pow 切片，i 是索引，v 是值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>   <span class="k">for</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">v</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">pow</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">      <span class="c1">// 打印 2 的 i 次方等于 v
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>      <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;2**%d = %d\n&#34;</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">v</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><blockquote>
<p><strong>遍历 pow 切片，i 是索引，v 是值</strong></p>
</blockquote>
<p>输出结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="mi">2</span><span class="o">**</span><span class="mi">0</span> <span class="p">=</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl"><span class="mi">2</span><span class="o">**</span><span class="mi">1</span> <span class="p">=</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl"><span class="mi">2</span><span class="o">**</span><span class="mi">2</span> <span class="p">=</span> <span class="mi">4</span>
</span></span><span class="line"><span class="cl"><span class="mi">2</span><span class="o">**</span><span class="mi">3</span> <span class="p">=</span> <span class="mi">8</span>
</span></span><span class="line"><span class="cl"><span class="mi">2</span><span class="o">**</span><span class="mi">4</span> <span class="p">=</span> <span class="mi">16</span>
</span></span><span class="line"><span class="cl"><span class="mi">2</span><span class="o">**</span><span class="mi">5</span> <span class="p">=</span> <span class="mi">32</span>
</span></span><span class="line"><span class="cl"><span class="mi">2</span><span class="o">**</span><span class="mi">6</span> <span class="p">=</span> <span class="mi">64</span>
</span></span><span class="line"><span class="cl"><span class="mi">2</span><span class="o">**</span><span class="mi">7</span> <span class="p">=</span> <span class="mi">128</span>
</span></span></code></pre></div><h2 id="字符串">字符串<a hidden class="anchor" aria-hidden="true" href="#字符串">#</a></h2>
<p>range 迭代字符串时，返回每个字符的索引和 Unicode 代码点（rune）。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">c</span> <span class="o">:=</span> <span class="k">range</span> <span class="s">&#34;hello&#34;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;index: %d, char: %c\n&#34;</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">c</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>输出结果为:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">index</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">char</span><span class="p">:</span> <span class="nx">h</span>
</span></span><span class="line"><span class="cl"><span class="nx">index</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">char</span><span class="p">:</span> <span class="nx">e</span>
</span></span><span class="line"><span class="cl"><span class="nx">index</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">char</span><span class="p">:</span> <span class="nx">l</span>
</span></span><span class="line"><span class="cl"><span class="nx">index</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="nx">char</span><span class="p">:</span> <span class="nx">l</span>
</span></span><span class="line"><span class="cl"><span class="nx">index</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="nx">char</span><span class="p">:</span> <span class="nx">o</span>
</span></span></code></pre></div><h2 id="映射map">映射（Map）<a hidden class="anchor" aria-hidden="true" href="#映射map">#</a></h2>
<p>for 循环的 range 格式可以省略 key 和 value，如下实例：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 创建一个空的 map，key 是 int 类型，value 是 float32 类型
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">map1</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">map</span><span class="p">[</span><span class="kt">int</span><span class="p">]</span><span class="kt">float32</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// 向 map1 中添加 key-value 对
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">map1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">=</span> <span class="mf">1.0</span>
</span></span><span class="line"><span class="cl">    <span class="nx">map1</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="p">=</span> <span class="mf">2.0</span>
</span></span><span class="line"><span class="cl">    <span class="nx">map1</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="p">=</span> <span class="mf">3.0</span>
</span></span><span class="line"><span class="cl">    <span class="nx">map1</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="p">=</span> <span class="mf">4.0</span>
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">    <span class="c1">// 遍历 map1，读取 key 和 value
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">value</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">map1</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// 打印 key 和 value
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;key is: %d - value is: %f\n&#34;</span><span class="p">,</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 遍历 map1，只读取 key
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="nx">key</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">map1</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// 打印 key
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;key is: %d\n&#34;</span><span class="p">,</span> <span class="nx">key</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 遍历 map1，只读取 value
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">value</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">map1</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// 打印 value
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;value is: %f\n&#34;</span><span class="p">,</span> <span class="nx">value</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>输出结果为:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">key</span> <span class="nx">is</span><span class="p">:</span> <span class="mi">4</span> <span class="o">-</span> <span class="nx">value</span> <span class="nx">is</span><span class="p">:</span> <span class="mf">4.000000</span>
</span></span><span class="line"><span class="cl"><span class="nx">key</span> <span class="nx">is</span><span class="p">:</span> <span class="mi">1</span> <span class="o">-</span> <span class="nx">value</span> <span class="nx">is</span><span class="p">:</span> <span class="mf">1.000000</span>
</span></span><span class="line"><span class="cl"><span class="nx">key</span> <span class="nx">is</span><span class="p">:</span> <span class="mi">2</span> <span class="o">-</span> <span class="nx">value</span> <span class="nx">is</span><span class="p">:</span> <span class="mf">2.000000</span>
</span></span><span class="line"><span class="cl"><span class="nx">key</span> <span class="nx">is</span><span class="p">:</span> <span class="mi">3</span> <span class="o">-</span> <span class="nx">value</span> <span class="nx">is</span><span class="p">:</span> <span class="mf">3.000000</span>
</span></span><span class="line"><span class="cl"><span class="nx">key</span> <span class="nx">is</span><span class="p">:</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl"><span class="nx">key</span> <span class="nx">is</span><span class="p">:</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl"><span class="nx">key</span> <span class="nx">is</span><span class="p">:</span> <span class="mi">3</span>
</span></span><span class="line"><span class="cl"><span class="nx">key</span> <span class="nx">is</span><span class="p">:</span> <span class="mi">4</span>
</span></span><span class="line"><span class="cl"><span class="nx">value</span> <span class="nx">is</span><span class="p">:</span> <span class="mf">1.000000</span>
</span></span><span class="line"><span class="cl"><span class="nx">value</span> <span class="nx">is</span><span class="p">:</span> <span class="mf">2.000000</span>
</span></span><span class="line"><span class="cl"><span class="nx">value</span> <span class="nx">is</span><span class="p">:</span> <span class="mf">3.000000</span>
</span></span><span class="line"><span class="cl"><span class="nx">value</span> <span class="nx">is</span><span class="p">:</span> <span class="mf">4.000000</span>
</span></span></code></pre></div><h2 id="通道channel">通道（Channel）<a hidden class="anchor" aria-hidden="true" href="#通道channel">#</a></h2>
<p>range 遍历从通道接收的值，直到通道关闭。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">ch</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="kt">int</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">ch</span> <span class="o">&lt;-</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">    <span class="nx">ch</span> <span class="o">&lt;-</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl">    <span class="nb">close</span><span class="p">(</span><span class="nx">ch</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="nx">v</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">ch</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>输出结果为:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="mi">1</span>
</span></span><span class="line"><span class="cl"><span class="mi">2</span>
</span></span></code></pre></div><h2 id="忽略值">忽略值<a hidden class="anchor" aria-hidden="true" href="#忽略值">#</a></h2>
<p>在遍历时可以使用 _ 来忽略索引或值。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">nums</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// 忽略索引
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">num</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">nums</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;value:&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// 忽略值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">nums</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;index:&#34;</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>输出结果为:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">value</span><span class="p">:</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl"><span class="nx">value</span><span class="p">:</span> <span class="mi">3</span>
</span></span><span class="line"><span class="cl"><span class="nx">value</span><span class="p">:</span> <span class="mi">4</span>
</span></span><span class="line"><span class="cl"><span class="nx">index</span><span class="p">:</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="nx">index</span><span class="p">:</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl"><span class="nx">index</span><span class="p">:</span> <span class="mi">2</span>
</span></span></code></pre></div><h2 id="其他">其他<a hidden class="anchor" aria-hidden="true" href="#其他">#</a></h2>
<p>range 遍历其他数据结构：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//这是我们使用 range 去求一个 slice 的和。使用数组跟这个很类似
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">nums</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">sum</span> <span class="o">:=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">num</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">nums</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">sum</span> <span class="o">+=</span> <span class="nx">num</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;sum:&#34;</span><span class="p">,</span> <span class="nx">sum</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//在数组上使用 range 将传入索引和值两个变量。上面那个例子我们不需要使用该元素的序号，所以我们使用空白符&#34;_&#34;省略了。有时侯我们确实需要知道它的索引。
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">num</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">nums</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="nx">num</span> <span class="o">==</span> <span class="mi">3</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;index:&#34;</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">//range 也可以用在 map 的键值对上。
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">kvs</span> <span class="o">:=</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="p">{</span><span class="s">&#34;a&#34;</span><span class="p">:</span> <span class="s">&#34;apple&#34;</span><span class="p">,</span> <span class="s">&#34;b&#34;</span><span class="p">:</span> <span class="s">&#34;banana&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="nx">k</span><span class="p">,</span> <span class="nx">v</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">kvs</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;%s -&gt; %s\n&#34;</span><span class="p">,</span> <span class="nx">k</span><span class="p">,</span> <span class="nx">v</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">//range也可以用来枚举 Unicode 字符串。第一个参数是字符的索引，第二个是字符（Unicode的值）本身。
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">for</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">c</span> <span class="o">:=</span> <span class="k">range</span> <span class="s">&#34;go&#34;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="nx">c</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>输出结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">sum</span><span class="p">:</span> <span class="mi">9</span>
</span></span><span class="line"><span class="cl"><span class="nx">index</span><span class="p">:</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl"><span class="nx">a</span> <span class="o">-</span><span class="p">&gt;</span> <span class="nx">apple</span>
</span></span><span class="line"><span class="cl"><span class="nx">b</span> <span class="o">-</span><span class="p">&gt;</span> <span class="nx">banana</span>
</span></span><span class="line"><span class="cl"><span class="mi">0</span> <span class="mi">103</span>
</span></span><span class="line"><span class="cl"><span class="mi">1</span> <span class="mi">111</span>
</span></span></code></pre></div><h1 id="go-语言map集合">Go 语言Map(集合)<a hidden class="anchor" aria-hidden="true" href="#go-语言map集合">#</a></h1>
<p>Map 是一种无序的键值对的集合。</p>
<p>Map 最重要的一点是通过 key 来快速检索数据，key 类似于索引，指向数据的值。</p>
<p>Map 是一种集合，所以我们可以像迭代数组和切片那样迭代它。不过，Map 是无序的，遍历 Map 时返回的键值对的顺序是不确定的。</p>
<p>在获取 Map 的值时，如果键不存在，返回该类型的零值，例如 int 类型的零值是 0，string 类型的零值是 &ldquo;&quot;。</p>
<p>Map 是引用类型，如果将一个 Map 传递给一个函数或赋值给另一个变量，它们都指向同一个底层数据结构，因此对 Map 的修改会影响到所有引用它的变量。</p>
<h3 id="定义-map">定义 Map<a hidden class="anchor" aria-hidden="true" href="#定义-map">#</a></h3>
<p>可以使用内建函数 make 或使用 map 关键字来定义 Map:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="cm">/* 使用 make 函数 */</span>
</span></span><span class="line"><span class="cl"><span class="nx">map_variable</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">map</span><span class="p">[</span><span class="nx">KeyType</span><span class="p">]</span><span class="nx">ValueType</span><span class="p">,</span> <span class="nx">initialCapacity</span><span class="p">)</span>
</span></span></code></pre></div><p>其中 KeyType 是键的类型，ValueType 是值的类型，initialCapacity 是可选的参数，用于指定 Map  的初始容量。Map 的容量是指 Map 中可以保存的键值对的数量，当 Map 中的键值对数量达到容量时，Map 会自动扩容。如果不指定  initialCapacity，Go 语言会根据实际情况选择一个合适的值。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">// 创建一个空的 Map
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">m</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 创建一个初始容量为 10 的 Map
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">m</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</span></span></code></pre></div><p>也可以使用字面量创建 Map：<strong>键&lt;&mdash;&mdash;&mdash;&gt;值</strong></p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">// 使用字面量创建 Map
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">m</span> <span class="o">:=</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">int</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;apple&#34;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;banana&#34;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;orange&#34;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>获取元素：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">// 获取键值对
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">v1</span> <span class="o">:=</span> <span class="nx">m</span><span class="p">[</span><span class="s">&#34;apple&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="nx">v2</span><span class="p">,</span> <span class="nx">ok</span> <span class="o">:=</span> <span class="nx">m</span><span class="p">[</span><span class="s">&#34;pear&#34;</span><span class="p">]</span>  <span class="c1">// 如果键不存在，ok 的值为 false，v2 的值为该类型的零值
</span></span></span></code></pre></div><p>修改元素：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">// 修改键值对
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">m</span><span class="p">[</span><span class="s">&#34;apple&#34;</span><span class="p">]</span> <span class="p">=</span> <span class="mi">5</span>
</span></span></code></pre></div><p>获取 Map 的长度：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">// 获取 Map 的长度
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">len</span> <span class="o">:=</span> <span class="nb">len</span><span class="p">(</span><span class="nx">m</span><span class="p">)</span>
</span></span></code></pre></div><p>遍历 Map：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">// 遍历 Map
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="k">for</span> <span class="nx">k</span><span class="p">,</span> <span class="nx">v</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">m</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;key=%s, value=%d\n&#34;</span><span class="p">,</span> <span class="nx">k</span><span class="p">,</span> <span class="nx">v</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>删除元素：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="c1">// 删除键值对
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nb">delete</span><span class="p">(</span><span class="nx">m</span><span class="p">,</span> <span class="s">&#34;banana&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p>创建和使用map:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nx">siteMap</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span> <span class="cm">/*创建集合 */</span>
</span></span><span class="line"><span class="cl">    <span class="nx">siteMap</span> <span class="p">=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/* map 插入 key - value 对,各个国家对应的首都 */</span>
</span></span><span class="line"><span class="cl">    <span class="nx">siteMap</span> <span class="p">[</span> <span class="s">&#34;Google&#34;</span> <span class="p">]</span> <span class="p">=</span> <span class="s">&#34;谷歌&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">siteMap</span> <span class="p">[</span> <span class="s">&#34;Runoob&#34;</span> <span class="p">]</span> <span class="p">=</span> <span class="s">&#34;菜鸟教程&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">siteMap</span> <span class="p">[</span> <span class="s">&#34;Baidu&#34;</span> <span class="p">]</span> <span class="p">=</span> <span class="s">&#34;百度&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">siteMap</span> <span class="p">[</span> <span class="s">&#34;Wiki&#34;</span> <span class="p">]</span> <span class="p">=</span> <span class="s">&#34;维基百科&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/*使用键输出地图值 */</span> 
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="nx">site</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">siteMap</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">site</span><span class="p">,</span> <span class="s">&#34;首都是&#34;</span><span class="p">,</span> <span class="nx">siteMap</span> <span class="p">[</span><span class="nx">site</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="cm">/*查看元素在集合中是否存在 */</span>
</span></span><span class="line"><span class="cl">    <span class="nx">name</span><span class="p">,</span> <span class="nx">ok</span> <span class="o">:=</span> <span class="nx">siteMap</span> <span class="p">[</span> <span class="s">&#34;Facebook&#34;</span> <span class="p">]</span> <span class="cm">/*如果确定是真实的,则存在,否则不存在 */</span>
</span></span><span class="line"><span class="cl">    <span class="cm">/*fmt.Println(capital) */</span>
</span></span><span class="line"><span class="cl">    <span class="cm">/*fmt.Println(ok) */</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="nx">ok</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Facebook 的 站点是&#34;</span><span class="p">,</span> <span class="nx">name</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Facebook 站点不存在&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>运行结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">Wiki</span> <span class="nx">首都是</span> <span class="nx">维基百科</span>
</span></span><span class="line"><span class="cl"><span class="nx">Google</span> <span class="nx">首都是</span> <span class="nx">谷歌</span>
</span></span><span class="line"><span class="cl"><span class="nx">Runoob</span> <span class="nx">首都是</span> <span class="nx">菜鸟教程</span>
</span></span><span class="line"><span class="cl"><span class="nx">Baidu</span> <span class="nx">首都是</span> <span class="nx">百度</span>
</span></span><span class="line"><span class="cl"><span class="nx">Facebook</span> <span class="nx">站点不存在</span>
</span></span></code></pre></div><h2 id="delete-函数">delete() 函数<a hidden class="anchor" aria-hidden="true" href="#delete-函数">#</a></h2>
<p>delete() 函数用于删除集合的元素, 参数为 map 和其对应的 key。实例如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="cm">/* 创建map */</span>
</span></span><span class="line"><span class="cl">        <span class="nx">countryCapitalMap</span> <span class="o">:=</span> <span class="kd">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="p">{</span><span class="s">&#34;France&#34;</span><span class="p">:</span> <span class="s">&#34;Paris&#34;</span><span class="p">,</span> <span class="s">&#34;Italy&#34;</span><span class="p">:</span> <span class="s">&#34;Rome&#34;</span><span class="p">,</span> <span class="s">&#34;Japan&#34;</span><span class="p">:</span> <span class="s">&#34;Tokyo&#34;</span><span class="p">,</span> <span class="s">&#34;India&#34;</span><span class="p">:</span> <span class="s">&#34;New delhi&#34;</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;原始地图&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="cm">/* 打印地图 */</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="nx">country</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">countryCapitalMap</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">country</span><span class="p">,</span> <span class="s">&#34;首都是&#34;</span><span class="p">,</span> <span class="nx">countryCapitalMap</span> <span class="p">[</span> <span class="nx">country</span> <span class="p">])</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="cm">/*删除元素*/</span> <span class="nb">delete</span><span class="p">(</span><span class="nx">countryCapitalMap</span><span class="p">,</span> <span class="s">&#34;France&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;法国条目被删除&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;删除元素后地图&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="cm">/*打印地图*/</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="nx">country</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">countryCapitalMap</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">country</span><span class="p">,</span> <span class="s">&#34;首都是&#34;</span><span class="p">,</span> <span class="nx">countryCapitalMap</span> <span class="p">[</span> <span class="nx">country</span> <span class="p">])</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>运行结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">原始地图</span>
</span></span><span class="line"><span class="cl"><span class="nx">India</span> <span class="nx">首都是</span> <span class="nx">New</span> <span class="nx">delhi</span>
</span></span><span class="line"><span class="cl"><span class="nx">France</span> <span class="nx">首都是</span> <span class="nx">Paris</span>
</span></span><span class="line"><span class="cl"><span class="nx">Italy</span> <span class="nx">首都是</span> <span class="nx">Rome</span>
</span></span><span class="line"><span class="cl"><span class="nx">Japan</span> <span class="nx">首都是</span> <span class="nx">Tokyo</span>
</span></span><span class="line"><span class="cl"><span class="nx">法国条目被删除</span>
</span></span><span class="line"><span class="cl"><span class="nx">删除元素后地图</span>
</span></span><span class="line"><span class="cl"><span class="nx">Italy</span> <span class="nx">首都是</span> <span class="nx">Rome</span>
</span></span><span class="line"><span class="cl"><span class="nx">Japan</span> <span class="nx">首都是</span> <span class="nx">Tokyo</span>
</span></span><span class="line"><span class="cl"><span class="nx">India</span> <span class="nx">首都是</span> <span class="nx">New</span> <span class="nx">delhi</span>
</span></span></code></pre></div><h1 id="go-语言递归函数">Go 语言递归函数<a hidden class="anchor" aria-hidden="true" href="#go-语言递归函数">#</a></h1>
<p>递归，就是在运行的过程中调用自己。</p>
<p>语法格式如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">recursion</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="nf">recursion</span><span class="p">()</span> <span class="o">*/</span><span class="err">\</span><span class="o">*</span> <span class="nx">函数调用自身</span> <span class="err">\</span><span class="o">*/*</span>
</span></span><span class="line"><span class="cl"> <span class="p">}</span>
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"> <span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="nf">recursion</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"> <span class="p">}</span>
</span></span></code></pre></div><p>Go 语言支持递归。但我们在使用递归时，开发者需要设置退出条件，否则递归将陷入无限循环中。</p>
<p>递归函数对于解决数学上的问题是非常有用的，就像计算阶乘，生成斐波那契数列等。</p>
<h2 id="阶乘">阶乘<a hidden class="anchor" aria-hidden="true" href="#阶乘">#</a></h2>
<p>以下实例通过 Go 语言的递归函数实例阶乘：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">Factorial</span><span class="p">(</span><span class="nx">n</span> <span class="kt">uint64</span><span class="p">)(</span><span class="nx">result</span> <span class="kt">uint64</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="p">(</span><span class="nx">n</span> <span class="p">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">result</span> <span class="p">=</span> <span class="nx">n</span> <span class="o">*</span> <span class="nf">Factorial</span><span class="p">(</span><span class="nx">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nx">result</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nx">i</span> <span class="kt">int</span> <span class="p">=</span> <span class="mi">15</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;%d 的阶乘是 %d\n&#34;</span><span class="p">,</span> <span class="nx">i</span><span class="p">,</span> <span class="nf">Factorial</span><span class="p">(</span><span class="nb">uint64</span><span class="p">(</span><span class="nx">i</span><span class="p">)))</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>输出结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="mi">15</span> <span class="nx">的阶乘是</span> <span class="mi">1307674368000</span>
</span></span></code></pre></div><h2 id="斐波那契数列">斐波那契数列<a hidden class="anchor" aria-hidden="true" href="#斐波那契数列">#</a></h2>
<p>以下实例通过 Go 语言的递归函数实现斐波那契数列：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">fibonacci</span><span class="p">(</span><span class="nx">n</span> <span class="kt">int</span><span class="p">)</span> <span class="kt">int</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="k">if</span> <span class="nx">n</span> <span class="p">&lt;</span> <span class="mi">2</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="k">return</span> <span class="nx">n</span>
</span></span><span class="line"><span class="cl">  <span class="p">}</span>
</span></span><span class="line"><span class="cl">  <span class="k">return</span> <span class="nf">fibonacci</span><span class="p">(</span><span class="nx">n</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="nf">fibonacci</span><span class="p">(</span><span class="nx">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nx">i</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="nx">i</span> <span class="p">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">       <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;%d\t&#34;</span><span class="p">,</span> <span class="nf">fibonacci</span><span class="p">(</span><span class="nx">i</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>输出结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="mi">0</span>    <span class="mi">1</span>    <span class="mi">1</span>    <span class="mi">2</span>    <span class="mi">3</span>    <span class="mi">5</span>    <span class="mi">8</span>    <span class="mi">13</span>    <span class="mi">21</span>    <span class="mi">34</span>
</span></span></code></pre></div><h2 id="求平方根">求平方根<a hidden class="anchor" aria-hidden="true" href="#求平方根">#</a></h2>
<p>以下实例通过 Go 语言使用递归方法实现求平方根的代码：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">sqrtRecursive</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">guess</span><span class="p">,</span> <span class="nx">prevGuess</span><span class="p">,</span> <span class="nx">epsilon</span> <span class="kt">float64</span><span class="p">)</span> <span class="kt">float64</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="nx">diff</span> <span class="o">:=</span> <span class="nx">guess</span><span class="o">*</span><span class="nx">guess</span> <span class="o">-</span> <span class="nx">x</span><span class="p">;</span> <span class="nx">diff</span> <span class="p">&lt;</span> <span class="nx">epsilon</span> <span class="o">&amp;&amp;</span> <span class="o">-</span><span class="nx">diff</span> <span class="p">&lt;</span> <span class="nx">epsilon</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="nx">guess</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nx">newGuess</span> <span class="o">:=</span> <span class="p">(</span><span class="nx">guess</span> <span class="o">+</span> <span class="nx">x</span><span class="o">/</span><span class="nx">guess</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="nx">newGuess</span> <span class="o">==</span> <span class="nx">prevGuess</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="k">return</span> <span class="nx">guess</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nf">sqrtRecursive</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">newGuess</span><span class="p">,</span> <span class="nx">guess</span><span class="p">,</span> <span class="nx">epsilon</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">sqrt</span><span class="p">(</span><span class="nx">x</span> <span class="kt">float64</span><span class="p">)</span> <span class="kt">float64</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="nf">sqrtRecursive</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1e-9</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">x</span> <span class="o">:=</span> <span class="mf">25.0</span>
</span></span><span class="line"><span class="cl">        <span class="nx">result</span> <span class="o">:=</span> <span class="nf">sqrt</span><span class="p">(</span><span class="nx">x</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;%.2f 的平方根为 %.6f\n&#34;</span><span class="p">,</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">result</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>以上实例中，<strong>sqrtRecursive</strong> 函数使用递归方式实现平方根的计算。</p>
<p><strong>sqrtRecursive</strong> 函数接受四个参数：</p>
<ul>
<li><strong>x</strong> 表示待求平方根的数</li>
<li><strong>guess</strong> 表示当前猜测的平方根值</li>
<li><strong>prevGuess</strong> 表示上一次的猜测值</li>
<li><strong>epsilon</strong> 表示精度要求（即接近平方根的程度）</li>
</ul>
<p>递归的终止条件是当前猜测的平方根与上一次猜测的平方根非常接近，差值小于给定的精度 epsilon。</p>
<p>在 sqrt 函数中，我们调用 sqrtRecursive 来计算平方根，并传入初始值和精度要求，然后在 main 函数中，我们调用 sqrt 函数来求解平方根，并将结果打印出来。</p>
<p>执行以上代码输出结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="mf">25.00</span> <span class="nx">的平方根为</span> <span class="mf">5.000000</span>
</span></span></code></pre></div><h1 id="go-语言类型转换">Go 语言类型转换<a hidden class="anchor" aria-hidden="true" href="#go-语言类型转换">#</a></h1>
<p>类型转换用于将一种数据类型的变量转换为另外一种类型的变量。</p>
<p>Go 语言类型转换基本格式如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nf">type_name</span><span class="p">(</span><span class="nx">expression</span><span class="p">)</span>
</span></span></code></pre></div><p>type_name 为类型，expression 为表达式。</p>
<h3 id="数值类型转换">数值类型转换<a hidden class="anchor" aria-hidden="true" href="#数值类型转换">#</a></h3>
<p>将整型转换为浮点型：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">a</span> <span class="kt">int</span> <span class="p">=</span> <span class="mi">10</span>
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">b</span> <span class="kt">float64</span> <span class="p">=</span> <span class="nb">float64</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span>
</span></span></code></pre></div><p>以下实例中将整型转化为浮点型，并计算结果，将结果赋值给浮点型变量：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">sum</span> <span class="kt">int</span> <span class="p">=</span> <span class="mi">17</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">count</span> <span class="kt">int</span> <span class="p">=</span> <span class="mi">5</span>
</span></span><span class="line"><span class="cl">   <span class="kd">var</span> <span class="nx">mean</span> <span class="kt">float32</span>
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">   <span class="nx">mean</span> <span class="p">=</span> <span class="nb">float32</span><span class="p">(</span><span class="nx">sum</span><span class="p">)</span><span class="o">/</span><span class="nb">float32</span><span class="p">(</span><span class="nx">count</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;mean 的值为: %f\n&#34;</span><span class="p">,</span><span class="nx">mean</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>输出结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">mean</span> <span class="nx">的值为</span><span class="p">:</span> <span class="mf">3.400000</span>
</span></span></code></pre></div><h3 id="字符串类型转换">字符串类型转换<a hidden class="anchor" aria-hidden="true" href="#字符串类型转换">#</a></h3>
<p>将一个字符串转换成另一个类型，可以使用以下语法：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">str</span> <span class="kt">string</span> <span class="p">=</span> <span class="s">&#34;10&#34;</span>
</span></span><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">num</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl"><span class="nx">num</span><span class="p">,</span> <span class="nx">_</span> <span class="p">=</span> <span class="nx">strconv</span><span class="p">.</span><span class="nf">Atoi</span><span class="p">(</span><span class="nx">str</span><span class="p">)</span>
</span></span></code></pre></div><p>以上代码将字符串变量 str 转换为整型变量 num。</p>
<p>注意，<strong>strconv.Atoi</strong> 函数返回两个值，第一个是转换后的整型值，第二个是可能发生的错误，我们可以使用空白标识符 _ 来忽略这个错误。</p>
<p>以下实例将字符串转换为整数</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;strconv&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">str</span> <span class="o">:=</span> <span class="s">&#34;123&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">num</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">strconv</span><span class="p">.</span><span class="nf">Atoi</span><span class="p">(</span><span class="nx">str</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;转换错误:&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;字符串 &#39;%s&#39; 转换为整数为：%d\n&#34;</span><span class="p">,</span> <span class="nx">str</span><span class="p">,</span> <span class="nx">num</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>输出结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">字符串</span> <span class="err">&#39;</span><span class="mi">123</span><span class="err">&#39;</span> <span class="nx">转换为整数为</span><span class="err">：</span><span class="mi">123</span>
</span></span></code></pre></div><p>将整数转换为字符串：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;strconv&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">num</span> <span class="o">:=</span> <span class="mi">123</span>
</span></span><span class="line"><span class="cl">    <span class="nx">str</span> <span class="o">:=</span> <span class="nx">strconv</span><span class="p">.</span><span class="nf">Itoa</span><span class="p">(</span><span class="nx">num</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;整数 %d  转换为字符串为：&#39;%s&#39;\n&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span class="nx">str</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>输出结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">整数</span> <span class="mi">123</span>  <span class="nx">转换为字符串为</span><span class="err">：&#39;</span><span class="mi">123</span><span class="err">&#39;</span>
</span></span></code></pre></div><p>将字符串转换为浮点数：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;strconv&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">str</span> <span class="o">:=</span> <span class="s">&#34;3.14&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">num</span><span class="p">,</span> <span class="nx">err</span> <span class="o">:=</span> <span class="nx">strconv</span><span class="p">.</span><span class="nf">ParseFloat</span><span class="p">(</span><span class="nx">str</span><span class="p">,</span> <span class="mi">64</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;转换错误:&#34;</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;字符串 &#39;%s&#39; 转为浮点型为：%f\n&#34;</span><span class="p">,</span> <span class="nx">str</span><span class="p">,</span> <span class="nx">num</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>输出结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">字符串</span> <span class="err">&#39;</span><span class="mf">3.14</span><span class="err">&#39;</span> <span class="nx">转为浮点型为</span><span class="err">：</span><span class="mf">3.140000</span>
</span></span></code></pre></div><p>将浮点数转换为字符串：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;strconv&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">num</span> <span class="o">:=</span> <span class="mf">3.14</span>
</span></span><span class="line"><span class="cl">    <span class="nx">str</span> <span class="o">:=</span> <span class="nx">strconv</span><span class="p">.</span><span class="nf">FormatFloat</span><span class="p">(</span><span class="nx">num</span><span class="p">,</span> <span class="sc">&#39;f&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">64</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;浮点数 %f 转为字符串为：&#39;%s&#39;\n&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span class="nx">str</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>输出结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">浮点数</span> <span class="mf">3.140000</span> <span class="nx">转为字符串为</span><span class="err">：&#39;</span><span class="mf">3.14</span><span class="err">&#39;</span>
</span></span></code></pre></div><p>go 不支持隐式转换类型，比如 :</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nx">a</span> <span class="kt">int64</span> <span class="p">=</span> <span class="mi">3</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nx">b</span> <span class="kt">int32</span>
</span></span><span class="line"><span class="cl">    <span class="nx">b</span> <span class="p">=</span> <span class="nx">a</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;b 为 : %d&#34;</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>此时会报错</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">cannot</span> <span class="nx">use</span> <span class="nf">a</span> <span class="p">(</span><span class="kd">type</span> <span class="kt">int64</span><span class="p">)</span> <span class="nx">as</span> <span class="kd">type</span> <span class="kt">int32</span> <span class="nx">in</span> <span class="nx">assignment</span>
</span></span><span class="line"><span class="cl"><span class="nx">cannot</span> <span class="nx">use</span> <span class="nf">b</span> <span class="p">(</span><span class="kd">type</span> <span class="kt">int32</span><span class="p">)</span> <span class="nx">as</span> <span class="kd">type</span> <span class="kt">string</span> <span class="nx">in</span> <span class="nx">argument</span> <span class="nx">to</span> <span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span>
</span></span></code></pre></div><p>但是如果改成 b = int32(a) 就不会报错了:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>  
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nx">a</span> <span class="kt">int64</span> <span class="p">=</span> <span class="mi">3</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nx">b</span> <span class="kt">int32</span>
</span></span><span class="line"><span class="cl">    <span class="nx">b</span> <span class="p">=</span> <span class="nb">int32</span><span class="p">(</span><span class="nx">a</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;b 为 : %d&#34;</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><h3 id="接口类型转换">接口类型转换<a hidden class="anchor" aria-hidden="true" href="#接口类型转换">#</a></h3>
<p>接口类型转换有两种情况**：类型断言<strong>和</strong>类型转换**。</p>
<h3 id="类型断言">类型断言<a hidden class="anchor" aria-hidden="true" href="#类型断言">#</a></h3>
<p>类型断言用于将接口类型转换为指定类型，其语法为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">value</span><span class="p">.(</span><span class="kd">type</span><span class="p">)</span> 
</span></span><span class="line"><span class="cl"><span class="nx">或者</span> 
</span></span><span class="line"><span class="cl"><span class="nx">value</span><span class="p">.(</span><span class="nx">T</span><span class="p">)</span>
</span></span></code></pre></div><p>其中 value 是接口类型的变量，type 或 T 是要转换成的类型。</p>
<p>如果类型断言成功，它将返回转换后的值和一个布尔值，表示转换是否成功。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nx">i</span> <span class="kd">interface</span><span class="p">{}</span> <span class="p">=</span> <span class="s">&#34;Hello, World&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nx">str</span><span class="p">,</span> <span class="nx">ok</span> <span class="o">:=</span> <span class="nx">i</span><span class="p">.(</span><span class="kt">string</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nx">ok</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;&#39;%s&#39; is a string\n&#34;</span><span class="p">,</span> <span class="nx">str</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;conversion failed&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>以上实例中，我们定义了一个接口类型变量 i，并将它赋值为字符串 &ldquo;Hello, World&rdquo;。然后，我们使用类型断言将 i  转换为字符串类型，并将转换后的值赋值给变量 str。最后，我们使用 ok  变量检查类型转换是否成功，如果成功，我们打印转换后的字符串；否则，我们打印转换失败的消息。</p>
<h3 id="类型转换">类型转换<a hidden class="anchor" aria-hidden="true" href="#类型转换">#</a></h3>
<p>类型转换用于将一个接口类型的值转换为另一个接口类型，其语法为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nf">T</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span>
</span></span></code></pre></div><p>T 是目标接口类型，value 是要转换的值。</p>
<p>在类型转换中，我们必须保证要转换的值和目标接口类型之间是兼容的，否则编译器会报错。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 定义一个接口 Writer
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">Writer</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nf">Write</span><span class="p">([]</span><span class="kt">byte</span><span class="p">)</span> <span class="p">(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 实现 Writer 接口的结构体 StringWriter
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">StringWriter</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">str</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 实现 Write 方法
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="p">(</span><span class="nx">sw</span> <span class="o">*</span><span class="nx">StringWriter</span><span class="p">)</span> <span class="nf">Write</span><span class="p">(</span><span class="nx">data</span> <span class="p">[]</span><span class="kt">byte</span><span class="p">)</span> <span class="p">(</span><span class="kt">int</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">sw</span><span class="p">.</span><span class="nx">str</span> <span class="o">+=</span> <span class="nb">string</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="nx">data</span><span class="p">),</span> <span class="kc">nil</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 创建一个 StringWriter 实例并赋值给 Writer 接口变量
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="kd">var</span> <span class="nx">w</span> <span class="nx">Writer</span> <span class="p">=</span> <span class="o">&amp;</span><span class="nx">StringWriter</span><span class="p">{}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// 将 Writer 接口类型转换为 StringWriter 类型
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">sw</span> <span class="o">:=</span> <span class="nx">w</span><span class="p">.(</span><span class="o">*</span><span class="nx">StringWriter</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// 修改 StringWriter 的字段
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">sw</span><span class="p">.</span><span class="nx">str</span> <span class="p">=</span> <span class="s">&#34;Hello, World&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">// 打印 StringWriter 的字段值
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">sw</span><span class="p">.</span><span class="nx">str</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p><strong>解析：</strong></p>
<ol>
<li><strong>定义接口和结构体</strong>：
<ul>
<li><code>Writer</code> 接口定义了 <code>Write</code> 方法。</li>
<li><code>StringWriter</code> 结构体实现了 <code>Write</code> 方法。</li>
</ul>
</li>
<li><strong>类型转换</strong>：
<ul>
<li>将 <code>StringWriter</code> 实例赋值给 <code>Writer</code> 接口变量 <code>w</code>。</li>
<li>使用 <code>w.(*StringWriter)</code> 将 <code>Writer</code> 接口类型转换为 <code>StringWriter</code> 类型。</li>
</ul>
</li>
<li><strong>访问字段</strong>：
<ul>
<li>修改 <code>StringWriter</code> 的字段 <code>str</code>，并打印其值。</li>
</ul>
</li>
</ol>
<h3 id="空接口类型">空接口类型<a hidden class="anchor" aria-hidden="true" href="#空接口类型">#</a></h3>
<p>空接口 interface{} 可以持有任何类型的值。在实际应用中，空接口经常被用来处理多种类型的值。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">printValue</span><span class="p">(</span><span class="nx">v</span> <span class="kd">interface</span><span class="p">{})</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">switch</span> <span class="nx">v</span> <span class="o">:=</span> <span class="nx">v</span><span class="p">.(</span><span class="kd">type</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">case</span> <span class="kt">int</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Integer:&#34;</span><span class="p">,</span> <span class="nx">v</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">case</span> <span class="kt">string</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;String:&#34;</span><span class="p">,</span> <span class="nx">v</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">default</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;Unknown type&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nf">printValue</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nf">printValue</span><span class="p">(</span><span class="s">&#34;hello&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nf">printValue</span><span class="p">(</span><span class="mf">3.14</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>在这个例子中，printValue 函数接受一个空接口类型的参数，并使用类型断言和类型选择来处理不同的类型。</p>
<h1 id="go-语言接口-interface">Go 语言接口 interface<a hidden class="anchor" aria-hidden="true" href="#go-语言接口-interface">#</a></h1>
<p>Go 语言提供了另外一种数据类型即接口，它把所有的具有共性的方法定义在一起，任何其他类型只要实现了这些方法就是实现了这个接口。</p>
<p>接口可以让我们将不同的类型绑定到一组公共的方法上，从而实现多态和灵活的设计。</p>
<p>Go 语言中的接口是隐式实现的，也就是说，如果一个类型实现了一个接口定义的所有方法，那么它就自动地实现了该接口。因此，我们可以通过将接口作为参数来实现对不同类型的调用，从而实现多态。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="cm">/* 定义接口 */</span>
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">interface_name</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="nx">method_name1</span> <span class="p">[</span><span class="nx">return_type</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">   <span class="nx">method_name2</span> <span class="p">[</span><span class="nx">return_type</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">   <span class="nx">method_name3</span> <span class="p">[</span><span class="nx">return_type</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">   <span class="o">...</span>
</span></span><span class="line"><span class="cl">   <span class="nx">method_namen</span> <span class="p">[</span><span class="nx">return_type</span><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/* 定义结构体 */</span>
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">struct_name</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="cm">/* variables */</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="cm">/* 实现接口方法 */</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">struct_name_variable</span> <span class="nx">struct_name</span><span class="p">)</span> <span class="nf">method_name1</span><span class="p">()</span> <span class="p">[</span><span class="nx">return_type</span><span class="p">]</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="cm">/* 方法实现 */</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="o">...</span>
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">struct_name_variable</span> <span class="nx">struct_name</span><span class="p">)</span> <span class="nf">method_namen</span><span class="p">()</span> <span class="p">[</span><span class="nx">return_type</span><span class="p">]</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="cm">/* 方法实现*/</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>接口的使用：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Phone</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nf">call</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">NokiaPhone</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">nokiaPhone</span> <span class="nx">NokiaPhone</span><span class="p">)</span> <span class="nf">call</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;I am Nokia, I can call you!&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">IPhone</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">iPhone</span> <span class="nx">IPhone</span><span class="p">)</span> <span class="nf">call</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;I am iPhone, I can call you!&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nx">phone</span> <span class="nx">Phone</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">phone</span> <span class="p">=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">NokiaPhone</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">phone</span><span class="p">.</span><span class="nf">call</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">phone</span> <span class="p">=</span> <span class="nb">new</span><span class="p">(</span><span class="nx">IPhone</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">phone</span><span class="p">.</span><span class="nf">call</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>在上面的例子中，我们定义了一个接口 <strong>Phone</strong>，接口里面有一个方法 call()。然后我们在 <strong>main</strong> 函数里面定义了一个 <strong>Phone</strong> 类型变量，并分别为之赋值为 <strong>NokiaPhone</strong> 和 <strong>IPhone</strong>。然后调用 call() 方法，输出结果如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">I</span> <span class="nx">am</span> <span class="nx">Nokia</span><span class="p">,</span> <span class="nx">I</span> <span class="nx">can</span> <span class="nx">call</span> <span class="nx">you</span><span class="p">!</span>
</span></span><span class="line"><span class="cl"><span class="nx">I</span> <span class="nx">am</span> <span class="nx">iPhone</span><span class="p">,</span> <span class="nx">I</span> <span class="nx">can</span> <span class="nx">call</span> <span class="nx">you</span><span class="p">!</span>
</span></span></code></pre></div><p>第二个接口实例：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Shape</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nf">area</span><span class="p">()</span> <span class="kt">float64</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Rectangle</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">width</span>  <span class="kt">float64</span>
</span></span><span class="line"><span class="cl">    <span class="nx">height</span> <span class="kt">float64</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">r</span> <span class="nx">Rectangle</span><span class="p">)</span> <span class="nf">area</span><span class="p">()</span> <span class="kt">float64</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">r</span><span class="p">.</span><span class="nx">width</span> <span class="o">*</span> <span class="nx">r</span><span class="p">.</span><span class="nx">height</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">type</span> <span class="nx">Circle</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">radius</span> <span class="kt">float64</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="p">(</span><span class="nx">c</span> <span class="nx">Circle</span><span class="p">)</span> <span class="nf">area</span><span class="p">()</span> <span class="kt">float64</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="mf">3.14</span> <span class="o">*</span> <span class="nx">c</span><span class="p">.</span><span class="nx">radius</span> <span class="o">*</span> <span class="nx">c</span><span class="p">.</span><span class="nx">radius</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="kd">var</span> <span class="nx">s</span> <span class="nx">Shape</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">s</span> <span class="p">=</span> <span class="nx">Rectangle</span><span class="p">{</span><span class="nx">width</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="nx">height</span><span class="p">:</span> <span class="mi">5</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;矩形面积: %f\n&#34;</span><span class="p">,</span> <span class="nx">s</span><span class="p">.</span><span class="nf">area</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="nx">s</span> <span class="p">=</span> <span class="nx">Circle</span><span class="p">{</span><span class="nx">radius</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Printf</span><span class="p">(</span><span class="s">&#34;圆形面积: %f\n&#34;</span><span class="p">,</span> <span class="nx">s</span><span class="p">.</span><span class="nf">area</span><span class="p">())</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>以上实例中，我们定义了一个 Shape 接口，它定义了一个方法 area()，该方法返回一个 float64  类型的面积值。然后，我们定义了两个结构体 Rectangle 和 Circle，它们分别实现了 Shape 接口的 area() 方法。在  main() 函数中，我们首先定义了一个 Shape 类型的变量 s，然后分别将 Rectangle 和 Circle  类型的实例赋值给它，并通过 area() 方法计算它们的面积并打印出来，输出结果如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">矩形面积</span><span class="p">:</span> <span class="mf">50.000000</span>
</span></span><span class="line"><span class="cl"><span class="nx">圆形面积</span><span class="p">:</span> <span class="mf">28.260000</span>
</span></span></code></pre></div><p>需要注意的是，接口类型变量可以存储任何实现了该接口的类型的值。在示例中，我们将 Rectangle 和 Circle 类型的实例都赋值给了 Shape 类型的变量 s，并通过 area() 方法调用它们的面积计算方法。</p>
<h1 id="go-错误处理">Go 错误处理<a hidden class="anchor" aria-hidden="true" href="#go-错误处理">#</a></h1>
<p>Go 语言通过内置的错误接口提供了非常简单的错误处理机制。</p>
<p>error 类型是一个接口类型，这是它的定义：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">type</span> <span class="kt">error</span> <span class="kd">interface</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nf">Error</span><span class="p">()</span> <span class="kt">string</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>我们可以在编码中通过实现 error 接口类型来生成错误信息。</p>
<p>函数通常在最后的返回值中返回错误信息。使用 errors.New 可返回一个错误信息：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">Sqrt</span><span class="p">(</span><span class="nx">f</span> <span class="kt">float64</span><span class="p">)</span> <span class="p">(</span><span class="kt">float64</span><span class="p">,</span> <span class="kt">error</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nx">f</span> <span class="p">&lt;</span> <span class="mi">0</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">errors</span><span class="p">.</span><span class="nf">New</span><span class="p">(</span><span class="s">&#34;math: square root of negative number&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 实现
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span></code></pre></div><p>在下面的例子中，我们在调用 Sqrt 的时候传递的一个负数，然后就得到了 non-nil 的 error 对象，将此对象与 nil  比较，结果为 true，所以 fmt.Println(fmt 包在处理 error 时会调用 Error  方法)被调用，以输出错误，请看下面调用的示例代码：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">result</span><span class="p">,</span> <span class="nx">err</span><span class="o">:=</span> <span class="nf">Sqrt</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="nx">err</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">   <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">err</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>实例</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 定义一个 DivideError 结构
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">type</span> <span class="nx">DivideError</span> <span class="kd">struct</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">dividee</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl">    <span class="nx">divider</span> <span class="kt">int</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 实现 `error` 接口
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="p">(</span><span class="nx">de</span> <span class="o">*</span><span class="nx">DivideError</span><span class="p">)</span> <span class="nf">Error</span><span class="p">()</span> <span class="kt">string</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">strFormat</span> <span class="o">:=</span> <span class="s">`
</span></span></span><span class="line"><span class="cl"><span class="s">    Cannot proceed, the divider is zero.
</span></span></span><span class="line"><span class="cl"><span class="s">    dividee: %d
</span></span></span><span class="line"><span class="cl"><span class="s">    divider: 0
</span></span></span><span class="line"><span class="cl"><span class="s">`</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nx">fmt</span><span class="p">.</span><span class="nf">Sprintf</span><span class="p">(</span><span class="nx">strFormat</span><span class="p">,</span> <span class="nx">de</span><span class="p">.</span><span class="nx">dividee</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">// 定义 `int` 类型除法运算的函数
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="kd">func</span> <span class="nf">Divide</span><span class="p">(</span><span class="nx">varDividee</span> <span class="kt">int</span><span class="p">,</span> <span class="nx">varDivider</span> <span class="kt">int</span><span class="p">)</span> <span class="p">(</span><span class="nx">result</span> <span class="kt">int</span><span class="p">,</span> <span class="nx">errorMsg</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="nx">varDivider</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">dData</span> <span class="o">:=</span> <span class="nx">DivideError</span><span class="p">{</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">dividee</span><span class="p">:</span> <span class="nx">varDividee</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                    <span class="nx">divider</span><span class="p">:</span> <span class="nx">varDivider</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="nx">errorMsg</span> <span class="p">=</span> <span class="nx">dData</span><span class="p">.</span><span class="nf">Error</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span> <span class="nx">varDividee</span> <span class="o">/</span> <span class="nx">varDivider</span><span class="p">,</span> <span class="s">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="c1">// 正常情况
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="nx">result</span><span class="p">,</span> <span class="nx">errorMsg</span> <span class="o">:=</span> <span class="nf">Divide</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span> <span class="nx">errorMsg</span> <span class="o">==</span> <span class="s">&#34;&#34;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;100/10 = &#34;</span><span class="p">,</span> <span class="nx">result</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 当除数为零的时候会返回错误信息
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>    <span class="k">if</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">errorMsg</span> <span class="o">:=</span> <span class="nf">Divide</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span> <span class="nx">errorMsg</span> <span class="o">!=</span> <span class="s">&#34;&#34;</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;errorMsg is: &#34;</span><span class="p">,</span> <span class="nx">errorMsg</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>输出结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="mi">100</span><span class="o">/</span><span class="mi">10</span> <span class="p">=</span>  <span class="mi">10</span>
</span></span><span class="line"><span class="cl"><span class="nx">errorMsg</span> <span class="nx">is</span><span class="p">:</span>  
</span></span><span class="line"><span class="cl">    <span class="nx">Cannot</span> <span class="nx">proceed</span><span class="p">,</span> <span class="nx">the</span> <span class="nx">divider</span> <span class="nx">is</span> <span class="nx">zero</span><span class="p">.</span>
</span></span><span class="line"><span class="cl">    <span class="nx">dividee</span><span class="p">:</span> <span class="mi">100</span>
</span></span><span class="line"><span class="cl">    <span class="nx">divider</span><span class="p">:</span> <span class="mi">0</span>
</span></span></code></pre></div><h1 id="go-并发">Go 并发<a hidden class="anchor" aria-hidden="true" href="#go-并发">#</a></h1>
<p>并发是指程序同时执行多个任务的能力</p>
<p>Go 语言支持并发，通过 goroutines 和 channels 提供了一种简洁且高效的方式来实现并发。</p>
<h2 id="goroutine">goroutine<a hidden class="anchor" aria-hidden="true" href="#goroutine">#</a></h2>
<p>goroutine 是轻量级线程，goroutine 的调度是由 Golang 运行时进行管理的。</p>
<p>goroutine 语法格式：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="k">go</span> <span class="nx">函数名</span><span class="p">(</span> <span class="nx">参数列表</span> <span class="p">)</span>
</span></span></code></pre></div><p>例如：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="k">go</span> <span class="nf">f</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">)</span>
</span></span></code></pre></div><p>开启一个新的 goroutine:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nf">f</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">z</span><span class="p">)</span>
</span></span></code></pre></div><p>Go 允许使用 go 语句开启一个新的运行期线程， 即 goroutine，以一个不同的、新创建的 goroutine 来执行一个函数。 同一个程序中的所有 goroutine 共享同一个地址空间。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="s">&#34;time&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">say</span><span class="p">(</span><span class="nx">s</span> <span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">5</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="mi">100</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">go</span> <span class="nf">say</span><span class="p">(</span><span class="s">&#34;world&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nf">say</span><span class="p">(</span><span class="s">&#34;hello&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>执行以上代码，你会看到输出的 hello 和 world 是没有固定先后顺序。因为它们是两个 goroutine 在执行：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">world</span>
</span></span><span class="line"><span class="cl"><span class="nx">hello</span>
</span></span><span class="line"><span class="cl"><span class="nx">hello</span>
</span></span><span class="line"><span class="cl"><span class="nx">world</span>
</span></span><span class="line"><span class="cl"><span class="nx">world</span>
</span></span><span class="line"><span class="cl"><span class="nx">hello</span>
</span></span><span class="line"><span class="cl"><span class="nx">hello</span>
</span></span><span class="line"><span class="cl"><span class="nx">world</span>
</span></span><span class="line"><span class="cl"><span class="nx">world</span>
</span></span><span class="line"><span class="cl"><span class="nx">hello</span>
</span></span></code></pre></div><h2 id="通道channel-1">通道（channel）<a hidden class="anchor" aria-hidden="true" href="#通道channel-1">#</a></h2>
<p>通道（channel）是用来传递数据的一个数据结构。</p>
<p>通道可用于两个 goroutine 之间通过传递一个指定类型的值来同步运行和通讯。</p>
<p>使用 <code>make</code> 函数创建一个 channel，使用 <code>&lt;-</code> 操作符发送和接收数据。如果未指定方向，则为双向通道。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">ch</span> <span class="o">&lt;-</span> <span class="nx">v</span>    <span class="c1">// 把 v 发送到通道 ch
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">v</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">ch</span>  <span class="c1">// 从 ch 接收数据
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>           <span class="c1">// 并把值赋给 v
</span></span></span></code></pre></div><p>声明一个通道很简单，我们使用chan关键字即可，通道在使用前必须先创建：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">ch</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="kt">int</span><span class="p">)</span>
</span></span></code></pre></div><p><strong>注意</strong>：默认情况下，通道是不带缓冲区的。发送端发送数据，同时必须有接收端相应的接收数据。</p>
<p>以下实例通过两个 goroutine 来计算数字之和，在 goroutine 完成计算后，它会计算两个结果的和：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">sum</span><span class="p">(</span><span class="nx">s</span> <span class="p">[]</span><span class="kt">int</span><span class="p">,</span> <span class="nx">c</span> <span class="kd">chan</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">sum</span> <span class="o">:=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="nx">_</span><span class="p">,</span> <span class="nx">v</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">s</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">sum</span> <span class="o">+=</span> <span class="nx">v</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="nx">c</span> <span class="o">&lt;-</span> <span class="nx">sum</span> <span class="c1">// 把 sum 发送到通道 c
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">s</span> <span class="o">:=</span> <span class="p">[]</span><span class="kt">int</span><span class="p">{</span><span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="o">-</span><span class="mi">9</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">0</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="nx">c</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="kt">int</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">go</span> <span class="nf">sum</span><span class="p">(</span><span class="nx">s</span><span class="p">[:</span><span class="nb">len</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">],</span> <span class="nx">c</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">go</span> <span class="nf">sum</span><span class="p">(</span><span class="nx">s</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="nx">s</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">:],</span> <span class="nx">c</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">c</span><span class="p">,</span> <span class="o">&lt;-</span><span class="nx">c</span> <span class="c1">// 从通道 c 中接收
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">x</span><span class="o">+</span><span class="nx">y</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>输出结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="o">-</span><span class="mi">5</span> <span class="mi">17</span> <span class="mi">12</span>
</span></span></code></pre></div><h3 id="通道缓冲区">通道缓冲区<a hidden class="anchor" aria-hidden="true" href="#通道缓冲区">#</a></h3>
<p>通道可以设置缓冲区，通过 make 的第二个参数指定缓冲区大小：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">ch</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="kt">int</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</span></span></code></pre></div><p>带缓冲区的通道允许发送端的数据发送和接收端的数据获取处于异步状态，就是说发送端发送的数据可以放在缓冲区里面，可以等待接收端去获取数据，而不是立刻需要接收端去获取数据。</p>
<p>不过由于缓冲区的大小是有限的，所以还是必须有接收端来接收数据的，否则缓冲区一满，数据发送端就无法再发送数据了。</p>
<p><strong>注意</strong>：如果通道不带缓冲，发送方会阻塞直到接收方从通道中接收了值。如果通道带缓冲，发送方则会阻塞直到发送的值被拷贝到缓冲区内；如果缓冲区已满，则意味着需要等待直到某个接收方获取到一个值。接收方在有值可以接收之前会一直阻塞。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="c1">// 这里我们定义了一个可以存储整数类型的带缓冲通道
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">// 缓冲区大小为2
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">ch</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="kt">int</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// 因为 ch 是带缓冲的通道，我们可以同时发送两个数据
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">// 而不用立刻需要去同步读取数据
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">ch</span> <span class="o">&lt;-</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">        <span class="nx">ch</span> <span class="o">&lt;-</span> <span class="mi">2</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="c1">// 获取这两个数据
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="o">&lt;-</span><span class="nx">ch</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="o">&lt;-</span><span class="nx">ch</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>执行输出结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="mi">1</span>
</span></span><span class="line"><span class="cl"><span class="mi">2</span>
</span></span></code></pre></div><h3 id="go-遍历通道与关闭通道">Go 遍历通道与关闭通道<a hidden class="anchor" aria-hidden="true" href="#go-遍历通道与关闭通道">#</a></h3>
<p>Go 通过 range 关键字来实现遍历读取到的数据，类似于与数组或切片。格式如下：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="nx">v</span><span class="p">,</span> <span class="nx">ok</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">ch</span>
</span></span></code></pre></div><p>如果通道接收不到数据后 ok 就为 false，这时通道就可以使用 close() 函数来关闭。</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">fibonacci</span><span class="p">(</span><span class="nx">n</span> <span class="kt">int</span><span class="p">,</span> <span class="nx">c</span> <span class="kd">chan</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="nx">n</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">c</span> <span class="o">&lt;-</span> <span class="nx">x</span>
</span></span><span class="line"><span class="cl">                <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span> <span class="p">=</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">x</span><span class="o">+</span><span class="nx">y</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="nb">close</span><span class="p">(</span><span class="nx">c</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="nx">c</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="kt">int</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">go</span> <span class="nf">fibonacci</span><span class="p">(</span><span class="nb">cap</span><span class="p">(</span><span class="nx">c</span><span class="p">),</span> <span class="nx">c</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="c1">// range 函数遍历每个从通道接收到的数据，因为 c 在发送完 10 个
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">// 数据之后就关闭了通道，所以这里我们 range 函数在接收到 10 个数据
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">// 之后就结束了。如果上面的 c 通道不关闭，那么 range 函数就不
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="c1">// 会结束，从而在接收第 11 个数据的时候就阻塞了。
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>        <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="k">range</span> <span class="nx">c</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="nx">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>输出结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="mi">1</span>
</span></span><span class="line"><span class="cl"><span class="mi">1</span>
</span></span><span class="line"><span class="cl"><span class="mi">2</span>
</span></span><span class="line"><span class="cl"><span class="mi">3</span>
</span></span><span class="line"><span class="cl"><span class="mi">5</span>
</span></span><span class="line"><span class="cl"><span class="mi">8</span>
</span></span><span class="line"><span class="cl"><span class="mi">13</span>
</span></span><span class="line"><span class="cl"><span class="mi">21</span>
</span></span><span class="line"><span class="cl"><span class="mi">34</span>
</span></span></code></pre></div><h3 id="select-语句">Select 语句<a hidden class="anchor" aria-hidden="true" href="#select-语句">#</a></h3>
<p><code>select</code> 语句使得一个 goroutine 可以等待多个通信操作。<code>select</code> 会阻塞，直到其中的某个 case 可以继续执行：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="kn">package</span> <span class="nx">main</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="s">&#34;fmt&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">fibonacci</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span> <span class="nx">quit</span> <span class="kd">chan</span> <span class="kt">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">select</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">case</span> <span class="nx">c</span> <span class="o">&lt;-</span> <span class="nx">x</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span> <span class="p">=</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">x</span><span class="o">+</span><span class="nx">y</span>
</span></span><span class="line"><span class="cl">        <span class="k">case</span> <span class="o">&lt;-</span><span class="nx">quit</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="s">&#34;quit&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kd">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="nx">c</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="kt">int</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nx">quit</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span class="kd">chan</span> <span class="kt">int</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">go</span> <span class="kd">func</span><span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="nx">i</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="p">&lt;</span> <span class="mi">10</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span class="o">&lt;-</span><span class="nx">c</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="nx">quit</span> <span class="o">&lt;-</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">    <span class="p">}()</span>
</span></span><span class="line"><span class="cl">    <span class="nf">fibonacci</span><span class="p">(</span><span class="nx">c</span><span class="p">,</span> <span class="nx">quit</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p>以上代码中中，<code>fibonacci</code> goroutine 在 channel <code>c</code> 上发送斐波那契数列，当接收到 <code>quit</code> channel 的信号时退出。</p>
<p>执行输出结果为：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-go" data-lang="go"><span class="line"><span class="cl"><span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="mi">1</span>
</span></span><span class="line"><span class="cl"><span class="mi">1</span>
</span></span><span class="line"><span class="cl"><span class="mi">2</span>
</span></span><span class="line"><span class="cl"><span class="mi">3</span>
</span></span><span class="line"><span class="cl"><span class="mi">5</span>
</span></span><span class="line"><span class="cl"><span class="mi">8</span>
</span></span><span class="line"><span class="cl"><span class="mi">13</span>
</span></span><span class="line"><span class="cl"><span class="mi">21</span>
</span></span><span class="line"><span class="cl"><span class="mi">34</span>
</span></span><span class="line"><span class="cl"><span class="nx">quit</span>
</span></span></code></pre></div><h3 id="并发编程小结">并发编程小结<a hidden class="anchor" aria-hidden="true" href="#并发编程小结">#</a></h3>
<ul>
<li><strong>Goroutines</strong> 是轻量级线程，使用 <code>go</code> 关键字启动。</li>
<li><strong>Channels</strong> 用于 goroutines 之间的通信。</li>
<li><strong>Select 语句</strong> 用于等待多个 channel 操作。</li>
</ul>
<p><strong>链接:</strong> <a href="https://www.runoob.com/go/go-concurrent.html">菜鸟教程相关笔记补充</a></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="//localhost:1313/tags/go/">Go</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="//localhost:1313/posts/c&#43;&#43;%E8%AF%AD%E8%A8%80/">
    <span class="title">« 上一页</span>
    <br>
    <span>C&#43;&#43;基础</span>
  </a>
  <a class="next" href="//localhost:1313/posts/vim%E6%93%8D%E4%BD%9C%E6%89%8B%E5%86%8C/">
    <span class="title">下一页 »</span>
    <br>
    <span>Vim操作手册</span>
  </a>
</nav>

  </footer><div id="tw-comment"></div>
<script>
    
    const getStoredTheme = () => localStorage.getItem("pref-theme") === "light" ? "light" : "dark";
    const setGiscusTheme = () => {
        const sendMessage = (message) => {
            const iframe = document.querySelector('iframe.giscus-frame');
            if (iframe) {
                iframe.contentWindow.postMessage({giscus: message}, 'https://giscus.app');
            }
        }
        sendMessage({setConfig: {theme: getStoredTheme()}})
    }

    document.addEventListener("DOMContentLoaded", () => {
        const giscusAttributes = {
            "src": "https://giscus.app/client.js",
            "data-repo": "steamdk\/steamdk.github.io",
            "data-repo-id": "R_kgDONN_Y2g",
            "data-category": "Announcements",
            "data-category-id": "DIC_kwDONN_Y2s4CkVh9",
            "data-mapping": "pathname",
            "data-strict": "0",
            "data-reactions-enabled": "1",
            "data-emit-metadata": "0",
            "data-input-position": "bottom",
            "data-theme": getStoredTheme(),
            "data-lang": "zh-CN",
            "data-loading": "lazy",
            "crossorigin": "anonymous",
        };

        
        const giscusScript = document.createElement("script");
        Object.entries(giscusAttributes).forEach(
                ([key, value]) => giscusScript.setAttribute(key, value));
        document.querySelector("#tw-comment").appendChild(giscusScript);

        
        const themeSwitcher = document.querySelector("#theme-toggle");
        if (themeSwitcher) {
            themeSwitcher.addEventListener("click", setGiscusTheme);
        }
        const themeFloatSwitcher = document.querySelector("#theme-toggle-float");
        if (themeFloatSwitcher) {
            themeFloatSwitcher.addEventListener("click", setGiscusTheme);
        }
    });
</script>
</article>
    </main>
    
<footer class="footer">
        <span><a href="https://github.com/steamdk/steamdk.github.io">©2024 项目介绍</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>


<script src="https://cdnjs.cloudflare.com/ajax/libs/medium-zoom/1.1.0/medium-zoom.min.js"
  integrity="sha512-9ZKhgaFdKlsELap/dGw3Iaz5Bj+Las0XXZiRKYZaN9QArg6FtkD5rULNmNH4rTCTFxjPiBGr3MX8smRADRorDA=="
  crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script>
  var OSName = "unknown";
  var navApp = navigator.userAgent.toLowerCase();
  switch (true) {
    case (navApp.indexOf("win") != -1):
      OSName = "windows";
      break;
    case (navApp.indexOf("mac") != -1):
      OSName = "apple";
      break;
    case (navApp.indexOf("linux") != -1):
      OSName = "linux";
      break;
    case (navApp.indexOf("x11") != -1):
      OSName = "unix";
      break;
  }

  const images = Array.from(document.querySelectorAll(".post-content img"));
  images.forEach(img => {
    mediumZoom(img, {
      margin: 1,    
      
      container: null,  
      template: null,  
      
    });
  });

  if (OSName == "windows") {
    document.body.className += ' win11'
  }
</script>






<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = '复制';

        function copyingDone() {
            copybutton.innerHTML = '已复制！';
            setTimeout(() => {
                copybutton.innerHTML = '复制';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
